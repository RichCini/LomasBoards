            l286cm5.lst     LDP	REV 1.0 10/30/85		Sourcer	v7.00   13-Oct-22  11:12 pm   Page 1


				PAGE  59,132

				;€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€
				;€€					                                 €€
				;€€				L286CM5	                                 €€
				;€€					                                 €€
				;€€      Created:			                                 €€
				;€€      Code type: zero start		                                 €€
				;€€      Passes:    5          Analysis	Options on: QRS                  €€
				;€€					                                 €€
				;€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€

				target		EQU   'M6'                      ; Target assembler: MASM-6.11

				include  srmacros.inc

				.286c


				; The following equates show data references outside the range of the program.

     = 0000			vector_0h_off	equ	0			; (0000:0000=108Ah)
     = 0004			vector_1h_off	equ	4			; (0000:0004=6F4h)
     = 0020			vector_8h_off	equ	20h			; (0000:0020=1875h)
     = 0022			vector_8h_seg	equ	22h			; (0000:0022=0BADh)
     = 0024			vector_9h_off	equ	24h			; (0000:0024=1923h)
     = 0026			vector_9h_seg	equ	26h			; (0000:0026=0BADh)
     = 0040			vectr_10h_off	equ	40h			; (0000:0040=32A7h)
     = 0042			vectr_10h_seg	equ	42h			; (0000:0042=1986h)
     = 0044			vectr_11h_off	equ	44h			; (0000:0044=6E33h)
     = 0046			vectr_11h_seg	equ	46h			; (0000:0046=0F000h)
     = 0048			vectr_12h_off	equ	48h			; (0000:0048=6E3Dh)
     = 004A			vectr_12h_seg	equ	4Ah			; (0000:004A=0F000h)
     = 004C			vectr_13h_off	equ	4Ch			; (0000:004C=18C5h)
     = 004E			vectr_13h_seg	equ	4Eh			; (0000:004E=0BADh)
     = 0050			data_1e		equ	50h			; (0000:0050=0A0E2h)
     = 0052			data_2e		equ	52h			; (0000:0052=0F000h)
     = 0058			data_3e		equ	58h			; (0000:0058=0A5A5h)
     = 005A			data_4e		equ	5Ah			; (0000:005A=0F000h)
     = 005C			vectr_17h_off	equ	5Ch			; (0000:005C=0ABEAh)
     = 005E			vectr_17h_seg	equ	5Eh			; (0000:005E=0F000h)
     = 0060			vectr_18h_off	equ	60h			; (0000:0060=7370h)
     = 0062			vectr_18h_seg	equ	62h			; (0000:0062=0F000h)
     = 0064			vectr_19h_off	equ	64h			; (0000:0064=1990h)
     = 0066			vectr_19h_seg	equ	66h			; (0000:0066=0BADh)
     = 0068			data_5e		equ	68h			; (0000:0068=0AC96h)
     = 006A			data_6e		equ	6Ah			; (0000:006A=0F000h)
     = 006C			data_7e		equ	6Ch			; (0000:006C=6EEh)
     = 006E			data_8e		equ	6Eh			; (0000:006E=70h)
     = 0070			data_9e		equ	70h			; (0000:0070=0FF53h)
     = 0072			data_10e	equ	72h			; (0000:0072=0F000h)
     = 0074			video_hdw_off	equ	74h			; (0000:0074=6D68h)
     = 0076			video_hdw_seg	equ	76h			; (0000:0076=0F000h)
     = 0078			disk_parm_off	equ	78h			; (0000:0078=522h)
     = 007A			disk_parm_seg	equ	7Ah			; (0000:007A=0)
     = 007C			graph_tbl_off	equ	7Ch			; (0000:007C=1333h)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 2

     = 7C00			data_11e	equ	7C00h			;*(0000:7C00=0D0h)
     = 0000			@rs232_port_1	equ	0			; (0040:0000=3F8h)
     = 0008			@prn_port_1	equ	8			; (0040:0008=378h)
     = 0010			equip_bits	equ	10h			; (0040:0010=4427h)
     = 0013			main_ram_size	equ	13h			; (0040:0013=280h)
     = 0017			keybd_flags_1	equ	17h			; (0040:0017=0)
     = 0018			keybd_flags_2	equ	18h			; (0040:0018=0)
     = 0019			keybd_alt_num	equ	19h			; (0040:0019=0)
     = 001A			keybd_q_head	equ	1Ah			; (0040:001A=32h)
     = 001C			keybd_q_tail	equ	1Ch			; (0040:001C=32h)
     = 003E			dsk_recal_stat	equ	3Eh			; (0040:003E=1)
     = 003F			dsk_motor_stat	equ	3Fh			; (0040:003F=0)
     = 0040			dsk_motor_tmr	equ	40h			; (0040:0040=4Ah)
     = 0041			dsk_ret_code	equ	41h			; (0040:0041=0)
     = 0042			dsk_status_1	equ	42h			; (0040:0042=4)
     = 0045			dsk_status_4	equ	45h			; (0040:0045=0)
     = 0047			dsk_status_6	equ	47h			; (0040:0047=10h)
     = 0049			video_mode	equ	49h			; (0040:0049=3)
     = 004A			video_columns	equ	4Ah			; (0040:004A=50h)
     = 004C			video_buf_siz	equ	4Ch			; (0040:004C=1000h)
     = 004E			video_page_off	equ	4Eh			; (0040:004E=0)
     = 0050			vid_curs_pos0	equ	50h			; (0040:0050=184Fh)
     = 0060			vid_curs_mode	equ	60h			; (0040:0060=2000h)
     = 0062			video_page	equ	62h			; (0040:0062=0)
     = 0063			@video_port	equ	63h			; (0040:0063=3D4h)
     = 0065			video_mode_reg	equ	65h			; (0040:0065=0)
     = 0066			video_color	equ	66h			; (0040:0066=0)
     = 0067			@gen_use_ptr	equ	67h			; (0040:0067=3)
     = 0069			@gen_use_seg	equ	69h			; (0040:0069=0C000h)
     = 006B			gen_int_occured	equ	6Bh			; (0040:006B=0)
     = 006C			timer_low	equ	6Ch			; (0040:006C=342Dh)
     = 006E			timer_hi	equ	6Eh			; (0040:006E=17h)
     = 0070			timer_rolled	equ	70h			; (0040:0070=0)
     = 0074			hdsk_status_1	equ	74h			; (0040:0074=0)
     = 0078			prn_timeout_1	equ	78h			; (0040:0078=0)
     = 0000			data_12e	equ	0			;*(1000:0000=6Fh)
     = 03FE			data_13e	equ	3FEh			;*(1040:03FE=0)
     = 2000			data_75e	equ	2000h			;*(9DFD:2000=0)
     = 2001			data_76e	equ	2001h			;*(9DFD:2001=0)
     = 0049			data_77e	equ	49h			; (C000:0049=61h)
     = 16F1			data_78e	equ	16F1h			; (C000:16F1=0)

				seg_a		segment	byte public
						assume	cs:seg_a, ds:seg_a


						org	0

				l286cm5		proc	far

9DFD:0000			start::
9DFD:0000  4C					dec	sp
9DFD:0001  44					inc	sp
9DFD:0002  50					push	ax
9DFD:0003  20 52 45				and	[bp+si+45h],dl
9DFD:0006  56					push	si
9DFD:0007  20 31				and	[bx+di],dh
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 3

9DFD:0009  2E: 30 20				xor	cs:[bx+si],ah
9DFD:000C  31 30				xor	[bx+si],si
9DFD:000E  2F					das				; Decimal adjust
9DFD:000F  33 30				xor	si,[bx+si]
9DFD:0011  2F					das				; Decimal adjust
9DFD:0012  38 35				cmp	[di],dh
9DFD:0014  0A 0D				or	cl,[di]
9DFD:0016  00 EB				add	bl,ch
9DFD:0018  00 FA				add	dl,bh
9DFD:001A  BA FFFC				mov	dx,0FFFCh
9DFD:001D  B0 17				mov	al,17h
9DFD:001F  EE					out	dx,al			; port 0FFFCh ??i/o non-standard
9DFD:0020  BA FFFE				mov	dx,0FFFEh
9DFD:0023  B0 08				mov	al,8
9DFD:0025  EE					out	dx,al			; port 0FFFEh ??i/o non-standard
9DFD:0026  B0 0F				mov	al,0Fh
9DFD:0028  EE					out	dx,al			; port 0FFFEh ??i/o non-standard
9DFD:0029  B0 FF				mov	al,0FFh
9DFD:002B  EE					out	dx,al			; port 0FFFEh ??i/o non-standard
9DFD:002C  FC					cld				; Clear direction
9DFD:002D  33 DB				xor	bx,bx			; Zero register
9DFD:002F  8E DB				mov	ds,bx
9DFD:0031  8E C3				mov	es,bx
9DFD:0033  BA FFFE				mov	dx,0FFFEh
9DFD:0036  B0 FF				mov	al,0FFh
9DFD:0038  EE					out	dx,al			; port 0FFFEh ??i/o non-standard
9DFD:0039  B8 5555				mov	ax,5555h
9DFD:003C			loc_2::						;  xref 9DFD:005A
9DFD:003C ˙B9 8000				mov	cx,8000h
9DFD:003F  8B F3				mov	si,bx
9DFD:0041  8B FB				mov	di,bx
9DFD:0043  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
9DFD:0045  B9 8000				mov	cx,8000h
9DFD:0048  F3/ AF				repe	scasw			; Rep zf=1+cx >0 Scan es:[di] for ax
9DFD:004A  E3 06				jcxz	loc_3			; Jump if cx=0
9DFD:004C  BA 0066				mov	dx,66h
9DFD:004F  E9 04F9				jmp	loc_61			; (054B)
9DFD:0052			loc_3::						;  xref 9DFD:004A
9DFD:0052  3D AAAA				cmp	ax,0AAAAh
9DFD:0055  74 22				je	loc_4			; Jump if equal
9DFD:0057  B8 AAAA				mov	ax,0AAAAh
9DFD:005A  EB E0				jmp	short loc_2		; (003C)
							                        ;* No entry point to code
9DFD:005C  B8 0000				mov	ax,0
9DFD:005F  B9 8000				mov	cx,8000h
9DFD:0062  8B F8				mov	di,ax
9DFD:0064  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
9DFD:0066  B8 054A				mov	ax,54Ah
9DFD:0069 ˙BE 0000				mov	si,vector_0h_off	; (0000:0000=8Ah)
9DFD:006C  89 04				mov	[si],ax
9DFD:006E  8C 4C 02				mov	[si+2],cs
9DFD:0071 ˙BF 0004				mov	di,vector_1h_off	; (0000:0004=0F4h)
9DFD:0074  B9 01FE				mov	cx,1FEh
9DFD:0077  F3/ A5				rep	movsw			; Rep when cx >0 Mov [si] to es:[di]
9DFD:0079			loc_4::						;  xref 9DFD:0055
9DFD:0079  FA					cli				; Disable interrupts
9DFD:007A  B8 0030				mov	ax,30h
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 4

9DFD:007D  8E D0				mov	ss,ax
9DFD:007F  BC 0100				mov	sp,100h
9DFD:0082  E8 0EC9				call	sub_39			; (0F4E)
9DFD:0085  E8 007F				call	sub_3			; (0107)
9DFD:0088  74 06				jz	loc_5			; Jump if zero
9DFD:008A ˙BE 00B5				mov	si,offset data_32	; (9DFD:00B5='ROM checksum fai')
9DFD:008D  E8 0517				call	sub_15			; (05A7)
9DFD:0090			loc_5::						;  xref 9DFD:0088
9DFD:0090  E8 0039				call	sub_2			; (00CC)
9DFD:0093 ˙BE 0000				mov	si,0			; (9DFD:0000=4Ch)
9DFD:0096  E8 050E				call	sub_15			; (05A7)
9DFD:0099  E8 03E9				call	sub_13			; (0485)
9DFD:009C  E8 03A4				call	sub_12			; (0443)
9DFD:009F  E8 00E4				call	sub_4			; (0186)
9DFD:00A2  E8 09DD		;*		call	sub_35			;*(0A82)
9DFD:00A2  E8 DD 09				db	0E8h,0DDh, 09h
9DFD:00A5  E8 0510				call	sub_16			; (05B8)
9DFD:00A8  B4 00				mov	ah,0
9DFD:00AA  CD 13				int	13h			; Disk  dl=drive ?  ah=func 00h
										;  reset disk, al=return status
9DFD:00AC  E8 01F0				call	sub_8			; (029F)
9DFD:00AF  E8 0139				call	sub_5			; (01EB)
9DFD:00B2  EB 64				jmp	short loc_9		; (0118)
9DFD:00B4  90					db	90h
9DFD:00B5  52 4F 4D 20 63 68	data_32		db	'ROM checksum failure', 0Ah, 0Dh, 0
9DFD:00BB  65 63 6B 73 75 6D
9DFD:00C1  20 66 61 69 6C 75
9DFD:00C7  72 65 0A 0D 00

				l286cm5		endp

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0090
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:00CC			sub_2		proc	near
9DFD:00CC ˙BE 00E0				mov	si,offset data_33	; (9DFD:00E0=81h)
9DFD:00CF  BA 0000				mov	dx,0
9DFD:00D2			loc_6::						;  xref 9DFD:00DD
9DFD:00D2 ˙2E: AC				lods	byte ptr cs:[si]	; String [si] to al
9DFD:00D4  84 C0				test	al,al
9DFD:00D6  74 07				jz	loc_ret_7		; Jump if zero
9DFD:00D8  8A D0				mov	dl,al
9DFD:00DA  2E: AC				lods	byte ptr cs:[si]	; String [si] to al
9DFD:00DC  EE					out	dx,al			; port 81h, DMA page reg ch 2
9DFD:00DD  EB F3				jmp	short loc_6		; (00D2)

9DFD:00DF			loc_ret_7::					;  xref 9DFD:00D6
9DFD:00DF  C3					retn
				sub_2		endp

9DFD:00E0  81			data_33		db	81h			;  xref 9DFD:00CC
9DFD:00E1  00 81 00 81 00 81			db	 00h, 81h, 00h, 81h, 00h, 81h
9DFD:00E7  40 81 CE 81 37 85			db	 40h, 81h,0CEh, 81h, 37h, 85h
9DFD:00ED  00 85 00				db	 00h, 85h, 00h
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 5

9DFD:00F0  85			data_34		db	85h
9DFD:00F1  00 85 40 85 CE 85			db	 00h, 85h, 40h, 85h,0CEh, 85h
9DFD:00F7  37 8B 98 8F 36 8C			db	 37h, 8Bh, 98h, 8Fh, 36h, 8Ch
9DFD:00FD  10 8C 00 8F 76 8D			db	 10h, 8Ch, 00h, 8Fh, 76h, 8Dh
9DFD:0103  10 8D 00 00				db	 10h, 8Dh, 00h, 00h

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0085
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0107			sub_3		proc	near
9DFD:0107 ˙BB 0000				mov	bx,0			; (9DFD:0000=4Ch)
9DFD:010A  B0 00				mov	al,0
9DFD:010C  B9 2000				mov	cx,2000h

9DFD:010F			locloop_8::					;  xref 9DFD:0113
9DFD:010F  2E: 02 07				add	al,cs:[bx]
9DFD:0112  43					inc	bx
9DFD:0113  E2 FA				loop	locloop_8		; Loop if cx > 0

9DFD:0115  84 C0				test	al,al
9DFD:0117  C3					retn
				sub_3		endp

9DFD:0118			loc_9::						;  xref 9DFD:00B2, 0145
9DFD:0118 ˙BE 014C				mov	si,14Ch			; (9DFD:014C='Attempting to bo')
9DFD:011B  E8 0489				call	sub_15			; (05A7)
9DFD:011E  33 C0				xor	ax,ax			; Zero register
9DFD:0120  8E C0				mov	es,ax
9DFD:0122  B9 0004				mov	cx,4

9DFD:0125			locloop_10::					;  xref 9DFD:012D
9DFD:0125  51					push	cx
9DFD:0126  B4 00				mov	ah,0
9DFD:0128  CD 13				int	13h			; Disk  dl=drive a  ah=func 00h
										;  reset disk, al=return status
9DFD:012A  59					pop	cx
9DFD:012B  73 02				jnc	loc_11			; Jump if carry=0
9DFD:012D  E2 F6				loop	locloop_10		; Loop if cx > 0

9DFD:012F			loc_11::					;  xref 9DFD:012B
9DFD:012F ˙BB 7C00				mov	bx,data_11e		; (0000:7C00=0D0h)
9DFD:0132  8B D0				mov	dx,ax
9DFD:0134  B9 0001				mov	cx,1
9DFD:0137  B0 08				mov	al,8
9DFD:0139  B4 02				mov	ah,2
9DFD:013B  CD 13				int	13h			; Disk  dl=drive a  ah=func 02h
										;  read sectors to memory es:bx
										;   al=#,ch=cyl,cl=sectr,dh=head
9DFD:013D  73 08				jnc	loc_12			; Jump if carry=0
9DFD:013F  B9 0019				mov	cx,19h
9DFD:0142  E8 02F4				call	sub_11			; (0439)
9DFD:0145  EB D1				jmp	short loc_9		; (0118)
9DFD:0147			loc_12::					;  xref 9DFD:013D
9DFD:0147  EA 0000:7C00		;*		jmp	far ptr run_boot_sector	;*(0000:7C00)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 6

9DFD:0147  EA					db	0EAh
9DFD:0148  7C00 0000				dw	7C00h, 0
9DFD:014C  41 74 74 65 6D 70			db	'Attempting to boot from diskette'
9DFD:0152  74 69 6E 67 20 74
9DFD:0158  6F 20 62 6F 6F 74
9DFD:015E  20 66 72 6F 6D 20
9DFD:0164  64 69 73 6B 65 74
9DFD:016A  74 65
9DFD:016C  2E 0D 0A 00				db	'.', 0Dh, 0Ah, 0
9DFD:0170  1E B8 40 00 8E D8			db	 1Eh,0B8h, 40h, 00h, 8Eh,0D8h
9DFD:0176  A1 13 00 1F CF 1E			db	0A1h, 13h, 00h, 1Fh,0CFh, 1Eh
9DFD:017C  B8 40 00 8E D8 A1			db	0B8h, 40h, 00h, 8Eh,0D8h,0A1h
9DFD:0182  10 00 1F CF				db	 10h, 00h, 1Fh,0CFh

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:009F
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0186			sub_4		proc	near
9DFD:0186  FC					cld				; Clear direction
9DFD:0187  1E					push	ds
9DFD:0188  06					push	es
9DFD:0189  B8 0040				mov	ax,40h
9DFD:018C  8E D8				mov	ds,ax
9DFD:018E  BB 1000				mov	bx,1000h
9DFD:0191  C7 06 0013 0040			mov	word ptr ds:main_ram_size,40h	; (0040:0013=280h)
9DFD:0197  B8 55AA				mov	ax,55AAh
9DFD:019A  BA AA55				mov	dx,0AA55h
9DFD:019D ˙BF 03FE				mov	di,data_13e		; (1040:03FE=0)
9DFD:01A0			loc_13::					;  xref 9DFD:01B9
9DFD:01A0 ˙8E C3				mov	es,bx
9DFD:01A2  26: 89 05				mov	es:[di],ax
9DFD:01A5  52					push	dx
9DFD:01A6  5A					pop	dx
9DFD:01A7  26: 39 05				cmp	es:[di],ax
9DFD:01AA  75 0F				jne	loc_14			; Jump if not equal
9DFD:01AC  FF 06 0013				inc	word ptr ds:main_ram_size	; (0040:0013=280h)
9DFD:01B0  83 C3 40				add	bx,40h
9DFD:01B3  81 FB 9FFF				cmp	bx,9FFFh
9DFD:01B7  73 02				jae	loc_14			; Jump if above or =
9DFD:01B9  EB E5				jmp	short loc_13		; (01A0)
9DFD:01BB			loc_14::					;  xref 9DFD:01AA, 01B7
9DFD:01BB  A1 0013				mov	ax,ds:main_ram_size	; (0040:0013=280h)
9DFD:01BE  2D 0040				sub	ax,40h
9DFD:01C1  8B C8				mov	cx,ax
9DFD:01C3  BB 1000				mov	bx,1000h
9DFD:01C6  B8 0000				mov	ax,0

9DFD:01C9			locloop_15::					;  xref 9DFD:01D8
9DFD:01C9 ˙BF 0000				mov	di,data_12e		; (1000:0000=6Fh)
9DFD:01CC  8E C3				mov	es,bx
9DFD:01CE  51					push	cx
9DFD:01CF  B9 0200				mov	cx,200h
9DFD:01D2  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
9DFD:01D4  59					pop	cx
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 7

9DFD:01D5  83 C3 40				add	bx,40h
9DFD:01D8  E2 EF				loop	locloop_15		; Loop if cx > 0

9DFD:01DA  33 C0				xor	ax,ax			; Zero register
9DFD:01DC  8E D8				mov	ds,ax
9DFD:01DE  B8 0170				mov	ax,170h
9DFD:01E1  A3 0048				mov	ds:vectr_12h_off,ax	; (0000:0048=6E3Dh)
9DFD:01E4  8C 0E 004A				mov	ds:vectr_12h_seg,cs	; (0000:004A=0F000h)
9DFD:01E8  07					pop	es
9DFD:01E9  1F					pop	ds
9DFD:01EA  C3					retn
				sub_4		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:00AF
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:01EB			sub_5		proc	near
9DFD:01EB  1E					push	ds
9DFD:01EC  33 C0				xor	ax,ax			; Zero register
9DFD:01EE  8E D8				mov	ds,ax
9DFD:01F0  B8 020B				mov	ax,20Bh
9DFD:01F3  A3 005C				mov	ds:vectr_17h_off,ax	; (0000:005C=0ABEAh)
9DFD:01F6  8C 0E 005E				mov	ds:vectr_17h_seg,cs	; (0000:005E=0F000h)
9DFD:01FA  B8 0040				mov	ax,40h
9DFD:01FD  8E D8				mov	ds,ax
9DFD:01FF  C7 06 0008 0088			mov	word ptr ds:@prn_port_1,88h	; (0040:0008=378h)
9DFD:0205  1F					pop	ds
9DFD:0206  B4 01				mov	ah,1
9DFD:0208  CD 17				int	17h			; Printer  dx=prn?, ah=func 01h
										;  initialize, ah=return status
9DFD:020A  C3					retn
				sub_5		endp

							                        ;* No entry point to code
9DFD:020B  FB					sti				; Enable interrupts
9DFD:020C  1E					push	ds
9DFD:020D  52					push	dx
9DFD:020E  51					push	cx
9DFD:020F  53					push	bx
9DFD:0210  56					push	si
9DFD:0211  BB 0040				mov	bx,40h
9DFD:0214  8E DB				mov	ds,bx
9DFD:0216  84 E4				test	ah,ah
9DFD:0218  74 0E				jz	loc_17			; Jump if zero
9DFD:021A  FE CC				dec	ah
9DFD:021C  74 50				jz	loc_20			; Jump if zero
9DFD:021E  FE CC				dec	ah
9DFD:0220  74 62				jz	loc_21			; Jump if zero
9DFD:0222			loc_16::					;  xref 9DFD:024B, 0299
9DFD:0222 ˙5E					pop	si
9DFD:0223  5B					pop	bx
9DFD:0224  59					pop	cx
9DFD:0225  5A					pop	dx
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 8

9DFD:0226  1F					pop	ds
9DFD:0227  CF					iret				; Interrupt return
9DFD:0228			loc_17::					;  xref 9DFD:0218
9DFD:0228  50					push	ax
9DFD:0229  B3 32				mov	bl,32h			; '2'
9DFD:022B  33 C9				xor	cx,cx			; Zero register
9DFD:022D  52					push	dx
9DFD:022E  BA 0089				mov	dx,89h
9DFD:0231  E8 0067				call	sub_6			; (029B)
9DFD:0234  5A					pop	dx

9DFD:0235			locloop_18::					;  xref 9DFD:0241, 0245
9DFD:0235  52					push	dx
9DFD:0236  BA 008A				mov	dx,8Ah
9DFD:0239  E8 0061				call	sub_7			; (029D)
9DFD:023C  5A					pop	dx
9DFD:023D  A8 40				test	al,40h			; '@'
9DFD:023F  74 0C				jz	loc_19			; Jump if zero
9DFD:0241  E2 F2				loop	locloop_18		; Loop if cx > 0

9DFD:0243  FE CB				dec	bl
9DFD:0245  75 EE				jnz	locloop_18		; Jump if not zero
9DFD:0247  58					pop	ax
9DFD:0248  80 CC 01				or	ah,1
9DFD:024B  EB D5				jmp	short loc_16		; (0222)
9DFD:024D			loc_19::					;  xref 9DFD:023F
9DFD:024D  B0 02				mov	al,2
9DFD:024F  52					push	dx
9DFD:0250  BA 008B				mov	dx,8Bh
9DFD:0253  E8 0045				call	sub_6			; (029B)
9DFD:0256  5A					pop	dx
9DFD:0257  B0 03				mov	al,3
9DFD:0259  52					push	dx
9DFD:025A  BA 008B				mov	dx,8Bh
9DFD:025D  E8 003B				call	sub_6			; (029B)
9DFD:0260  5A					pop	dx
9DFD:0261  B0 02				mov	al,2
9DFD:0263  52					push	dx
9DFD:0264  BA 008B				mov	dx,8Bh
9DFD:0267  E8 0031				call	sub_6			; (029B)
9DFD:026A  5A					pop	dx
9DFD:026B  58					pop	ax
9DFD:026C  EB 16				jmp	short loc_21		; (0284)
9DFD:026E			loc_20::					;  xref 9DFD:021C
9DFD:026E  50					push	ax
9DFD:026F  B0 98				mov	al,98h
9DFD:0271  52					push	dx
9DFD:0272  BA 008B				mov	dx,8Bh
9DFD:0275  E8 0023				call	sub_6			; (029B)
9DFD:0278  5A					pop	dx
9DFD:0279  B0 02				mov	al,2
9DFD:027B  52					push	dx
9DFD:027C  BA 008B				mov	dx,8Bh
9DFD:027F  E8 0019				call	sub_6			; (029B)
9DFD:0282  5A					pop	dx
9DFD:0283  58					pop	ax
9DFD:0284			loc_21::					;  xref 9DFD:0220, 026C
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 9

9DFD:0284  50					push	ax
9DFD:0285  52					push	dx
9DFD:0286  BA 008A				mov	dx,8Ah
9DFD:0289  E8 0011				call	sub_7			; (029D)
9DFD:028C  5A					pop	dx
9DFD:028D  B3 10				mov	bl,10h
9DFD:028F  A8 40				test	al,40h			; '@'
9DFD:0291  74 03				jz	loc_22			; Jump if zero
9DFD:0293  80 CB 80				or	bl,80h
9DFD:0296			loc_22::					;  xref 9DFD:0291
9DFD:0296  58					pop	ax
9DFD:0297  8A E3				mov	ah,bl
9DFD:0299  EB 87				jmp	short loc_16		; (0222)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0231, 0253, 025D, 0267, 0275, 027F, 059A
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:029B			sub_6		proc	near
9DFD:029B  EE					out	dx,al			; port 89h, DMA page reg ch 6
9DFD:029C  C3					retn
				sub_6		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0239, 0289, 05A2
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:029D			sub_7		proc	near
9DFD:029D  EC					in	al,dx			; port 8Ah, DMA page reg ch 7
9DFD:029E  C3					retn
				sub_7		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:00AC
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:029F			sub_8		proc	near
9DFD:029F  1E					push	ds
9DFD:02A0  33 C0				xor	ax,ax			; Zero register
9DFD:02A2  8E D8				mov	ds,ax
9DFD:02A4  B8 02C5				mov	ax,2C5h
9DFD:02A7  A3 0050				mov	ds:data_1e,ax		; (0000:0050=0A0E2h)
9DFD:02AA  8C 0E 0052				mov	ds:data_2e,cs		; (0000:0052=0F000h)
9DFD:02AE  B8 0040				mov	ax,40h
9DFD:02B1  8E D8				mov	ds,ax
9DFD:02B3 ˙BB 0000				mov	bx,@rs232_port_1	; (0040:0000=0F8h)
9DFD:02B6  B8 0080				mov	ax,80h
9DFD:02B9  89 07				mov	[bx],ax
9DFD:02BB  B8 0084				mov	ax,84h
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 10

9DFD:02BE  83 C3 02				add	bx,2
9DFD:02C1  89 07				mov	[bx],ax
9DFD:02C3  1F					pop	ds
9DFD:02C4  C3					retn
				sub_8		endp

							                        ;* No entry point to code
9DFD:02C5  1E					push	ds
9DFD:02C6  52					push	dx
9DFD:02C7  56					push	si
9DFD:02C8  57					push	di
9DFD:02C9  53					push	bx
9DFD:02CA  51					push	cx
9DFD:02CB  8B F2				mov	si,dx
9DFD:02CD  D1 E6				shl	si,1			; Shift w/zeros fill
9DFD:02CF  BA 0040				mov	dx,40h
9DFD:02D2  8E DA				mov	ds,dx
9DFD:02D4  8B 94 0000				mov	dx,ds:@rs232_port_1[si]	; (0040:0000=3F8h)
9DFD:02D8  0B D2				or	dx,dx			; Zero ?
9DFD:02DA  74 19				jz	loc_25			; Jump if zero
9DFD:02DC  0A E4				or	ah,ah			; Zero ?
9DFD:02DE  74 1C				jz	loc_26			; Jump if zero
9DFD:02E0  FE CC				dec	ah
9DFD:02E2  75 03				jnz	loc_23			; Jump if not zero
9DFD:02E4  E9 008D				jmp	loc_31			; (0374)
9DFD:02E7			loc_23::					;  xref 9DFD:02E2
9DFD:02E7  FE CC				dec	ah
9DFD:02E9  75 03				jnz	loc_24			; Jump if not zero
9DFD:02EB  E9 00C1				jmp	loc_36			; (03AF)
9DFD:02EE			loc_24::					;  xref 9DFD:02E9
9DFD:02EE  FE CC				dec	ah
9DFD:02F0  75 03				jnz	loc_25			; Jump if not zero
9DFD:02F2  E9 0128				jmp	loc_48			; (041D)
9DFD:02F5			loc_25::					;  xref 9DFD:02DA, 02F0, 038E, 03A4
										;            03AC, 03CB, 03E6, 042E
9DFD:02F5 ˙59					pop	cx
9DFD:02F6  5B					pop	bx
9DFD:02F7  5F					pop	di
9DFD:02F8  5E					pop	si
9DFD:02F9  5A					pop	dx
9DFD:02FA  1F					pop	ds
9DFD:02FB  CF					iret				; Interrupt return
9DFD:02FC			loc_26::					;  xref 9DFD:02DE
9DFD:02FC  50					push	ax
9DFD:02FD  B4 42				mov	ah,42h			; 'B'
9DFD:02FF  8A D8				mov	bl,al
9DFD:0301  F6 C3 04				test	bl,4
9DFD:0304  74 03				jz	loc_27			; Jump if zero
9DFD:0306  80 CC C0				or	ah,0C0h
9DFD:0309			loc_27::					;  xref 9DFD:0304
9DFD:0309  80 CC 40				or	ah,40h			; '@'
9DFD:030C  D0 C3				rol	bl,1			; Rotate
9DFD:030E  B0 30				mov	al,30h			; '0'
9DFD:0310  22 C3				and	al,bl
9DFD:0312  0A E0				or	ah,al
9DFD:0314  D0 C3				rol	bl,1			; Rotate
9DFD:0316  B0 0C				mov	al,0Ch
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 11

9DFD:0318  22 C3				and	al,bl
9DFD:031A  0A E0				or	ah,al
9DFD:031C  83 C2 01				add	dx,1
9DFD:031F  B0 00				mov	al,0
9DFD:0321  B9 0003				mov	cx,3

9DFD:0324			locloop_28::					;  xref 9DFD:0328
9DFD:0324  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
9DFD:0325  E8 0109				call	sub_10			; (0431)
9DFD:0328  E2 FA				loop	locloop_28		; Loop if cx > 0

9DFD:032A  B0 40				mov	al,40h			; '@'
9DFD:032C  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
9DFD:032D  E8 0101				call	sub_10			; (0431)
9DFD:0330  8A C4				mov	al,ah
9DFD:0332  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
9DFD:0333  58					pop	ax
9DFD:0334  D0 C0				rol	al,1			; Rotate
9DFD:0336  D0 C0				rol	al,1			; Rotate
9DFD:0338  D0 C0				rol	al,1			; Rotate
9DFD:033A  24 07				and	al,7
9DFD:033C  52					push	dx
9DFD:033D  81 FA 0084				cmp	dx,84h
9DFD:0341  77 05				ja	loc_29			; Jump if above
9DFD:0343  BA 008C				mov	dx,8Ch
9DFD:0346  EB 03				jmp	short loc_30		; (034B)
9DFD:0348			loc_29::					;  xref 9DFD:0341
9DFD:0348  BA 008D				mov	dx,8Dh
9DFD:034B			loc_30::					;  xref 9DFD:0346
9DFD:034B  B4 00				mov	ah,0
9DFD:034D  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:034F ˙BB 0364				mov	bx,offset data_36	; (9DFD:0364=8Ch)
9DFD:0352  03 D8				add	bx,ax
9DFD:0354  2E: 8B 07				mov	ax,cs:[bx]
9DFD:0357  EE					out	dx,al			; port 8Dh ??i/o non-standard
9DFD:0358  50					push	ax
9DFD:0359  58					pop	ax
9DFD:035A  8A C4				mov	al,ah
9DFD:035C  EE					out	dx,al			; port 8Dh ??i/o non-standard
9DFD:035D  5A					pop	dx
9DFD:035E  83 EA 01				sub	dx,1
9DFD:0361  E9 00B9				jmp	loc_48			; (041D)
9DFD:0364  8C			data_36		db	8Ch			;  xref 9DFD:034F
9DFD:0365  05 12 04 09 02 04			db	 05h, 12h, 04h, 09h, 02h, 04h
9DFD:036B  01 82 00 41 00 21			db	 01h, 82h, 00h, 41h, 00h, 21h
9DFD:0371  00 10 00				db	 00h, 10h, 00h
9DFD:0374			loc_31::					;  xref 9DFD:02E4
9DFD:0374  50					push	ax
9DFD:0375  83 C2 01				add	dx,1
9DFD:0378  B0 37				mov	al,37h			; '7'
9DFD:037A  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
9DFD:037B  33 C9				xor	cx,cx			; Zero register
9DFD:037D  B3 04				mov	bl,4

9DFD:037F			locloop_32::					;  xref 9DFD:0384, 0388
9DFD:037F  EC					in	al,dx			; port 1, DMA-1 bas&cnt ch 0
9DFD:0380  A8 80				test	al,80h
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 12

9DFD:0382  75 0D				jnz	loc_33			; Jump if not zero
9DFD:0384  E2 F9				loop	locloop_32		; Loop if cx > 0

9DFD:0386  FE CB				dec	bl
9DFD:0388  75 F5				jnz	locloop_32		; Jump if not zero
9DFD:038A  58					pop	ax
9DFD:038B  80 CC 80				or	ah,80h
9DFD:038E  E9 FF64				jmp	loc_25			; (02F5)
9DFD:0391			loc_33::					;  xref 9DFD:0382
9DFD:0391  33 C9				xor	cx,cx			; Zero register
9DFD:0393  B3 02				mov	bl,2

9DFD:0395			locloop_34::					;  xref 9DFD:039A, 039E
9DFD:0395  EC					in	al,dx			; port 1, DMA-1 bas&cnt ch 0
9DFD:0396  A8 01				test	al,1
9DFD:0398  75 0D				jnz	loc_35			; Jump if not zero
9DFD:039A  E2 F9				loop	locloop_34		; Loop if cx > 0

9DFD:039C  FE CB				dec	bl
9DFD:039E  75 F5				jnz	locloop_34		; Jump if not zero
9DFD:03A0  58					pop	ax
9DFD:03A1  80 CC 80				or	ah,80h
9DFD:03A4  E9 FF4E				jmp	loc_25			; (02F5)
9DFD:03A7			loc_35::					;  xref 9DFD:0398
9DFD:03A7  83 EA 01				sub	dx,1
9DFD:03AA  58					pop	ax
9DFD:03AB  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
9DFD:03AC  E9 FF46				jmp	loc_25			; (02F5)
9DFD:03AF			loc_36::					;  xref 9DFD:02EB
9DFD:03AF  80 26 0071 7F			and	byte ptr ds:[71h],7Fh	; (9DFD:0071=0BFh)
9DFD:03B4  83 C2 01				add	dx,1
9DFD:03B7  B0 37				mov	al,37h			; '7'
9DFD:03B9  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
9DFD:03BA  33 C9				xor	cx,cx			; Zero register
9DFD:03BC  B3 04				mov	bl,4

9DFD:03BE			locloop_37::					;  xref 9DFD:03C3, 03C7
9DFD:03BE  EC					in	al,dx			; port 1, DMA-1 bas&cnt ch 0
9DFD:03BF  A8 80				test	al,80h
9DFD:03C1  75 0B				jnz	loc_39			; Jump if not zero
9DFD:03C3  E2 F9				loop	locloop_37		; Loop if cx > 0

9DFD:03C5  FE CB				dec	bl
9DFD:03C7  75 F5				jnz	locloop_37		; Jump if not zero
9DFD:03C9			loc_38::					;  xref 9DFD:03DA
9DFD:03C9 ˙B4 80				mov	ah,80h
9DFD:03CB  E9 FF27				jmp	loc_25			; (02F5)
9DFD:03CE			loc_39::					;  xref 9DFD:03C1, 03D8
9DFD:03CE  EC					in	al,dx			; port 1, DMA-1 bas&cnt ch 0
9DFD:03CF  A8 02				test	al,2
9DFD:03D1  75 09				jnz	loc_40			; Jump if not zero
9DFD:03D3  F6 06 0071 80			test	byte ptr ds:[71h],80h	; (9DFD:0071=0BFh)
9DFD:03D8  74 F4				jz	loc_39			; Jump if zero
9DFD:03DA  EB ED				jmp	short loc_38		; (03C9)
9DFD:03DC			loc_40::					;  xref 9DFD:03D1
9DFD:03DC  E8 000A				call	sub_9			; (03E9)
9DFD:03DF  80 E4 1E				and	ah,1Eh
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 13

9DFD:03E2  83 EA 01				sub	dx,1
9DFD:03E5  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
9DFD:03E6  E9 FF0C				jmp	loc_25			; (02F5)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:03DC, 0421
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:03E9			sub_9		proc	near
9DFD:03E9  B4 00				mov	ah,0
9DFD:03EB  A8 01				test	al,1
9DFD:03ED  74 03				jz	loc_41			; Jump if zero
9DFD:03EF  80 CC 20				or	ah,20h			; ' '
9DFD:03F2			loc_41::					;  xref 9DFD:03ED
9DFD:03F2  A8 02				test	al,2
9DFD:03F4  74 03				jz	loc_42			; Jump if zero
9DFD:03F6  80 CC 01				or	ah,1
9DFD:03F9			loc_42::					;  xref 9DFD:03F4
9DFD:03F9  A8 04				test	al,4
9DFD:03FB  74 03				jz	loc_43			; Jump if zero
9DFD:03FD  80 CC 40				or	ah,40h			; '@'
9DFD:0400			loc_43::					;  xref 9DFD:03FB
9DFD:0400  A8 08				test	al,8
9DFD:0402  74 03				jz	loc_44			; Jump if zero
9DFD:0404  80 CC 04				or	ah,4
9DFD:0407			loc_44::					;  xref 9DFD:0402
9DFD:0407  A8 10				test	al,10h
9DFD:0409  74 03				jz	loc_45			; Jump if zero
9DFD:040B  80 CC 02				or	ah,2
9DFD:040E			loc_45::					;  xref 9DFD:0409
9DFD:040E  A8 20				test	al,20h			; ' '
9DFD:0410  74 03				jz	loc_46			; Jump if zero
9DFD:0412  80 CC 08				or	ah,8
9DFD:0415			loc_46::					;  xref 9DFD:0410
9DFD:0415  A8 40				test	al,40h			; '@'
9DFD:0417  74 03				jz	loc_ret_47		; Jump if zero
9DFD:0419  80 CC 10				or	ah,10h

9DFD:041C			loc_ret_47::					;  xref 9DFD:0417
9DFD:041C  C3					retn
				sub_9		endp

9DFD:041D			loc_48::					;  xref 9DFD:02F2, 0361
9DFD:041D  83 C2 01				add	dx,1
9DFD:0420  EC					in	al,dx			; port 2, DMA-1 bas&add ch 1
9DFD:0421  E8 FFC5				call	sub_9			; (03E9)
9DFD:0424  24 80				and	al,80h
9DFD:0426  84 C0				test	al,al
9DFD:0428  B0 F0				mov	al,0F0h
9DFD:042A  75 02				jnz	loc_49			; Jump if not zero
9DFD:042C  B0 00				mov	al,0
9DFD:042E			loc_49::					;  xref 9DFD:042A
9DFD:042E  E9 FEC4				jmp	loc_25			; (02F5)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 14

				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0325, 032D
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0431			sub_10		proc	near
9DFD:0431  51					push	cx
9DFD:0432  B9 0064				mov	cx,64h

9DFD:0435			locloop_50::					;  xref 9DFD:0435
9DFD:0435  E2 FE				loop	locloop_50		; Loop if cx > 0

9DFD:0437  59					pop	cx
9DFD:0438  C3					retn
				sub_10		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0142
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0439			sub_11		proc	near
9DFD:0439			loc_51::					;  xref 9DFD:0440
9DFD:0439  51					push	cx
9DFD:043A  33 C9				xor	cx,cx			; Zero register

9DFD:043C			locloop_52::					;  xref 9DFD:043C
9DFD:043C  E2 FE				loop	locloop_52		; Loop if cx > 0

9DFD:043E  59					pop	cx
9DFD:043F  49					dec	cx
9DFD:0440  75 F7				jnz	loc_51			; Jump if not zero
9DFD:0442  C3					retn
				sub_11		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:009C
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0443			sub_12		proc	near
9DFD:0443  1E					push	ds
9DFD:0444  33 C0				xor	ax,ax			; Zero register
9DFD:0446  8E D8				mov	ds,ax
9DFD:0448  B8 054A				mov	ax,54Ah
9DFD:044B  A3 0060				mov	ds:vectr_18h_off,ax	; (0000:0060=7370h)
9DFD:044E  A3 0064				mov	ds:vectr_19h_off,ax	; (0000:0064=1990h)
9DFD:0451  8C 0E 0062				mov	ds:vectr_18h_seg,cs	; (0000:0062=0F000h)
9DFD:0455  8C 0E 0066				mov	ds:vectr_19h_seg,cs	; (0000:0066=0BADh)
9DFD:0459  A3 0050				mov	ds:data_1e,ax		; (0000:0050=0A0E2h)
9DFD:045C  8C 0E 0052				mov	ds:data_2e,cs		; (0000:0052=0F000h)
9DFD:0460  A3 006C				mov	ds:data_7e,ax		; (0000:006C=6EEh)
9DFD:0463  8C 0E 006E				mov	ds:data_8e,cs		; (0000:006E=70h)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 15

9DFD:0467  A3 0070				mov	ds:data_9e,ax		; (0000:0070=0FF53h)
9DFD:046A  8C 0E 0072				mov	ds:data_10e,cs		; (0000:0072=0F000h)
9DFD:046E  B8 017B				mov	ax,17Bh
9DFD:0471  A3 0044				mov	ds:vectr_11h_off,ax	; (0000:0044=6E33h)
9DFD:0474  8C 0E 0046				mov	ds:vectr_11h_seg,cs	; (0000:0046=0F000h)
9DFD:0478  B8 0040				mov	ax,40h
9DFD:047B  8E D8				mov	ds,ax
9DFD:047D  B8 446D				mov	ax,446Dh
9DFD:0480  A3 0010				mov	ds:equip_bits,ax	; (0040:0010=4427h)
9DFD:0483  1F					pop	ds
9DFD:0484  C3					retn
				sub_12		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0099
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0485			sub_13		proc	near
9DFD:0485  1E					push	ds
9DFD:0486  9C					pushf				; Push flags
9DFD:0487  FA					cli				; Disable interrupts
9DFD:0488  33 C0				xor	ax,ax			; Zero register
9DFD:048A  8E D8				mov	ds,ax
9DFD:048C  B8 04D9				mov	ax,4D9h
9DFD:048F  A3 0020				mov	ds:vector_8h_off,ax	; (0000:0020=1875h)
9DFD:0492  8C 0E 0022				mov	ds:vector_8h_seg,cs	; (0000:0022=0BADh)
9DFD:0496  B8 0516				mov	ax,516h
9DFD:0499  A3 0068				mov	ds:data_5e,ax		; (0000:0068=0AC96h)
9DFD:049C  8C 0E 006A				mov	ds:data_6e,cs		; (0000:006A=0F000h)
9DFD:04A0  B8 0040				mov	ax,40h
9DFD:04A3  8E D8				mov	ds,ax
9DFD:04A5  33 C0				xor	ax,ax			; Zero register
9DFD:04A7  A3 006C				mov	ds:timer_low,ax		; (0040:006C=342Dh)
9DFD:04AA  A3 006E				mov	ds:timer_hi,ax		; (0040:006E=17h)
9DFD:04AD  A2 0070				mov	ds:timer_rolled,al	; (0040:0070=0)
9DFD:04B0 ˙BE 04D0				mov	si,offset data_37	; (9DFD:04D0=36h)
9DFD:04B3  B9 0003				mov	cx,3
9DFD:04B6  BA 0040				mov	dx,40h

9DFD:04B9			locloop_54::					;  xref 9DFD:04C4
9DFD:04B9  2E: AC				lods	byte ptr cs:[si]	; String [si] to al
9DFD:04BB  E6 43				out	43h,al			; port 43h, 8253 timer control
9DFD:04BD  2E: AC				lods	byte ptr cs:[si]	; String [si] to al
9DFD:04BF  EE					out	dx,al			; port 40h, 8253 timer 0 clock
9DFD:04C0  2E: AC				lods	byte ptr cs:[si]	; String [si] to al
9DFD:04C2  EE					out	dx,al			; port 40h, 8253 timer 0 clock
9DFD:04C3  42					inc	dx
9DFD:04C4  E2 F3				loop	locloop_54		; Loop if cx > 0

9DFD:04C6  BA FFFE				mov	dx,0FFFEh
9DFD:04C9  EC					in	al,dx			; port 0FFFEh ??i/o non-standard
9DFD:04CA  24 FE				and	al,0FEh
9DFD:04CC  EE					out	dx,al			; port 0FFFEh ??i/o non-standard
9DFD:04CD  9D					popf				; Pop flags
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 16

9DFD:04CE  1F					pop	ds
9DFD:04CF  C3					retn
				sub_13		endp

9DFD:04D0  36			data_37		db	36h			;  xref 9DFD:04B0
9DFD:04D1  00 00 76 A9 04 B6			db	 00h, 00h, 76h,0A9h, 04h,0B6h
9DFD:04D7  A9 04 50 1E B8 40			db	0A9h, 04h, 50h, 1Eh,0B8h, 40h
9DFD:04DD  00 8E D8 FF 06 6C			db	 00h, 8Eh,0D8h,0FFh, 06h, 6Ch
9DFD:04E3  00 75 04 FF 06 6E			db	 00h, 75h, 04h,0FFh, 06h, 6Eh
9DFD:04E9  00					db	 00h
9DFD:04EA			loc_55::
9DFD:04EA  83 3E 006E 18			cmp	word ptr ds:[6Eh],18h	; (9DFD:006E=4C8Ch)
9DFD:04EF  75 19				jne	loc_56			; Jump if not equal
9DFD:04F1  81 3E 006C 00B0			cmp	word ptr ds:[6Ch],0B0h	; (9DFD:006C=489h)
9DFD:04F7  75 11				jne	loc_56			; Jump if not equal
9DFD:04F9  C7 06 006E 0000			mov	word ptr ds:[6Eh],0	; (9DFD:006E=4C8Ch)
9DFD:04FF  C7 06 006C 0000			mov	word ptr ds:[6Ch],0	; (9DFD:006C=489h)
9DFD:0505  C6 06 0070 01			mov	byte ptr ds:[70h],1	; (9DFD:0070=2)
9DFD:050A			loc_56::					;  xref 9DFD:04EF, 04F7
9DFD:050A  FE 0E 0040				dec	byte ptr ds:[40h]	; (9DFD:0040=0F3h)
9DFD:050E  75 03				jnz	loc_57			; Jump if not zero
9DFD:0510  E8 044F				call	sub_26			; (0962)
9DFD:0513			loc_57::					;  xref 9DFD:050E
9DFD:0513  1F					pop	ds
9DFD:0514  58					pop	ax
9DFD:0515  CF					iret				; Interrupt return
							                        ;* No entry point to code
9DFD:0516  1E					push	ds
9DFD:0517  FA					cli				; Disable interrupts
9DFD:0518  50					push	ax
9DFD:0519  B8 0040				mov	ax,40h
9DFD:051C  8E D8				mov	ds,ax
9DFD:051E  58					pop	ax
9DFD:051F  0A E4				or	ah,ah			; Zero ?
9DFD:0521  74 06				jz	loc_59			; Jump if zero
9DFD:0523  FE CC				dec	ah
9DFD:0525  74 14				jz	loc_60			; Jump if zero
9DFD:0527			loc_58::					;  xref 9DFD:0539, 0548
9DFD:0527 ˙1F					pop	ds
9DFD:0528  CF					iret				; Interrupt return
9DFD:0529			loc_59::					;  xref 9DFD:0521
9DFD:0529  A0 0070				mov	al,byte ptr ds:[70h]	; (9DFD:0070=2)
9DFD:052C  C6 06 0070 00			mov	byte ptr ds:[70h],0	; (9DFD:0070=2)
9DFD:0531  8B 0E 006E				mov	cx,word ptr ds:[6Eh]	; (9DFD:006E=4C8Ch)
9DFD:0535  8B 16 006C				mov	dx,word ptr ds:[6Ch]	; (9DFD:006C=489h)
9DFD:0539  EB EC				jmp	short loc_58		; (0527)
9DFD:053B			loc_60::					;  xref 9DFD:0525
9DFD:053B  89 16 006C				mov	word ptr ds:[6Ch],dx	; (9DFD:006C=489h)
9DFD:053F  89 0E 006E				mov	word ptr ds:[6Eh],cx	; (9DFD:006E=4C8Ch)
9DFD:0543  C6 06 0070 00			mov	byte ptr ds:[70h],0	; (9DFD:0070=2)
9DFD:0548  EB DD				jmp	short loc_58		; (0527)
9DFD:054A  CF					db	0CFh
9DFD:054B			loc_61::					;  xref 9DFD:004F, 054C
9DFD:054B ˙FA					cli				; Disable interrupts
9DFD:054C  EB FD				jmp	short loc_61		; (054B)
							                        ;* No entry point to code
9DFD:054E  9C					pushf				; Push flags
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 17

9DFD:054F  FA					cli				; Disable interrupts
9DFD:0550  1E					push	ds
9DFD:0551  B8 0040				mov	ax,40h
9DFD:0554  8E D8				mov	ds,ax
9DFD:0556  0A F6				or	dh,dh			; Zero ?
9DFD:0558  74 0B				jz	loc_64			; Jump if zero
9DFD:055A			loc_62::					;  xref 9DFD:0563
9DFD:055A  B3 06				mov	bl,6
9DFD:055C  E8 0018				call	sub_14			; (0577)

9DFD:055F			locloop_63::					;  xref 9DFD:055F
9DFD:055F  E2 FE				loop	locloop_63		; Loop if cx > 0

9DFD:0561  FE CE				dec	dh
9DFD:0563  75 F5				jnz	loc_62			; Jump if not zero
9DFD:0565			loc_64::					;  xref 9DFD:0558, 056E
9DFD:0565  B3 01				mov	bl,1
9DFD:0567  E8 000D				call	sub_14			; (0577)

9DFD:056A			locloop_65::					;  xref 9DFD:056A
9DFD:056A  E2 FE				loop	locloop_65		; Loop if cx > 0

9DFD:056C  FE CA				dec	dl
9DFD:056E  75 F5				jnz	loc_64			; Jump if not zero

9DFD:0570			locloop_66::					;  xref 9DFD:0570
9DFD:0570  E2 FE				loop	locloop_66		; Loop if cx > 0


9DFD:0572			locloop_67::					;  xref 9DFD:0572
9DFD:0572  E2 FE				loop	locloop_67		; Loop if cx > 0

9DFD:0574  1F					pop	ds
9DFD:0575  9D					popf				; Pop flags
9DFD:0576  C3					retn

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:055C, 0567, 164C
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0577			sub_14		proc	near
9DFD:0577  B0 B6				mov	al,0B6h
9DFD:0579  E6 43				out	43h,al			; port 43h, 8253 timer control
9DFD:057B  B8 0533				mov	ax,533h
9DFD:057E  E6 42				out	42h,al			; port 42h, 8253 timer 2 spkr
9DFD:0580  8A C4				mov	al,ah
9DFD:0582  E6 42				out	42h,al			; port 42h, 8253 timer 2 spkr
9DFD:0584  E4 61				in	al,61h			; port 61h, 8255 port B, read
9DFD:0586  8A E0				mov	ah,al
9DFD:0588  0C 03				or	al,3
9DFD:058A  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
9DFD:058C  2B C9				sub	cx,cx

9DFD:058E			locloop_68::					;  xref 9DFD:058E, 0592
9DFD:058E  E2 FE				loop	locloop_68		; Loop if cx > 0
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 18


9DFD:0590  FE CB				dec	bl
9DFD:0592  75 FA				jnz	locloop_68		; Jump if not zero
9DFD:0594  8A C4				mov	al,ah
9DFD:0596  52					push	dx
9DFD:0597  BA 0061				mov	dx,61h
9DFD:059A  E8 FCFE				call	sub_6			; (029B)
9DFD:059D  5A					pop	dx
9DFD:059E  52					push	dx
9DFD:059F  BA 0061				mov	dx,61h
9DFD:05A2  E8 FCF8				call	sub_7			; (029D)
9DFD:05A5  5A					pop	dx
9DFD:05A6  C3					retn
				sub_14		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:008D, 0096, 011B, 0B4C
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:05A7			sub_15		proc	near
9DFD:05A7			loc_69::					;  xref 9DFD:05B5
9DFD:05A7 ˙2E: 8A 04				mov	al,cs:[si]
9DFD:05AA  46					inc	si
9DFD:05AB  84 C0				test	al,al
9DFD:05AD  74 08				jz	loc_ret_70		; Jump if zero
9DFD:05AF  B7 00				mov	bh,0
9DFD:05B1  B4 0E				mov	ah,0Eh
9DFD:05B3  CD 10				int	10h			; Video display   ah=functn 0Eh
										;  write char al, teletype mode
9DFD:05B5  EB F0				jmp	short loc_69		; (05A7)

9DFD:05B7			loc_ret_70::					;  xref 9DFD:05AD
9DFD:05B7  C3					retn
				sub_15		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:00A5
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:05B8			sub_16		proc	near
9DFD:05B8  1E					push	ds
9DFD:05B9  33 C0				xor	ax,ax			; Zero register
9DFD:05BB  8E D8				mov	ds,ax
9DFD:05BD  B8 05D3				mov	ax,5D3h
9DFD:05C0  A3 004C				mov	ds:vectr_13h_off,ax	; (0000:004C=18C5h)
9DFD:05C3  8C 0E 004E				mov	ds:vectr_13h_seg,cs	; (0000:004E=0BADh)
9DFD:05C7  B8 0A77				mov	ax,0A77h
9DFD:05CA  A3 0078				mov	ds:disk_parm_off,ax	; (0000:0078=522h)
9DFD:05CD  8C 0E 007A				mov	ds:disk_parm_seg,cs	; (0000:007A=0)
9DFD:05D1  1F					pop	ds
9DFD:05D2  C3					retn
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 19

				sub_16		endp

							                        ;* No entry point to code
9DFD:05D3  FB					sti				; Enable interrupts
9DFD:05D4  53					push	bx
9DFD:05D5  51					push	cx
9DFD:05D6  1E					push	ds
9DFD:05D7  56					push	si
9DFD:05D8  57					push	di
9DFD:05D9  55					push	bp
9DFD:05DA  52					push	dx
9DFD:05DB  8B EC				mov	bp,sp
9DFD:05DD  BE 0040				mov	si,40h
9DFD:05E0  8E DE				mov	ds,si
9DFD:05E2  E8 001C				call	sub_17			; (0601)
9DFD:05E5  BB 0004				mov	bx,4
9DFD:05E8  E8 01E4				call	sub_19			; (07CF)
9DFD:05EB  88 26 0040				mov	ds:dsk_motor_tmr,ah	; (0040:0040=4Ah)
9DFD:05EF  8A 26 0041				mov	ah,ds:dsk_ret_code	; (0040:0041=0)
9DFD:05F3  80 FC 01				cmp	ah,1
9DFD:05F6  F5					cmc				; Complement carry
9DFD:05F7  5A					pop	dx
9DFD:05F8  5D					pop	bp
9DFD:05F9  5F					pop	di
9DFD:05FA  5E					pop	si
9DFD:05FB  1F					pop	ds
9DFD:05FC  59					pop	cx
9DFD:05FD  5B					pop	bx
9DFD:05FE  CA 0002				retf	2			; Return far

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:05E2
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0601			sub_17		proc	near
9DFD:0601  8A F0				mov	dh,al
9DFD:0603  80 26 003F 3F			and	byte ptr ds:dsk_motor_stat,3Fh	; (0040:003F=0) '?'
9DFD:0608  0A E4				or	ah,ah			; Zero ?
9DFD:060A  74 27				jz	loc_73			; Jump if zero
9DFD:060C  FE CC				dec	ah
9DFD:060E  74 5C				jz	loc_74			; Jump if zero
9DFD:0610  C6 06 0041 00			mov	byte ptr ds:dsk_ret_code,0	; (0040:0041=0)
9DFD:0615  80 FA 04				cmp	dl,4
9DFD:0618  73 13				jae	loc_72			; Jump if above or =
9DFD:061A  FE CC				dec	ah
9DFD:061C  74 52				jz	loc_75			; Jump if zero
9DFD:061E  FE CC				dec	ah
9DFD:0620  75 03				jnz	loc_71			; Jump if not zero
9DFD:0622  E9 009A				jmp	loc_79			; (06BF)
9DFD:0625			loc_71::					;  xref 9DFD:0620
9DFD:0625  FE CC				dec	ah
9DFD:0627  74 4E				jz	loc_76			; Jump if zero
9DFD:0629  FE CC				dec	ah
9DFD:062B  74 51				jz	loc_77			; Jump if zero
9DFD:062D			loc_72::					;  xref 9DFD:0618
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 20

9DFD:062D  C6 06 0041 01			mov	byte ptr ds:dsk_ret_code,1	; (0040:0041=0)
9DFD:0632  C3					retn
9DFD:0633			loc_73::					;  xref 9DFD:060A
9DFD:0633  E8 03C8				call	sub_30			; (09FE)
9DFD:0636  E8 0413				call	sub_33			; (0A4C)
9DFD:0639  B4 03				mov	ah,3
9DFD:063B  E8 0164				call	sub_18			; (07A2)
9DFD:063E  BB 0001				mov	bx,1
9DFD:0641  E8 018B				call	sub_19			; (07CF)
9DFD:0644  BB 0003				mov	bx,3
9DFD:0647  E8 0185				call	sub_19			; (07CF)
9DFD:064A  C6 06 006B 88			mov	byte ptr ds:gen_int_occured,88h	; (0040:006B=0)
9DFD:064F  C6 06 0041 00			mov	byte ptr ds:dsk_ret_code,0	; (0040:0041=0)
9DFD:0654  C6 06 003E 00			mov	byte ptr ds:dsk_recal_stat,0	; (0040:003E=1)
9DFD:0659  80 26 003F F0			and	byte ptr ds:dsk_motor_stat,0F0h	; (0040:003F=0)
9DFD:065E  BA FF10				mov	dx,0FF10h
9DFD:0661  A0 006B				mov	al,ds:gen_int_occured	; (0040:006B=0)
9DFD:0664  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:0665  E8 02FA				call	sub_26			; (0962)
9DFD:0668  E8 03E1				call	sub_33			; (0A4C)
9DFD:066B  C3					retn
9DFD:066C			loc_74::					;  xref 9DFD:060E
9DFD:066C  A0 0041				mov	al,ds:dsk_ret_code	; (0040:0041=0)
9DFD:066F  C3					retn
9DFD:0670			loc_75::					;  xref 9DFD:061C, 067C
9DFD:0670 ˙E8 01C2				call	sub_21			; (0835)
9DFD:0673  B4 66				mov	ah,66h			; 'f'
9DFD:0675  EB 52				jmp	short loc_80		; (06C9)
9DFD:0677			loc_76::					;  xref 9DFD:0627
9DFD:0677  80 0E 003F 40			or	byte ptr ds:dsk_motor_stat,40h	; (0040:003F=0) '@'
9DFD:067C  EB F2				jmp	short loc_75		; (0670)
9DFD:067E			loc_77::					;  xref 9DFD:062B
9DFD:067E  80 0E 003F 80			or	byte ptr ds:dsk_motor_stat,80h	; (0040:003F=0)
9DFD:0683  E8 01AF				call	sub_21			; (0835)
9DFD:0686  B4 4D				mov	ah,4Dh			; 'M'
9DFD:0688  EB 3F				jmp	short loc_80		; (06C9)
							                        ;* No entry point to code
9DFD:068A  50					push	ax
9DFD:068B  53					push	bx
9DFD:068C  BB 0008				mov	bx,8
9DFD:068F  E8 013D				call	sub_19			; (07CF)
9DFD:0692  8A C4				mov	al,ah
9DFD:0694  32 E4				xor	ah,ah			; Zero register
9DFD:0696  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:0698  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:069A  A3 0074				mov	ds:hdsk_status_1,ax	; (0040:0074=100h)
9DFD:069D  5B					pop	bx
9DFD:069E  58					pop	ax
9DFD:069F  EB 28				jmp	short loc_80		; (06C9)
9DFD:06A1			loc_78::					;  xref 9DFD:0705
9DFD:06A1 ˙BB 0007				mov	bx,7
9DFD:06A4  E8 0128				call	sub_19			; (07CF)
9DFD:06A7  BB 0009				mov	bx,9
9DFD:06AA  E8 0122				call	sub_19			; (07CF)
9DFD:06AD  BB 000F				mov	bx,0Fh
9DFD:06B0  E8 011C				call	sub_19			; (07CF)
9DFD:06B3  BB 0011				mov	bx,11h
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 21

9DFD:06B6  5E					pop	si
9DFD:06B7  9C					pushf				; Push flags
9DFD:06B8  FA					cli				; Disable interrupts
9DFD:06B9  E8 0113				call	sub_19			; (07CF)
9DFD:06BC  EB 7B				jmp	short loc_84		; (0739)
9DFD:06BE  90					db	90h
9DFD:06BF			loc_79::					;  xref 9DFD:0622
9DFD:06BF  80 0E 003F 80			or	byte ptr ds:dsk_motor_stat,80h	; (0040:003F=0)
9DFD:06C4  E8 016E				call	sub_21			; (0835)
9DFD:06C7  B4 45				mov	ah,45h			; 'E'
9DFD:06C9			loc_80::					;  xref 9DFD:0675, 0688, 069F
9DFD:06C9  73 08				jnc	loc_81			; Jump if carry=0
9DFD:06CB  C6 06 0041 09			mov	byte ptr ds:dsk_ret_code,9	; (0040:0041=0)
9DFD:06D0  B0 00				mov	al,0
9DFD:06D2  C3					retn
9DFD:06D3			loc_81::					;  xref 9DFD:06C9
9DFD:06D3  E8 0376				call	sub_33			; (0A4C)
9DFD:06D6  50					push	ax
9DFD:06D7  E8 029E				call	sub_27			; (0978)
9DFD:06DA  E8 032C				call	sub_31			; (0A09)
9DFD:06DD  72 03				jc	loc_82			; Jump if carry Set
9DFD:06DF  E8 00FE				call	sub_20			; (07E0)
9DFD:06E2			loc_82::					;  xref 9DFD:06DD
9DFD:06E2  58					pop	ax
9DFD:06E3  8A FC				mov	bh,ah
9DFD:06E5  B6 00				mov	dh,0
9DFD:06E7  72 68				jc	loc_88			; Jump if carry Set
9DFD:06E9  BE 0751				mov	si,751h
9DFD:06EC  56					push	si
9DFD:06ED  E8 00B2				call	sub_18			; (07A2)
9DFD:06F0  8A 66 01				mov	ah,[bp+1]
9DFD:06F3  D0 E4				shl	ah,1			; Shift w/zeros fill
9DFD:06F5  D0 E4				shl	ah,1			; Shift w/zeros fill
9DFD:06F7  80 E4 04				and	ah,4
9DFD:06FA  0A 66 00				or	ah,[bp]
9DFD:06FD  E8 00A2				call	sub_18			; (07A2)
9DFD:0700  80 FF 4D				cmp	bh,4Dh			; 'M'
9DFD:0703  75 02				jne	loc_83			; Jump if not equal
9DFD:0705  EB 9A				jmp	short loc_78		; (06A1)
9DFD:0707			loc_83::					;  xref 9DFD:0703
9DFD:0707  8A E5				mov	ah,ch
9DFD:0709  E8 0096				call	sub_18			; (07A2)
9DFD:070C  8A 66 01				mov	ah,[bp+1]
9DFD:070F  E8 0090				call	sub_18			; (07A2)
9DFD:0712  8A E1				mov	ah,cl
9DFD:0714  E8 008B				call	sub_18			; (07A2)
9DFD:0717  BB 0007				mov	bx,7
9DFD:071A  E8 00B2				call	sub_19			; (07CF)
9DFD:071D  BB 0009				mov	bx,9
9DFD:0720  E8 00AC				call	sub_19			; (07CF)
9DFD:0723  BB 000B				mov	bx,0Bh
9DFD:0726  E8 00A6				call	sub_19			; (07CF)
9DFD:0729  5E					pop	si
9DFD:072A  9C					pushf				; Push flags
9DFD:072B  FA					cli				; Disable interrupts
9DFD:072C  BB 000D				mov	bx,0Dh
9DFD:072F  E8 009D				call	sub_19			; (07CF)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 22

9DFD:0732  F6 06 003F 80			test	byte ptr ds:dsk_motor_stat,80h	; (0040:003F=0)
9DFD:0737  74 05				jz	loc_85			; Jump if zero
9DFD:0739			loc_84::					;  xref 9DFD:06BC
9DFD:0739  E8 0120				call	sub_22			; (085C)
9DFD:073C  EB 0F				jmp	short loc_87		; (074D)
9DFD:073E			loc_85::					;  xref 9DFD:0737
9DFD:073E  F6 06 003F 40			test	byte ptr ds:dsk_motor_stat,40h	; (0040:003F=0) '@'
9DFD:0743  75 05				jnz	loc_86			; Jump if not zero
9DFD:0745  E8 0169				call	sub_23			; (08B1)
9DFD:0748  EB 03				jmp	short loc_87		; (074D)
9DFD:074A			loc_86::					;  xref 9DFD:0743
9DFD:074A  E8 01B3				call	sub_24			; (0900)
9DFD:074D			loc_87::					;  xref 9DFD:073C, 0748
9DFD:074D  9D					popf				; Pop flags
9DFD:074E  E8 023D				call	sub_28			; (098E)
9DFD:0751			loc_88::					;  xref 9DFD:06E7
9DFD:0751  72 45				jc	loc_92			; Jump if carry Set
9DFD:0753  E8 0265				call	sub_29			; (09BB)
9DFD:0756  72 3F				jc	loc_ret_91		; Jump if carry Set
9DFD:0758  FC					cld				; Clear direction
9DFD:0759 ˙BE 0042				mov	si,dsk_status_1		; (0040:0042=4)
9DFD:075C  AC					lodsb				; String [si] to al
9DFD:075D  24 C0				and	al,0C0h
9DFD:075F  74 3B				jz	loc_93			; Jump if zero
9DFD:0761  3C 40				cmp	al,40h			; '@'
9DFD:0763  75 29				jne	loc_89			; Jump if not equal
9DFD:0765  AC					lodsb				; String [si] to al
9DFD:0766  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:0768  B4 04				mov	ah,4
9DFD:076A  72 24				jc	loc_90			; Jump if carry Set
9DFD:076C  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:076E  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:0770  B4 10				mov	ah,10h
9DFD:0772  72 1C				jc	loc_90			; Jump if carry Set
9DFD:0774  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:0776  B4 08				mov	ah,8
9DFD:0778  72 16				jc	loc_90			; Jump if carry Set
9DFD:077A  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:077C  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:077E  B4 04				mov	ah,4
9DFD:0780  72 0E				jc	loc_90			; Jump if carry Set
9DFD:0782  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:0784  B4 03				mov	ah,3
9DFD:0786  72 08				jc	loc_90			; Jump if carry Set
9DFD:0788  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:078A  B4 02				mov	ah,2
9DFD:078C  72 02				jc	loc_90			; Jump if carry Set
9DFD:078E			loc_89::					;  xref 9DFD:0763
9DFD:078E  B4 20				mov	ah,20h			; ' '
9DFD:0790			loc_90::					;  xref 9DFD:076A, 0772, 0778, 0780
										;            0786, 078C
9DFD:0790  08 26 0041				or	ds:dsk_ret_code,ah	; (0040:0041=0)
9DFD:0794  E8 02C9				call	sub_34			; (0A60)

9DFD:0797			loc_ret_91::					;  xref 9DFD:0756
9DFD:0797  C3					retn
9DFD:0798			loc_92::					;  xref 9DFD:0751
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 23

9DFD:0798  E8 0220				call	sub_29			; (09BB)
9DFD:079B  C3					retn
9DFD:079C			loc_93::					;  xref 9DFD:075F
9DFD:079C  E8 02C1				call	sub_34			; (0A60)
9DFD:079F  32 E4				xor	ah,ah			; Zero register
9DFD:07A1  C3					retn
				sub_17		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:063B, 06ED, 06FD, 0709, 070F, 0714, 07F5
				;                             07FB, 0808, 080E, 0813, 0948, 0A13, 0A19
				;                             0A4F
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:07A2			sub_18		proc	near
9DFD:07A2			loc_94::					;  xref 9DFD:07DD
9DFD:07A2  52					push	dx
9DFD:07A3  51					push	cx
9DFD:07A4  BA FF12				mov	dx,0FF12h
9DFD:07A7  33 C9				xor	cx,cx			; Zero register

9DFD:07A9			locloop_95::					;  xref 9DFD:07AE
9DFD:07A9  EC					in	al,dx			; port 0FF12h ??i/o non-standard
9DFD:07AA  A8 40				test	al,40h			; '@'
9DFD:07AC  74 0C				jz	loc_97			; Jump if zero
9DFD:07AE  E2 F9				loop	locloop_95		; Loop if cx > 0

9DFD:07B0			loc_96::					;  xref 9DFD:07C3
9DFD:07B0 ˙80 0E 0041 80			or	byte ptr ds:dsk_ret_code,80h	; (0040:0041=0)
9DFD:07B5  59					pop	cx
9DFD:07B6  5A					pop	dx
9DFD:07B7  58					pop	ax
9DFD:07B8  F9					stc				; Set carry flag
9DFD:07B9  C3					retn
9DFD:07BA			loc_97::					;  xref 9DFD:07AC
9DFD:07BA  33 C9				xor	cx,cx			; Zero register

9DFD:07BC			locloop_98::					;  xref 9DFD:07C1
9DFD:07BC  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
9DFD:07BD  A8 80				test	al,80h
9DFD:07BF  75 04				jnz	loc_99			; Jump if not zero
9DFD:07C1  E2 F9				loop	locloop_98		; Loop if cx > 0

9DFD:07C3  EB EB				jmp	short loc_96		; (07B0)
9DFD:07C5			loc_99::					;  xref 9DFD:07BF
9DFD:07C5  8A C4				mov	al,ah
9DFD:07C7  BA FF13				mov	dx,0FF13h
9DFD:07CA  EE					out	dx,al			; port 0FF13h ??i/o non-standard
9DFD:07CB  59					pop	cx
9DFD:07CC  5A					pop	dx
9DFD:07CD  F8					clc				; Clear carry flag
9DFD:07CE  C3					retn
				sub_18		endp

           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 24


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:05E8, 0641, 0647, 068F, 06A4, 06AA, 06B0
				;                             06B9, 071A, 0720, 0726, 072F, 0820, 084B
				;                             0A6D
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:07CF			sub_19		proc	near
9DFD:07CF  1E					push	ds
9DFD:07D0  2B C0				sub	ax,ax
9DFD:07D2  8E D8				mov	ds,ax
9DFD:07D4  C5 36 0078				lds	si,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load seg:offset ptr
9DFD:07D8  D1 EB				shr	bx,1			; Shift w/zeros fill
9DFD:07DA  8A 20				mov	ah,[bx+si]
9DFD:07DC  1F					pop	ds
9DFD:07DD  72 C3				jc	loc_94			; Jump if carry Set
9DFD:07DF  C3					retn
				sub_19		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:06DF
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:07E0			sub_20		proc	near
9DFD:07E0  50					push	ax
9DFD:07E1  51					push	cx
9DFD:07E2  B0 01				mov	al,1
9DFD:07E4  8A CA				mov	cl,dl
9DFD:07E6  D2 C0				rol	al,cl			; Rotate
9DFD:07E8  59					pop	cx
9DFD:07E9  84 06 003E				test	al,ds:dsk_recal_stat	; (0040:003E=1)
9DFD:07ED  75 17				jnz	loc_100			; Jump if not zero
9DFD:07EF  08 06 003E				or	ds:dsk_recal_stat,al	; (0040:003E=1)
9DFD:07F3  B4 07				mov	ah,7
9DFD:07F5  E8 FFAA				call	sub_18			; (07A2)
9DFD:07F8  8A 66 00				mov	ah,[bp]
9DFD:07FB  E8 FFA4				call	sub_18			; (07A2)
9DFD:07FE  E8 0140				call	sub_25			; (0941)
9DFD:0801  72 30				jc	loc_104			; Jump if carry Set
9DFD:0803  E8 0246				call	sub_33			; (0A4C)
9DFD:0806			loc_100::					;  xref 9DFD:07ED
9DFD:0806  B4 0F				mov	ah,0Fh
9DFD:0808  E8 FF97				call	sub_18			; (07A2)
9DFD:080B  8A 66 00				mov	ah,[bp]
9DFD:080E  E8 FF91				call	sub_18			; (07A2)
9DFD:0811  8A E5				mov	ah,ch
9DFD:0813  E8 FF8C				call	sub_18			; (07A2)
9DFD:0816  E8 0128				call	sub_25			; (0941)
9DFD:0819  9C					pushf				; Push flags
9DFD:081A  E8 022F				call	sub_33			; (0A4C)
9DFD:081D  BB 0012				mov	bx,12h
9DFD:0820  E8 FFAC				call	sub_19			; (07CF)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 25

9DFD:0823  51					push	cx
9DFD:0824			loc_101::					;  xref 9DFD:082F
9DFD:0824 ˙B9 044C				mov	cx,44Ch
9DFD:0827  0A E4				or	ah,ah			; Zero ?
9DFD:0829  74 06				jz	loc_103			; Jump if zero

9DFD:082B			locloop_102::					;  xref 9DFD:082B
9DFD:082B  E2 FE				loop	locloop_102		; Loop if cx > 0

9DFD:082D  FE CC				dec	ah
9DFD:082F  EB F3				jmp	short loc_101		; (0824)
9DFD:0831			loc_103::					;  xref 9DFD:0829
9DFD:0831  59					pop	cx
9DFD:0832  9D					popf				; Pop flags
9DFD:0833			loc_104::					;  xref 9DFD:0801
9DFD:0833  58					pop	ax
9DFD:0834  C3					retn
				sub_20		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0670, 0683, 06C4
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0835			sub_21		proc	near
9DFD:0835  8C 06 0069				mov	ds:@gen_use_seg,es	; (0040:0069=0C000h)
9DFD:0839  89 1E 0067				mov	ds:@gen_use_ptr,bx	; (0040:0067=3)
9DFD:083D  50					push	ax
9DFD:083E  53					push	bx
9DFD:083F  51					push	cx
9DFD:0840  52					push	dx
9DFD:0841  8A E6				mov	ah,dh
9DFD:0843  2A C0				sub	al,al
9DFD:0845  D1 E8				shr	ax,1			; Shift w/zeros fill
9DFD:0847  50					push	ax
9DFD:0848  BB 0006				mov	bx,6
9DFD:084B  E8 FF81				call	sub_19			; (07CF)
9DFD:084E  8A CC				mov	cl,ah
9DFD:0850  58					pop	ax
9DFD:0851  D3 E0				shl	ax,cl			; Shift w/zeros fill
9DFD:0853  A3 0074				mov	ds:hdsk_status_1,ax	; (0040:0074=100h)
9DFD:0856  F8					clc				; Clear carry flag
9DFD:0857  5A					pop	dx
9DFD:0858  59					pop	cx
9DFD:0859  5B					pop	bx
9DFD:085A  58					pop	ax
9DFD:085B  C3					retn
				sub_21		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0739
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 26


9DFD:085C			sub_22		proc	near
9DFD:085C  53					push	bx
9DFD:085D  52					push	dx
9DFD:085E  56					push	si
9DFD:085F  51					push	cx
9DFD:0860  BA FF10				mov	dx,0FF10h
9DFD:0863  B0 84				mov	al,84h
9DFD:0865  0A 06 006B				or	al,ds:gen_int_occured	; (0040:006B=0)
9DFD:0869  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:086A  FC					cld				; Clear direction
9DFD:086B  8B 36 0067				mov	si,ds:@gen_use_ptr	; (0040:0067=3)
9DFD:086F  8B 0E 0074				mov	cx,ds:hdsk_status_1	; (0040:0074=100h)
9DFD:0873  D1 E9				shr	cx,1			; Shift w/zeros fill
9DFD:0875  1E					push	ds
9DFD:0876  8E 1E 0069				mov	ds,ds:@gen_use_seg	; (0040:0069=0C000h)
9DFD:087A  BB FF11				mov	bx,0FF11h
9DFD:087D  B4 02				mov	ah,2

9DFD:087F			locloop_105::					;  xref 9DFD:0895
9DFD:087F  EC					in	al,dx			; port 0FF10h ??i/o non-standard
9DFD:0880  84 C4				test	al,ah
9DFD:0882  74 13				jz	loc_106			; Jump if zero
9DFD:0884  AC					lodsb				; String [si] to al
9DFD:0885  87 D3				xchg	dx,bx
9DFD:0887  EE					out	dx,al			; port 0FF11h ??i/o non-standard
9DFD:0888  87 D3				xchg	dx,bx
9DFD:088A  EC					in	al,dx			; port 0FF10h ??i/o non-standard
9DFD:088B  84 C4				test	al,ah
9DFD:088D  74 08				jz	loc_106			; Jump if zero
9DFD:088F  AC					lodsb				; String [si] to al
9DFD:0890  87 D3				xchg	dx,bx
9DFD:0892  EE					out	dx,al			; port 0FF11h ??i/o non-standard
9DFD:0893  87 D3				xchg	dx,bx
9DFD:0895  E2 E8				loop	locloop_105		; Loop if cx > 0

9DFD:0897			loc_106::					;  xref 9DFD:0882, 088D
9DFD:0897  1F					pop	ds
9DFD:0898  E3 04				jcxz	loc_107			; Jump if cx=0
9DFD:089A  89 0E 0078				mov	ds:prn_timeout_1,cx	; (0040:0078=0)
9DFD:089E			loc_107::					;  xref 9DFD:0898
9DFD:089E  89 36 0067				mov	ds:@gen_use_ptr,si	; (0040:0067=3)
9DFD:08A2  B0 80				mov	al,80h
9DFD:08A4  0A 06 006B				or	al,ds:gen_int_occured	; (0040:006B=0)
9DFD:08A8  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:08A9  E8 0152				call	sub_30			; (09FE)
9DFD:08AC  59					pop	cx
9DFD:08AD  5E					pop	si
9DFD:08AE  5A					pop	dx
9DFD:08AF  5B					pop	bx
9DFD:08B0  C3					retn
				sub_22		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
           l286cm5.lst     LDP	REV 1.0 10/30/85		Sourcer	v7.00   13-Oct-22  11:12 pm   Page 27

				;         Called from:   9DFD:0745
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:08B1			sub_23		proc	near
9DFD:08B1  53					push	bx
9DFD:08B2  52					push	dx
9DFD:08B3  57					push	di
9DFD:08B4  51					push	cx
9DFD:08B5  BA FF10				mov	dx,0FF10h
9DFD:08B8  B0 84				mov	al,84h
9DFD:08BA  0A 06 006B				or	al,ds:gen_int_occured	; (0040:006B=0)
9DFD:08BE  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:08BF  FC					cld				; Clear direction
9DFD:08C0  8B 3E 0067				mov	di,ds:@gen_use_ptr	; (0040:0067=3)
9DFD:08C4  8B 0E 0074				mov	cx,ds:hdsk_status_1	; (0040:0074=100h)
9DFD:08C8  D1 E9				shr	cx,1			; Shift w/zeros fill
9DFD:08CA  06					push	es
9DFD:08CB  8E 06 0069				mov	es,ds:@gen_use_seg	; (0040:0069=0C000h)
9DFD:08CF  BB FF11				mov	bx,0FF11h
9DFD:08D2  B4 02				mov	ah,2

9DFD:08D4			locloop_108::					;  xref 9DFD:08EA
9DFD:08D4  EC					in	al,dx			; port 0FF10h ??i/o non-standard
9DFD:08D5  84 C4				test	al,ah
9DFD:08D7  74 13				jz	loc_109			; Jump if zero
9DFD:08D9  87 D3				xchg	dx,bx
9DFD:08DB  EC					in	al,dx			; port 0FF11h ??i/o non-standard
9DFD:08DC  AA					stosb				; Store al to es:[di]
9DFD:08DD  87 D3				xchg	dx,bx
9DFD:08DF  EC					in	al,dx			; port 0FF10h ??i/o non-standard
9DFD:08E0  84 C4				test	al,ah
9DFD:08E2  74 08				jz	loc_109			; Jump if zero
9DFD:08E4  87 D3				xchg	dx,bx
9DFD:08E6  EC					in	al,dx			; port 0FF11h ??i/o non-standard
9DFD:08E7  AA					stosb				; Store al to es:[di]
9DFD:08E8  87 D3				xchg	dx,bx
9DFD:08EA  E2 E8				loop	locloop_108		; Loop if cx > 0

9DFD:08EC			loc_109::					;  xref 9DFD:08D7, 08E2
9DFD:08EC  07					pop	es
9DFD:08ED  89 3E 0067				mov	ds:@gen_use_ptr,di	; (0040:0067=3)
9DFD:08F1  B0 80				mov	al,80h
9DFD:08F3  0A 06 006B				or	al,ds:gen_int_occured	; (0040:006B=0)
9DFD:08F7  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:08F8  E8 0103				call	sub_30			; (09FE)
9DFD:08FB  59					pop	cx
9DFD:08FC  5F					pop	di
9DFD:08FD  5A					pop	dx
9DFD:08FE  5B					pop	bx
9DFD:08FF  C3					retn
				sub_23		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:074A
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 28

				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0900			sub_24		proc	near
9DFD:0900  52					push	dx
9DFD:0901  51					push	cx
9DFD:0902  53					push	bx
9DFD:0903  BA FF10				mov	dx,0FF10h
9DFD:0906  B0 84				mov	al,84h
9DFD:0908  0A 06 006B				or	al,ds:gen_int_occured	; (0040:006B=0)
9DFD:090C  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:090D  FC					cld				; Clear direction
9DFD:090E  8B 0E 0074				mov	cx,ds:hdsk_status_1	; (0040:0074=100h)
9DFD:0912  D1 E9				shr	cx,1			; Shift w/zeros fill
9DFD:0914  BB FF11				mov	bx,0FF11h
9DFD:0917  B4 02				mov	ah,2

9DFD:0919			locloop_110::					;  xref 9DFD:0931
9DFD:0919  EC					in	al,dx			; port 0FF10h ??i/o non-standard
9DFD:091A  84 C4				test	al,ah
9DFD:091C  74 15				jz	loc_111			; Jump if zero
9DFD:091E  87 D3				xchg	dx,bx
9DFD:0920  EC					in	al,dx			; port 0FF11h ??i/o non-standard
9DFD:0921  50					push	ax
9DFD:0922  58					pop	ax
9DFD:0923  87 D3				xchg	dx,bx
9DFD:0925  EC					in	al,dx			; port 0FF10h ??i/o non-standard
9DFD:0926  84 C4				test	al,ah
9DFD:0928  74 09				jz	loc_111			; Jump if zero
9DFD:092A  87 D3				xchg	dx,bx
9DFD:092C  EC					in	al,dx			; port 0FF11h ??i/o non-standard
9DFD:092D  50					push	ax
9DFD:092E  58					pop	ax
9DFD:092F  87 D3				xchg	dx,bx
9DFD:0931  E2 E6				loop	locloop_110		; Loop if cx > 0

9DFD:0933			loc_111::					;  xref 9DFD:091C, 0928
9DFD:0933  B0 80				mov	al,80h
9DFD:0935  0A 06 006B				or	al,ds:gen_int_occured	; (0040:006B=0)
9DFD:0939  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:093A  E8 00C1				call	sub_30			; (09FE)
9DFD:093D  5B					pop	bx
9DFD:093E  59					pop	cx
9DFD:093F  5A					pop	dx
9DFD:0940  C3					retn
				sub_24		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:07FE, 0816
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0941			sub_25		proc	near
9DFD:0941  E8 004A				call	sub_28			; (098E)
9DFD:0944  72 14				jc	loc_ret_112		; Jump if carry Set
9DFD:0946  B4 08				mov	ah,8
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 29

9DFD:0948  E8 FE57				call	sub_18			; (07A2)
9DFD:094B  E8 006D				call	sub_29			; (09BB)
9DFD:094E  72 0A				jc	loc_ret_112		; Jump if carry Set
9DFD:0950  A0 0042				mov	al,ds:dsk_status_1	; (0040:0042=4)
9DFD:0953  24 60				and	al,60h			; '`'
9DFD:0955  3C 60				cmp	al,60h			; '`'
9DFD:0957  74 02				je	loc_113			; Jump if equal
9DFD:0959  F8					clc				; Clear carry flag

9DFD:095A			loc_ret_112::					;  xref 9DFD:0944, 094E
9DFD:095A  C3					retn
9DFD:095B			loc_113::					;  xref 9DFD:0957
9DFD:095B  80 0E 0041 40			or	byte ptr ds:dsk_ret_code,40h	; (0040:0041=0) '@'
9DFD:0960  F9					stc				; Set carry flag
9DFD:0961  C3					retn
				sub_25		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0510, 0665
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0962			sub_26		proc	near
9DFD:0962  50					push	ax
9DFD:0963  52					push	dx
9DFD:0964  80 26 003F F0			and	byte ptr ds:[3Fh],0F0h	; (9DFD:003F=8Bh)
9DFD:0969  A0 006B				mov	al,byte ptr ds:[6Bh]	; (9DFD:006B=0)
9DFD:096C  24 FC				and	al,0FCh
9DFD:096E  A2 006B				mov	byte ptr ds:[6Bh],al	; (9DFD:006B=0)
9DFD:0971  BA FF10				mov	dx,0FF10h
9DFD:0974  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:0975  5A					pop	dx
9DFD:0976  58					pop	ax
9DFD:0977  C3					retn
				sub_26		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:06D7
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0978			sub_27		proc	near
9DFD:0978  50					push	ax
9DFD:0979  52					push	dx
9DFD:097A  80 0E 003F 0F			or	byte ptr ds:dsk_motor_stat,0Fh	; (0040:003F=0)
9DFD:097F  A0 006B				mov	al,ds:gen_int_occured	; (0040:006B=0)
9DFD:0982  0C 03				or	al,3
9DFD:0984  A2 006B				mov	ds:gen_int_occured,al	; (0040:006B=0)
9DFD:0987  BA FF10				mov	dx,0FF10h
9DFD:098A  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:098B  5A					pop	dx
9DFD:098C  58					pop	ax
9DFD:098D  C3					retn
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 30

				sub_27		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:074E, 0941
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:098E			sub_28		proc	near
9DFD:098E  50					push	ax
9DFD:098F  53					push	bx
9DFD:0990  51					push	cx
9DFD:0991  B0 80				mov	al,80h
9DFD:0993  0A 06 006B				or	al,ds:gen_int_occured	; (0040:006B=0)
9DFD:0997  BA FF10				mov	dx,0FF10h
9DFD:099A  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:099B  B3 05				mov	bl,5
9DFD:099D  33 C9				xor	cx,cx			; Zero register

9DFD:099F			locloop_114::					;  xref 9DFD:09A4, 09A8
9DFD:099F  EC					in	al,dx			; port 0FF10h ??i/o non-standard
9DFD:09A0  A8 01				test	al,1
9DFD:09A2  75 0C				jnz	loc_115			; Jump if not zero
9DFD:09A4  E2 F9				loop	locloop_114		; Loop if cx > 0

9DFD:09A6  FE CB				dec	bl
9DFD:09A8  75 F5				jnz	locloop_114		; Jump if not zero
9DFD:09AA  80 0E 0041 80			or	byte ptr ds:dsk_ret_code,80h	; (0040:0041=0)
9DFD:09AF  F9					stc				; Set carry flag
9DFD:09B0			loc_115::					;  xref 9DFD:09A2
9DFD:09B0  9C					pushf				; Push flags
9DFD:09B1  80 26 003E 7F			and	byte ptr ds:dsk_recal_stat,7Fh	; (0040:003E=1)
9DFD:09B6  9D					popf				; Pop flags
9DFD:09B7  59					pop	cx
9DFD:09B8  5B					pop	bx
9DFD:09B9  58					pop	ax
9DFD:09BA  C3					retn
				sub_28		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0753, 0798, 094B
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:09BB			sub_29		proc	near
9DFD:09BB  FC					cld				; Clear direction
9DFD:09BC ˙BF 0042				mov	di,dsk_status_1		; (0040:0042=4)
9DFD:09BF  50					push	ax
9DFD:09C0  51					push	cx
9DFD:09C1  52					push	dx
9DFD:09C2  53					push	bx
9DFD:09C3  B3 07				mov	bl,7
9DFD:09C5			loc_116::					;  xref 9DFD:09F5
9DFD:09C5  33 C9				xor	cx,cx			; Zero register
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 31

9DFD:09C7  BA FF12				mov	dx,0FF12h

9DFD:09CA			locloop_117::					;  xref 9DFD:09CF
9DFD:09CA  EC					in	al,dx			; port 0FF12h ??i/o non-standard
9DFD:09CB  A8 80				test	al,80h
9DFD:09CD  75 08				jnz	loc_119			; Jump if not zero
9DFD:09CF  E2 F9				loop	locloop_117		; Loop if cx > 0

9DFD:09D1			loc_118::					;  xref 9DFD:09E1
9DFD:09D1 ˙F9					stc				; Set carry flag
9DFD:09D2  5B					pop	bx
9DFD:09D3  5A					pop	dx
9DFD:09D4  59					pop	cx
9DFD:09D5  58					pop	ax
9DFD:09D6  C3					retn
9DFD:09D7			loc_119::					;  xref 9DFD:09CD
9DFD:09D7  EC					in	al,dx			; port 10h ??i/o non-standard
9DFD:09D8  A8 40				test	al,40h			; '@'
9DFD:09DA  75 07				jnz	loc_121			; Jump if not zero
9DFD:09DC			loc_120::					;  xref 9DFD:09F7
9DFD:09DC ˙80 0E 0041 20			or	byte ptr ds:dsk_ret_code,20h	; (0040:0041=0) ' '
9DFD:09E1  EB EE				jmp	short loc_118		; (09D1)
9DFD:09E3			loc_121::					;  xref 9DFD:09DA
9DFD:09E3  42					inc	dx
9DFD:09E4  EC					in	al,dx			; port 11h ??i/o non-standard
9DFD:09E5  88 05				mov	[di],al
9DFD:09E7  47					inc	di
9DFD:09E8  B9 0028				mov	cx,28h

9DFD:09EB			locloop_122::					;  xref 9DFD:09EB
9DFD:09EB  E2 FE				loop	locloop_122		; Loop if cx > 0

9DFD:09ED  4A					dec	dx
9DFD:09EE  EC					in	al,dx			; port 10h ??i/o non-standard
9DFD:09EF  A8 10				test	al,10h
9DFD:09F1  74 06				jz	loc_123			; Jump if zero
9DFD:09F3  FE CB				dec	bl
9DFD:09F5  75 CE				jnz	loc_116			; Jump if not zero
9DFD:09F7  EB E3				jmp	short loc_120		; (09DC)
9DFD:09F9			loc_123::					;  xref 9DFD:09F1
9DFD:09F9  5B					pop	bx
9DFD:09FA  5A					pop	dx
9DFD:09FB  59					pop	cx
9DFD:09FC  58					pop	ax
9DFD:09FD  C3					retn
				sub_29		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0633, 08A9, 08F8, 093A
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:09FE			sub_30		proc	near
9DFD:09FE  50					push	ax
9DFD:09FF  52					push	dx
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 32

9DFD:0A00  B0 10				mov	al,10h
9DFD:0A02  BA FF10				mov	dx,0FF10h
9DFD:0A05  EE					out	dx,al			; port 0FF10h ??i/o non-standard
9DFD:0A06  5A					pop	dx
9DFD:0A07  58					pop	ax
9DFD:0A08  C3					retn
				sub_30		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:06DA
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0A09			sub_31		proc	near
9DFD:0A09  50					push	ax
9DFD:0A0A  53					push	bx
9DFD:0A0B  51					push	cx
9DFD:0A0C  52					push	dx
9DFD:0A0D  B3 02				mov	bl,2
9DFD:0A0F  33 C9				xor	cx,cx			; Zero register

9DFD:0A11			locloop_124::					;  xref 9DFD:0A23, 0A27
9DFD:0A11  B4 04				mov	ah,4
9DFD:0A13  E8 FD8C				call	sub_18			; (07A2)
9DFD:0A16  8A 66 00				mov	ah,[bp]
9DFD:0A19  E8 FD86				call	sub_18			; (07A2)
9DFD:0A1C  E8 0018				call	sub_32			; (0A37)
9DFD:0A1F  A8 20				test	al,20h			; ' '
9DFD:0A21  75 0E				jnz	loc_125			; Jump if not zero
9DFD:0A23  E2 EC				loop	locloop_124		; Loop if cx > 0

9DFD:0A25  FE CB				dec	bl
9DFD:0A27  75 E8				jnz	locloop_124		; Jump if not zero
9DFD:0A29  80 0E 0041 80			or	byte ptr ds:dsk_ret_code,80h	; (0040:0041=0)
9DFD:0A2E  F9					stc				; Set carry flag
9DFD:0A2F  EB 01				jmp	short loc_126		; (0A32)
9DFD:0A31			loc_125::					;  xref 9DFD:0A21
9DFD:0A31  F8					clc				; Clear carry flag
9DFD:0A32			loc_126::					;  xref 9DFD:0A2F
9DFD:0A32  5A					pop	dx
9DFD:0A33  59					pop	cx
9DFD:0A34  5B					pop	bx
9DFD:0A35  58					pop	ax
9DFD:0A36  C3					retn
				sub_31		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0A1C, 0A52, 0A59
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0A37			sub_32		proc	near
9DFD:0A37  52					push	dx
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 33

9DFD:0A38  BA FF12				mov	dx,0FF12h
9DFD:0A3B			loc_127::					;  xref 9DFD:0A3E
9DFD:0A3B  EC					in	al,dx			; port 0FF12h ??i/o non-standard
9DFD:0A3C  A8 80				test	al,80h
9DFD:0A3E  74 FB				jz	loc_127			; Jump if zero
9DFD:0A40  A8 40				test	al,40h			; '@'
9DFD:0A42  74 05				jz	loc_128			; Jump if zero
9DFD:0A44  42					inc	dx
9DFD:0A45  EC					in	al,dx			; port 0FF13h ??i/o non-standard
9DFD:0A46  5A					pop	dx
9DFD:0A47  F8					clc				; Clear carry flag
9DFD:0A48  C3					retn
9DFD:0A49			loc_128::					;  xref 9DFD:0A42
9DFD:0A49  5A					pop	dx
9DFD:0A4A  F9					stc				; Set carry flag
9DFD:0A4B  C3					retn
				sub_32		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0636, 0668, 06D3, 0803, 081A
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0A4C			sub_33		proc	near
9DFD:0A4C  50					push	ax
9DFD:0A4D			loc_129::					;  xref 9DFD:0A5C
9DFD:0A4D ˙B4 08				mov	ah,8
9DFD:0A4F  E8 FD50				call	sub_18			; (07A2)
9DFD:0A52  E8 FFE2				call	sub_32			; (0A37)
9DFD:0A55  3C 80				cmp	al,80h
9DFD:0A57  74 05				je	loc_130			; Jump if equal
9DFD:0A59  E8 FFDB				call	sub_32			; (0A37)
9DFD:0A5C  EB EF				jmp	short loc_129		; (0A4D)
9DFD:0A5E			loc_130::					;  xref 9DFD:0A57
9DFD:0A5E  58					pop	ax
9DFD:0A5F  C3					retn
				sub_33		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0794, 079C
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0A60			sub_34		proc	near
9DFD:0A60  A0 0045				mov	al,ds:dsk_status_4	; (0040:0045=0)
9DFD:0A63  3A C5				cmp	al,ch
9DFD:0A65  A0 0047				mov	al,ds:dsk_status_6	; (0040:0047=10h)
9DFD:0A68  74 0A				jz	loc_131			; Jump if zero
9DFD:0A6A  BB 0008				mov	bx,8
9DFD:0A6D  E8 FD5F				call	sub_19			; (07CF)
9DFD:0A70  8A C4				mov	al,ah
9DFD:0A72  FE C0				inc	al
9DFD:0A74			loc_131::					;  xref 9DFD:0A68
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 34

9DFD:0A74  2A C1				sub	al,cl
9DFD:0A76  C3					retn
				sub_34		endp

							                        ;* No entry point to code
9DFD:0A77  CF					iret				; Interrupt return
							                        ;* No entry point to code
9DFD:0A78  02 80 0802				add	al,byte ptr ds:[802h][bx+si]	; (9DFD:0802=30h)
9DFD:0A7C  2A FF				sub	bh,bh
9DFD:0A7E  50					push	ax
9DFD:0A7F  F6 19				neg	byte ptr [bx+di]
9DFD:0A81  04 1E				add	al,1Eh
9DFD:0A83  9C					pushf				; Push flags
9DFD:0A84  FA					cli				; Disable interrupts
9DFD:0A85  33 C0				xor	ax,ax			; Zero register
9DFD:0A87  8E D8				mov	ds,ax
9DFD:0A89  B8 0ACB				mov	ax,0ACBh
9DFD:0A8C  A3 0058				mov	ds:data_3e,ax		; (0000:0058=0A5A5h)
9DFD:0A8F  8C 0E 005A				mov	ds:data_4e,cs		; (0000:005A=0F000h)
9DFD:0A93  B8 0C87				mov	ax,0C87h
9DFD:0A96  A3 0024				mov	ds:vector_9h_off,ax	; (0000:0024=1923h)
9DFD:0A99  8C 0E 0026				mov	ds:vector_9h_seg,cs	; (0000:0026=0BADh)
9DFD:0A9D  B8 0040				mov	ax,40h
9DFD:0AA0  8E D8				mov	ds,ax
9DFD:0AA2  B8 001E				mov	ax,1Eh
9DFD:0AA5  A3 001A				mov	ds:keybd_q_head,ax	; (0040:001A=32h)
9DFD:0AA8  A3 001C				mov	ds:keybd_q_tail,ax	; (0040:001C=32h)
9DFD:0AAB  33 C0				xor	ax,ax			; Zero register
9DFD:0AAD  A2 0017				mov	ds:keybd_flags_1,al	; (0040:0017=0)
9DFD:0AB0  A2 0018				mov	ds:keybd_flags_2,al	; (0040:0018=0)
9DFD:0AB3  A2 0019				mov	ds:keybd_alt_num,al	; (0040:0019=0)
9DFD:0AB6  BA FFFE				mov	dx,0FFFEh
9DFD:0AB9  EC					in	al,dx			; port 0FFFEh ??i/o non-standard
9DFD:0ABA  24 FD				and	al,0FDh
9DFD:0ABC  EE					out	dx,al			; port 0FFFEh ??i/o non-standard
9DFD:0ABD  B0 98				mov	al,98h
9DFD:0ABF  E6 63				out	63h,al			; port 63h, 8255 mode reg
9DFD:0AC1  B0 C0				mov	al,0C0h
9DFD:0AC3  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
9DFD:0AC5  E8 0049				call	sub_36			; (0B11)
9DFD:0AC8  9D					popf				; Pop flags
9DFD:0AC9  1F					pop	ds
9DFD:0ACA  C3					retn
							                        ;* No entry point to code
9DFD:0ACB  1E					push	ds
9DFD:0ACC  53					push	bx
9DFD:0ACD  BB 0040				mov	bx,40h
9DFD:0AD0  8E DB				mov	ds,bx
9DFD:0AD2  0A E4				or	ah,ah			; Zero ?
9DFD:0AD4  74 0B				jz	loc_132			; Jump if zero
9DFD:0AD6  FE CC				dec	ah
9DFD:0AD8  74 20				jz	loc_133			; Jump if zero
9DFD:0ADA  FE CC				dec	ah
9DFD:0ADC  74 2D				jz	loc_134			; Jump if zero
9DFD:0ADE  5B					pop	bx
9DFD:0ADF  1F					pop	ds
9DFD:0AE0  CF					iret				; Interrupt return
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 35

9DFD:0AE1			loc_132::					;  xref 9DFD:0AD4, 0AEC
9DFD:0AE1  FB					sti				; Enable interrupts
9DFD:0AE2  90					nop
9DFD:0AE3  FA					cli				; Disable interrupts
9DFD:0AE4  8B 1E 001A				mov	bx,word ptr ds:[1Ah]	; (9DFD:001A=0FCBAh)
9DFD:0AE8  3B 1E 001C				cmp	bx,word ptr ds:[1Ch]	; (9DFD:001C=0B0FFh)
9DFD:0AEC  74 F3				je	loc_132			; Jump if equal
9DFD:0AEE  8B 07				mov	ax,[bx]
9DFD:0AF0  E8 0083				call	sub_37			; (0B76)
9DFD:0AF3  89 1E 001A				mov	word ptr ds:[1Ah],bx	; (9DFD:001A=0FCBAh)
9DFD:0AF7  5B					pop	bx
9DFD:0AF8  1F					pop	ds
9DFD:0AF9  CF					iret				; Interrupt return
9DFD:0AFA			loc_133::					;  xref 9DFD:0AD8
9DFD:0AFA  FA					cli				; Disable interrupts
9DFD:0AFB  8B 1E 001A				mov	bx,word ptr ds:[1Ah]	; (9DFD:001A=0FCBAh)
9DFD:0AFF  3B 1E 001C				cmp	bx,word ptr ds:[1Ch]	; (9DFD:001C=0B0FFh)
9DFD:0B03  8B 07				mov	ax,[bx]
9DFD:0B05  FB					sti				; Enable interrupts
9DFD:0B06  5B					pop	bx
9DFD:0B07  1F					pop	ds
9DFD:0B08  CA 0002				retf	2			; Return far
9DFD:0B0B			loc_134::					;  xref 9DFD:0ADC
9DFD:0B0B  A0 0017				mov	al,byte ptr ds:[17h]	; (9DFD:0017=0EBh)
9DFD:0B0E  5B					pop	bx
9DFD:0B0F  1F					pop	ds
9DFD:0B10  CF					iret				; Interrupt return

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0AC5
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0B11			sub_36		proc	near
9DFD:0B11  FA					cli				; Disable interrupts
9DFD:0B12  E4 61				in	al,61h			; port 61h, 8255 port B, read
9DFD:0B14  24 3F				and	al,3Fh			; '?'
9DFD:0B16  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
										;  al = 0, speaker off
9DFD:0B18  B9 A558				mov	cx,0A558h

9DFD:0B1B			locloop_135::					;  xref 9DFD:0B1B
9DFD:0B1B  E2 FE				loop	locloop_135		; Loop if cx > 0

9DFD:0B1D  E4 61				in	al,61h			; port 61h, 8255 port B, read
9DFD:0B1F  0C C0				or	al,0C0h
9DFD:0B21  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
9DFD:0B23  24 3F				and	al,3Fh			; '?'
9DFD:0B25  0C 40				or	al,40h			; '@'
9DFD:0B27  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
9DFD:0B29  33 C9				xor	cx,cx			; Zero register
9DFD:0B2B  FA					cli				; Disable interrupts

9DFD:0B2C			locloop_136::					;  xref 9DFD:0B30
9DFD:0B2C  E4 62				in	al,62h			; port 62h, 8255 C - sw2, etc.
9DFD:0B2E  A8 10				test	al,10h
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 36

9DFD:0B30  E1 FA				loopz	locloop_136		; Loop if zf=1, cx>0

9DFD:0B32  E3 15				jcxz	loc_137			; Jump if cx=0
9DFD:0B34  E4 60				in	al,60h			; port 60h, keybd scan or sw1
9DFD:0B36  50					push	ax
9DFD:0B37  E4 61				in	al,61h			; port 61h, 8255 port B, read
9DFD:0B39  8A E0				mov	ah,al
9DFD:0B3B  0C 80				or	al,80h
9DFD:0B3D  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
9DFD:0B3F  8A C4				mov	al,ah
9DFD:0B41  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
9DFD:0B43  58					pop	ax
9DFD:0B44  3C AA				cmp	al,0AAh
9DFD:0B46  75 01				jne	loc_137			; Jump if not equal
9DFD:0B48  C3					retn
9DFD:0B49			loc_137::					;  xref 9DFD:0B32, 0B46
9DFD:0B49 ˙BE 0B5D				mov	si,offset data_39	; (9DFD:0B5D='Keyboard reset f')
9DFD:0B4C  E8 FA58				call	sub_15			; (05A7)
9DFD:0B4F  E4 61				in	al,61h			; port 61h, 8255 port B, read
9DFD:0B51  8A E0				mov	ah,al
9DFD:0B53  0C 80				or	al,80h
9DFD:0B55  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
9DFD:0B57  8A C4				mov	al,ah
9DFD:0B59  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
9DFD:0B5B  F9					stc				; Set carry flag
9DFD:0B5C  C3					retn
				sub_36		endp

9DFD:0B5D  4B 65 79 62 6F 61	data_39		db	'Keyboard reset failure', 0Ah, 0Dh	;  xref 9DFD:0B49
9DFD:0B63  72 64 20 72 65 73
9DFD:0B69  65 74 20 66 61 69
9DFD:0B6F  6C 75 72 65 0A 0D
9DFD:0B75  00					db	0

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0AF0, 0F07
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0B76			sub_37		proc	near
9DFD:0B76  83 C3 02				add	bx,2
9DFD:0B79  81 FB 003E				cmp	bx,3Eh
9DFD:0B7D  75 03				jne	loc_ret_138		; Jump if not equal
9DFD:0B7F  BB 001E				mov	bx,1Eh

9DFD:0B82			loc_ret_138::					;  xref 9DFD:0B7D
9DFD:0B82  C3					retn
				sub_37		endp

9DFD:0B83  52			data_40		db	52h			;  xref 9DFD:0CB6
9DFD:0B84  3A 45 46 38 1D 2A			db	 3Ah, 45h, 46h, 38h, 1Dh, 2Ah
9DFD:0B8A  36					db	 36h
9DFD:0B8B  80			data_41		db	80h			; Data table (indexed access)
										;  xref 9DFD:0CC9
9DFD:0B8C  40 20 10 08 04 02			db	 40h, 20h, 10h, 08h, 04h, 02h
9DFD:0B92  01 1B FF 00 FF FF			db	 01h, 1Bh,0FFh, 00h,0FFh,0FFh
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 37

9DFD:0B98  FF 1E FF FF FF FF			db	0FFh, 1Eh,0FFh,0FFh,0FFh,0FFh
9DFD:0B9E  1F FF 7F FF 11 17			db	 1Fh,0FFh, 7Fh,0FFh, 11h, 17h
9DFD:0BA4  05 12 14 19 15 09			db	 05h, 12h, 14h, 19h, 15h, 09h
9DFD:0BAA  0F 10 1B 1D 0A FF			db	 0Fh, 10h, 1Bh, 1Dh, 0Ah,0FFh
9DFD:0BB0  01 13 04 06 07 08			db	 01h, 13h, 04h, 06h, 07h, 08h
9DFD:0BB6  0A 0B 0C FF FF FF			db	 0Ah, 0Bh, 0Ch,0FFh,0FFh,0FFh
9DFD:0BBC  FF 1C 1A 18 03 16			db	0FFh, 1Ch, 1Ah, 18h, 03h, 16h
9DFD:0BC2  02 0E 0D FF FF FF			db	 02h, 0Eh, 0Dh,0FFh,0FFh,0FFh
9DFD:0BC8  FF FF FF 20 FF			db	0FFh,0FFh,0FFh, 20h,0FFh
9DFD:0BCD  5E 5F 60 61 62 63			db	'^_`abcdefg'
9DFD:0BD3  64 65 66 67
9DFD:0BD7  FF FF 77 FF 84 FF			db	0FFh,0FFh, 77h,0FFh, 84h,0FFh
9DFD:0BDD  73 FF 74 FF 75 FF			db	 73h,0FFh, 74h,0FFh, 75h,0FFh
9DFD:0BE3  76 FF FF				db	 76h,0FFh,0FFh
9DFD:0BE6  1B 31 32 33 34 35	data_42		db	1Bh, '1234567890-=', 8, 9, 'qwert'	;  xref 9DFD:0ECA
9DFD:0BEC  36 37 38 39 30 2D
9DFD:0BF2  3D 08 09 71 77 65
9DFD:0BF8  72 74
9DFD:0BFA  79 75 69 6F 70 5B			db	'yuiop[]', 0Dh
9DFD:0C00  5D 0D
9DFD:0C02  FF					db	0FFh
9DFD:0C03  61 73 64 66 67 68			db	'asdfghjkl;', 27h, '`'
9DFD:0C09  6A 6B 6C 3B 27 60
9DFD:0C0F  FF					db	0FFh
9DFD:0C10  5C 7A 78 63 76 62			db	'\zxcvbnm,./'
9DFD:0C16  6E 6D 2C 2E 2F
9DFD:0C1B  FF 2A FF 20 FF			db	0FFh, 2Ah,0FFh, 20h,0FFh
9DFD:0C20  1B 21 40 23 24			db	1Bh, '!@#$'
9DFD:0C25  25 5E 26 2A 28 29			db	'%^&*()_+', 8
9DFD:0C2B  5F 2B 08
9DFD:0C2E  00					db	0
9DFD:0C2F  51 57 45 52 54 59			db	'QWERTYUIOP{}', 0Dh
9DFD:0C35  55 49 4F 50 7B 7D
9DFD:0C3B  0D
9DFD:0C3C  FF					db	0FFh
9DFD:0C3D  41 53 44 46 47 48			db	'ASDFGHJKL:"~'
9DFD:0C43  4A 4B 4C 3A 22 7E
9DFD:0C49  FF					db	0FFh
9DFD:0C4A  7C 5A 58 43 56 42			db	'|ZXCVBNM<>?'
9DFD:0C50  4E 4D 3C 3E 3F
9DFD:0C55  FF 00 FF 20 FF 54			db	0FFh, 00h,0FFh, 20h,0FFh, 54h
9DFD:0C5B  55					db	 55h
9DFD:0C5C  56 57 58 59 5A 5B			db	'VWXYZ[\]hiklmn'
9DFD:0C62  5C 5D 68 69 6B 6C
9DFD:0C68  6D 6E
9DFD:0C6A  6F 70 71 37 38 39			db	'opq789-456+1230.GHI'
9DFD:0C70  2D 34 35 36 2B 31
9DFD:0C76  32 33 30 2E 47 48
9DFD:0C7C  49
9DFD:0C7D  FF 4B FF 4D FF 4F			db	0FFh, 4Bh,0FFh, 4Dh,0FFh, 4Fh
9DFD:0C83  50 51 52 53 FB 50			db	 50h, 51h, 52h, 53h,0FBh, 50h
9DFD:0C89  53 51 52 56 57 1E			db	 53h, 51h, 52h, 56h, 57h, 1Eh
9DFD:0C8F  06 FC B8 40 00 8E			db	 06h,0FCh,0B8h, 40h, 00h, 8Eh
9DFD:0C95  D8 E4 60 A2 7B 00			db	0D8h,0E4h, 60h,0A2h, 7Bh, 00h
9DFD:0C9B  50 E4 61 8A E0 0C			db	 50h,0E4h, 61h, 8Ah,0E0h, 0Ch
9DFD:0CA1  80 E6 61 86 E0 E6			db	 80h,0E6h, 61h, 86h,0E0h,0E6h
9DFD:0CA7  61 58 8A E0 3C FF			db	 61h, 58h, 8Ah,0E0h, 3Ch,0FFh
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 38

9DFD:0CAD  75 03 E9 67 02			db	 75h, 03h,0E9h, 67h, 02h
9DFD:0CB2			loc_139::
9DFD:0CB2  24 7F				and	al,7Fh
9DFD:0CB4  0E					push	cs
9DFD:0CB5  07					pop	es
9DFD:0CB6 ˙BF 0B83				mov	di,offset data_40	; (9DFD:0B83=52h)
9DFD:0CB9  B9 0008				mov	cx,8
9DFD:0CBC  F2/ AE				repne	scasb			; Rep zf=0+cx >0 Scan es:[di] for al
9DFD:0CBE  8A C4				mov	al,ah
9DFD:0CC0  74 03				jz	loc_140			; Jump if zero
9DFD:0CC2  E9 0088				jmp	loc_148			; (0D4D)
9DFD:0CC5			loc_140::					;  xref 9DFD:0CC0
9DFD:0CC5  81 EF 0B84				sub	di,0B84h
9DFD:0CC9  2E: 8A A5 0B8B			mov	ah,cs:data_41[di]	; (9DFD:0B8B=80h)
9DFD:0CCE  A8 80				test	al,80h
9DFD:0CD0  75 54				jnz	loc_146			; Jump if not zero
9DFD:0CD2  80 FC 10				cmp	ah,10h
9DFD:0CD5  73 07				jae	loc_141			; Jump if above or =
9DFD:0CD7  08 26 0017				or	byte ptr ds:[17h],ah	; (9DFD:0017=0EBh)
9DFD:0CDB  E9 0083				jmp	loc_149			; (0D61)
9DFD:0CDE			loc_141::					;  xref 9DFD:0CD5
9DFD:0CDE  F6 06 0017 04			test	byte ptr ds:[17h],4	; (9DFD:0017=0EBh)
9DFD:0CE3  75 68				jnz	loc_148			; Jump if not zero
9DFD:0CE5  3C 52				cmp	al,52h			; 'R'
9DFD:0CE7  75 25				jne	loc_145			; Jump if not equal
9DFD:0CE9  F6 06 0017 08			test	byte ptr ds:[17h],8	; (9DFD:0017=0EBh)
9DFD:0CEE  74 03				jz	loc_142			; Jump if zero
9DFD:0CF0  EB 5B				jmp	short loc_148		; (0D4D)
9DFD:0CF2  90					db	90h
9DFD:0CF3			loc_142::					;  xref 9DFD:0CEE
9DFD:0CF3  F6 06 0017 20			test	byte ptr ds:[17h],20h	; (9DFD:0017=0EBh) ' '
9DFD:0CF8  75 0D				jnz	loc_144			; Jump if not zero
9DFD:0CFA  F6 06 0017 03			test	byte ptr ds:[17h],3	; (9DFD:0017=0EBh)
9DFD:0CFF  74 0D				jz	loc_145			; Jump if zero
9DFD:0D01			loc_143::					;  xref 9DFD:0D0C
9DFD:0D01  B8 5230				mov	ax,5230h
9DFD:0D04  E9 01CA				jmp	loc_178			; (0ED1)
9DFD:0D07			loc_144::					;  xref 9DFD:0CF8
9DFD:0D07  F6 06 0017 03			test	byte ptr ds:[17h],3	; (9DFD:0017=0EBh)
9DFD:0D0C  74 F3				jz	loc_143			; Jump if zero
9DFD:0D0E			loc_145::					;  xref 9DFD:0CE7, 0CFF
9DFD:0D0E  84 26 0018				test	ah,byte ptr ds:[18h]	; (9DFD:0018=0)
9DFD:0D12  75 4D				jnz	loc_149			; Jump if not zero
9DFD:0D14  08 26 0018				or	byte ptr ds:[18h],ah	; (9DFD:0018=0)
9DFD:0D18  30 26 0017				xor	byte ptr ds:[17h],ah	; (9DFD:0017=0EBh)
9DFD:0D1C  3C 52				cmp	al,52h			; 'R'
9DFD:0D1E  75 41				jne	loc_149			; Jump if not equal
9DFD:0D20  B8 5200				mov	ax,5200h
9DFD:0D23  E9 01AB				jmp	loc_178			; (0ED1)
9DFD:0D26			loc_146::					;  xref 9DFD:0CD0
9DFD:0D26  80 FC 10				cmp	ah,10h
9DFD:0D29  73 1A				jae	loc_147			; Jump if above or =
9DFD:0D2B  F6 D4				not	ah
9DFD:0D2D  20 26 0017				and	byte ptr ds:[17h],ah	; (9DFD:0017=0EBh)
9DFD:0D31  3C B8				cmp	al,0B8h
9DFD:0D33  75 2C				jne	loc_149			; Jump if not equal
9DFD:0D35  A0 0019				mov	al,byte ptr ds:[19h]	; (9DFD:0019=0FAh)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 39

9DFD:0D38  B4 00				mov	ah,0
9DFD:0D3A  88 26 0019				mov	byte ptr ds:[19h],ah	; (9DFD:0019=0FAh)
9DFD:0D3E  3C 00				cmp	al,0
9DFD:0D40  74 1F				je	loc_149			; Jump if equal
9DFD:0D42  E9 0195				jmp	loc_179			; (0EDA)
9DFD:0D45			loc_147::					;  xref 9DFD:0D29
9DFD:0D45  F6 D4				not	ah
9DFD:0D47  20 26 0018				and	byte ptr ds:[18h],ah	; (9DFD:0018=0)
9DFD:0D4B  EB 14				jmp	short loc_149		; (0D61)
9DFD:0D4D			loc_148::					;  xref 9DFD:0CC2, 0CE3, 0CF0
9DFD:0D4D  3C 80				cmp	al,80h
9DFD:0D4F  73 10				jae	loc_149			; Jump if above or =
9DFD:0D51  F6 06 0018 08			test	byte ptr ds:[18h],8	; (9DFD:0018=0)
9DFD:0D56  74 12				jz	loc_150			; Jump if zero
9DFD:0D58  3C 45				cmp	al,45h			; 'E'
9DFD:0D5A  74 05				je	loc_149			; Jump if equal
9DFD:0D5C  80 26 0018 F7			and	byte ptr ds:[18h],0F7h	; (9DFD:0018=0)
9DFD:0D61			loc_149::					;  xref 9DFD:0CDB, 0D12, 0D1E, 0D33
										;            0D40, 0D4B, 0D4F, 0D5A
										;            0DCF, 0DF6, 0E45, 0E7B
										;            0EF4, 0F16, 0F1C
9DFD:0D61 ˙07					pop	es
9DFD:0D62  1F					pop	ds
9DFD:0D63  5F					pop	di
9DFD:0D64  5E					pop	si
9DFD:0D65  5A					pop	dx
9DFD:0D66  59					pop	cx
9DFD:0D67  5B					pop	bx
9DFD:0D68  58					pop	ax
9DFD:0D69  CF					iret				; Interrupt return
9DFD:0D6A			loc_150::					;  xref 9DFD:0D56
9DFD:0D6A  F6 06 0017 08			test	byte ptr ds:[17h],8	; (9DFD:0017=0EBh)
9DFD:0D6F  75 03				jnz	loc_151			; Jump if not zero
9DFD:0D71  E9 008F				jmp	loc_159			; (0E03)
9DFD:0D74			loc_151::					;  xref 9DFD:0D6F
9DFD:0D74  F6 06 0017 04			test	byte ptr ds:[17h],4	; (9DFD:0017=0EBh)
9DFD:0D79  74 31				jz	loc_152			; Jump if zero
9DFD:0D7B  3C 53				cmp	al,53h			; 'S'
9DFD:0D7D  75 2D				jne	loc_152			; Jump if not equal
9DFD:0D7F  C7 06 0072 1234			mov	word ptr ds:[72h],1234h	; (9DFD:0072=4)
9DFD:0D85  E9 F291		;*		jmp	loc_1			;*(0019)
9DFD:0D85  E9 91 F2				db	0E9h, 91h,0F2h
9DFD:0D88  52 4F 50 51 4B 4C	data_44		db	'ROPQKLMGHI'		;  xref 9DFD:0DB5
9DFD:0D8E  4D 47 48 49
9DFD:0D92  10 11 12 13 14 15			db	 10h, 11h, 12h, 13h, 14h, 15h
9DFD:0D98  16 17 18 19 1E 1F			db	 16h, 17h, 18h, 19h, 1Eh, 1Fh
9DFD:0D9E  20 21 22 23 24			db	' !"#$'
9DFD:0DA3  25 26 2C 2D 2E 2F			db	'%&,-./012'
9DFD:0DA9  30 31 32
9DFD:0DAC			loc_152::					;  xref 9DFD:0D79, 0D7D
9DFD:0DAC  3C 39				cmp	al,39h			; '9'
9DFD:0DAE  75 05				jne	loc_153			; Jump if not equal
9DFD:0DB0  B0 20				mov	al,20h			; ' '
9DFD:0DB2  E9 011C				jmp	loc_178			; (0ED1)
9DFD:0DB5			loc_153::					;  xref 9DFD:0DAE
9DFD:0DB5 ˙BF 0D88				mov	di,offset data_44	; (9DFD:0D88='ROPQKLMGHI')
9DFD:0DB8  B9 000A				mov	cx,0Ah
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 40

9DFD:0DBB  F2/ AE				repne	scasb			; Rep zf=0+cx >0 Scan es:[di] for al
9DFD:0DBD  75 12				jnz	loc_154			; Jump if not zero
9DFD:0DBF  81 EF 0D89				sub	di,0D89h
9DFD:0DC3  A0 0019				mov	al,byte ptr ds:[19h]	; (9DFD:0019=0FAh)
9DFD:0DC6  B4 0A				mov	ah,0Ah
9DFD:0DC8  F6 E4				mul	ah			; ax = reg * al
9DFD:0DCA  03 C7				add	ax,di
9DFD:0DCC  A2 0019				mov	byte ptr ds:[19h],al	; (9DFD:0019=0FAh)
9DFD:0DCF  EB 90				jmp	short loc_149		; (0D61)
9DFD:0DD1			loc_154::					;  xref 9DFD:0DBD
9DFD:0DD1  C6 06 0019 00			mov	byte ptr ds:[19h],0	; (9DFD:0019=0FAh)
9DFD:0DD6  B9 001A				mov	cx,1Ah
9DFD:0DD9  F2/ AE				repne	scasb			; Rep zf=0+cx >0 Scan es:[di] for al
9DFD:0DDB  75 05				jnz	loc_155			; Jump if not zero
9DFD:0DDD  B0 00				mov	al,0
9DFD:0DDF  E9 00EF				jmp	loc_178			; (0ED1)
9DFD:0DE2			loc_155::					;  xref 9DFD:0DDB
9DFD:0DE2  3C 02				cmp	al,2
9DFD:0DE4  72 0C				jb	loc_156			; Jump if below
9DFD:0DE6  3C 0E				cmp	al,0Eh
9DFD:0DE8  73 08				jae	loc_156			; Jump if above or =
9DFD:0DEA  80 C4 76				add	ah,76h			; 'v'
9DFD:0DED  B0 00				mov	al,0
9DFD:0DEF  E9 00DF				jmp	loc_178			; (0ED1)
9DFD:0DF2			loc_156::					;  xref 9DFD:0DE4, 0DE8
9DFD:0DF2  3C 3B				cmp	al,3Bh			; ';'
9DFD:0DF4  73 03				jae	loc_158			; Jump if above or =
9DFD:0DF6			loc_157::					;  xref 9DFD:0DFB
9DFD:0DF6  E9 FF68				jmp	loc_149			; (0D61)
9DFD:0DF9			loc_158::					;  xref 9DFD:0DF4
9DFD:0DF9  3C 47				cmp	al,47h			; 'G'
9DFD:0DFB  73 F9				jae	loc_157			; Jump if above or =
9DFD:0DFD  BB 0C64				mov	bx,0C64h
9DFD:0E00  E9 011C				jmp	loc_184			; (0F1F)
9DFD:0E03			loc_159::					;  xref 9DFD:0D71
9DFD:0E03  F6 06 0017 04			test	byte ptr ds:[17h],4	; (9DFD:0017=0EBh)
9DFD:0E08  74 58				jz	loc_165			; Jump if zero
9DFD:0E0A  3C 46				cmp	al,46h			; 'F'
9DFD:0E0C  75 18				jne	loc_160			; Jump if not equal
9DFD:0E0E  BB 001E				mov	bx,1Eh
9DFD:0E11  89 1E 001A				mov	word ptr ds:[1Ah],bx	; (9DFD:001A=0FCBAh)
9DFD:0E15  89 1E 001C				mov	word ptr ds:[1Ch],bx	; (9DFD:001C=0B0FFh)
9DFD:0E19  C6 06 0071 80			mov	byte ptr ds:[71h],80h	; (9DFD:0071=0BFh)
9DFD:0E1E  CD 1B				int	1Bh			; Keyboard break (cntrl-break)
9DFD:0E20  B8 0000				mov	ax,0
9DFD:0E23  E9 00AB				jmp	loc_178			; (0ED1)
9DFD:0E26			loc_160::					;  xref 9DFD:0E0C
9DFD:0E26  3C 45				cmp	al,45h			; 'E'
9DFD:0E28  75 1E				jne	loc_162			; Jump if not equal
9DFD:0E2A  80 0E 0018 08			or	byte ptr ds:[18h],8	; (9DFD:0018=0)
9DFD:0E2F  80 3E 0049 07			cmp	byte ptr ds:[49h],7	; (9DFD:0049=0AFh)
9DFD:0E34  74 08				je	loc_161			; Jump if equal
9DFD:0E36  BA 03D8				mov	dx,3D8h
9DFD:0E39  A0 0065				mov	al,byte ptr ds:[65h]	; (9DFD:0065=0ABh)
9DFD:0E3C  EE					out	dx,al			; port 3D8h, CGA video control
9DFD:0E3D  FB					sti				; Enable interrupts
9DFD:0E3E			loc_161::					;  xref 9DFD:0E34, 0E43
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 41

9DFD:0E3E  F6 06 0018 08			test	byte ptr ds:[18h],8	; (9DFD:0018=0)
9DFD:0E43  75 F9				jnz	loc_161			; Jump if not zero
9DFD:0E45  E9 FF19				jmp	loc_149			; (0D61)
9DFD:0E48			loc_162::					;  xref 9DFD:0E28
9DFD:0E48  3C 37				cmp	al,37h			; '7'
9DFD:0E4A  75 06				jne	loc_163			; Jump if not equal
9DFD:0E4C  B8 7200				mov	ax,7200h
9DFD:0E4F  E9 007F				jmp	loc_178			; (0ED1)
9DFD:0E52			loc_163::					;  xref 9DFD:0E4A
9DFD:0E52  BB 0B93				mov	bx,0B93h
9DFD:0E55  3C 3B				cmp	al,3Bh			; ';'
9DFD:0E57  73 03				jae	loc_164			; Jump if above or =
9DFD:0E59  EB 72				jmp	short loc_177		; (0ECD)
9DFD:0E5B  90					db	90h
9DFD:0E5C			loc_164::					;  xref 9DFD:0E57
9DFD:0E5C  BB 0BCD				mov	bx,0BCDh
9DFD:0E5F  E9 00BD				jmp	loc_184			; (0F1F)
9DFD:0E62			loc_165::					;  xref 9DFD:0E08
9DFD:0E62  3C 47				cmp	al,47h			; 'G'
9DFD:0E64  73 27				jae	loc_169			; Jump if above or =
9DFD:0E66  F6 06 0017 03			test	byte ptr ds:[17h],3	; (9DFD:0017=0EBh)
9DFD:0E6B  74 55				jz	loc_175			; Jump if zero
9DFD:0E6D  3C 0F				cmp	al,0Fh
9DFD:0E6F  75 06				jne	loc_166			; Jump if not equal
9DFD:0E71  B8 0F00				mov	ax,0F00h
9DFD:0E74  EB 5B				jmp	short loc_178		; (0ED1)
9DFD:0E76  90					db	90h
9DFD:0E77			loc_166::					;  xref 9DFD:0E6F
9DFD:0E77  3C 37				cmp	al,37h			; '7'
9DFD:0E79  75 03				jne	loc_167			; Jump if not equal
9DFD:0E7B  E9 FEE3				jmp	loc_149			; (0D61)
9DFD:0E7E			loc_167::					;  xref 9DFD:0E79
9DFD:0E7E  3C 3B				cmp	al,3Bh			; ';'
9DFD:0E80  72 06				jb	loc_168			; Jump if below
9DFD:0E82  BB 0C5A				mov	bx,0C5Ah
9DFD:0E85  E9 0097				jmp	loc_184			; (0F1F)
9DFD:0E88			loc_168::					;  xref 9DFD:0E80
9DFD:0E88  BB 0C20				mov	bx,0C20h
9DFD:0E8B  EB 40				jmp	short loc_177		; (0ECD)
9DFD:0E8D			loc_169::					;  xref 9DFD:0E64
9DFD:0E8D  F6 06 0017 20			test	byte ptr ds:[17h],20h	; (9DFD:0017=0EBh) ' '
9DFD:0E92  75 20				jnz	loc_173			; Jump if not zero
9DFD:0E94  F6 06 0017 03			test	byte ptr ds:[17h],3	; (9DFD:0017=0EBh)
9DFD:0E99  75 20				jnz	loc_174			; Jump if not zero
9DFD:0E9B			loc_170::					;  xref 9DFD:0EB9
9DFD:0E9B  3C 4A				cmp	al,4Ah			; 'J'
9DFD:0E9D  74 0B				je	loc_171			; Jump if equal
9DFD:0E9F  3C 4E				cmp	al,4Eh			; 'N'
9DFD:0EA1  74 0C				je	loc_172			; Jump if equal
9DFD:0EA3  2C 47				sub	al,47h			; 'G'
9DFD:0EA5  BB 0C7A				mov	bx,0C7Ah
9DFD:0EA8  EB 77				jmp	short loc_185		; (0F21)
9DFD:0EAA			loc_171::					;  xref 9DFD:0E9D
9DFD:0EAA  B8 4A2D				mov	ax,4A2Dh
9DFD:0EAD  EB 22				jmp	short loc_178		; (0ED1)
9DFD:0EAF			loc_172::					;  xref 9DFD:0EA1
9DFD:0EAF  B8 4E2B				mov	ax,4E2Bh
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 42

9DFD:0EB2  EB 1D				jmp	short loc_178		; (0ED1)
9DFD:0EB4			loc_173::					;  xref 9DFD:0E92
9DFD:0EB4  F6 06 0017 03			test	byte ptr ds:[17h],3	; (9DFD:0017=0EBh)
9DFD:0EB9  75 E0				jnz	loc_170			; Jump if not zero
9DFD:0EBB			loc_174::					;  xref 9DFD:0E99
9DFD:0EBB  2C 46				sub	al,46h			; 'F'
9DFD:0EBD  BB 0C6D				mov	bx,0C6Dh
9DFD:0EC0  EB 0B				jmp	short loc_177		; (0ECD)
9DFD:0EC2			loc_175::					;  xref 9DFD:0E6B
9DFD:0EC2  3C 3B				cmp	al,3Bh			; ';'
9DFD:0EC4  72 04				jb	loc_176			; Jump if below
9DFD:0EC6  B0 00				mov	al,0
9DFD:0EC8  EB 07				jmp	short loc_178		; (0ED1)
9DFD:0ECA			loc_176::					;  xref 9DFD:0EC4
9DFD:0ECA ˙BB 0BE6				mov	bx,offset data_42	; (9DFD:0BE6=' 1234567890-=  q')
9DFD:0ECD			loc_177::					;  xref 9DFD:0E59, 0E8B, 0EC0
9DFD:0ECD  FE C8				dec	al
9DFD:0ECF  2E: D7				xlat	cs:[bx]			; al=[al+[bx]] table
9DFD:0ED1			loc_178::					;  xref 9DFD:0D04, 0D23, 0DB2, 0DDF
										;            0DEF, 0E23, 0E4F, 0E74
										;            0EAD, 0EB2, 0EC8, 0F27
9DFD:0ED1 ˙3C FF				cmp	al,0FFh
9DFD:0ED3  74 1F				je	loc_180			; Jump if equal
9DFD:0ED5  80 FC FF				cmp	ah,0FFh
9DFD:0ED8  74 1A				je	loc_180			; Jump if equal
9DFD:0EDA			loc_179::					;  xref 9DFD:0D42
9DFD:0EDA  F6 06 0017 40			test	byte ptr ds:[17h],40h	; (9DFD:0017=0EBh) '@'
9DFD:0EDF  74 20				jz	loc_182			; Jump if zero
9DFD:0EE1  F6 06 0017 03			test	byte ptr ds:[17h],3	; (9DFD:0017=0EBh)
9DFD:0EE6  74 0F				jz	loc_181			; Jump if zero
9DFD:0EE8  3C 41				cmp	al,41h			; 'A'
9DFD:0EEA  72 15				jb	loc_182			; Jump if below
9DFD:0EEC  3C 5A				cmp	al,5Ah			; 'Z'
9DFD:0EEE  77 11				ja	loc_182			; Jump if above
9DFD:0EF0  04 20				add	al,20h			; ' '
9DFD:0EF2  EB 0D				jmp	short loc_182		; (0F01)
9DFD:0EF4			loc_180::					;  xref 9DFD:0ED3, 0ED8
9DFD:0EF4  E9 FE6A				jmp	loc_149			; (0D61)
9DFD:0EF7			loc_181::					;  xref 9DFD:0EE6
9DFD:0EF7  3C 61				cmp	al,61h			; 'a'
9DFD:0EF9  72 06				jb	loc_182			; Jump if below
9DFD:0EFB  3C 7A				cmp	al,7Ah			; 'z'
9DFD:0EFD  77 02				ja	loc_182			; Jump if above
9DFD:0EFF  2C 20				sub	al,20h			; ' '
9DFD:0F01			loc_182::					;  xref 9DFD:0EDF, 0EEA, 0EEE, 0EF2
										;            0EF9, 0EFD
9DFD:0F01  8B 1E 001C				mov	bx,word ptr ds:[1Ch]	; (9DFD:001C=0B0FFh)
9DFD:0F05  8B F3				mov	si,bx
9DFD:0F07  E8 FC6C				call	sub_37			; (0B76)
9DFD:0F0A  3B 1E 001A				cmp	bx,word ptr ds:[1Ah]	; (9DFD:001A=0FCBAh)
9DFD:0F0E  74 09				je	loc_183			; Jump if equal
9DFD:0F10  89 04				mov	[si],ax
9DFD:0F12  89 1E 001C				mov	word ptr ds:[1Ch],bx	; (9DFD:001C=0B0FFh)
9DFD:0F16  E9 FE48				jmp	loc_149			; (0D61)
9DFD:0F19			loc_183::					;  xref 9DFD:0F0E
9DFD:0F19  E8 000D				call	sub_38			; (0F29)
9DFD:0F1C  E9 FE42				jmp	loc_149			; (0D61)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 43

9DFD:0F1F			loc_184::					;  xref 9DFD:0E00, 0E5F, 0E85
9DFD:0F1F  2C 3B				sub	al,3Bh			; ';'
9DFD:0F21			loc_185::					;  xref 9DFD:0EA8
9DFD:0F21  2E: D7				xlat	cs:[bx]			; al=[al+[bx]] table
9DFD:0F23  8A E0				mov	ah,al
9DFD:0F25  B0 00				mov	al,0
9DFD:0F27  EB A8				jmp	short loc_178		; (0ED1)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0F19
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0F29			sub_38		proc	near
9DFD:0F29  50					push	ax
9DFD:0F2A  53					push	bx
9DFD:0F2B  51					push	cx
9DFD:0F2C  BB 00C0				mov	bx,0C0h
9DFD:0F2F  E4 61				in	al,61h			; port 61h, 8255 port B, read
9DFD:0F31  50					push	ax
9DFD:0F32			loc_186::					;  xref 9DFD:0F45
9DFD:0F32  24 FC				and	al,0FCh
9DFD:0F34  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
										;  al = 0, speaker off
9DFD:0F36  B9 0048				mov	cx,48h

9DFD:0F39			locloop_187::					;  xref 9DFD:0F39
9DFD:0F39  E2 FE				loop	locloop_187		; Loop if cx > 0

9DFD:0F3B  0C 02				or	al,2
9DFD:0F3D  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
9DFD:0F3F  B9 0048				mov	cx,48h

9DFD:0F42			locloop_188::					;  xref 9DFD:0F42
9DFD:0F42  E2 FE				loop	locloop_188		; Loop if cx > 0

9DFD:0F44  4B					dec	bx
9DFD:0F45  75 EB				jnz	loc_186			; Jump if not zero
9DFD:0F47  58					pop	ax
9DFD:0F48  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
										;  al = 0, speaker off
9DFD:0F4A  59					pop	cx
9DFD:0F4B  5B					pop	bx
9DFD:0F4C  58					pop	ax
9DFD:0F4D  C3					retn
				sub_38		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:0082
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:0F4E			sub_39		proc	near
9DFD:0F4E  1E					push	ds
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 44

9DFD:0F4F  33 C0				xor	ax,ax			; Zero register
9DFD:0F51  8E D8				mov	ds,ax
9DFD:0F53  B8 0F8E				mov	ax,0F8Eh
9DFD:0F56  A3 0040				mov	ds:vectr_10h_off,ax	; (0000:0040=32A7h)
9DFD:0F59  8C 0E 0042				mov	ds:vectr_10h_seg,cs	; (0000:0042=1986h)
9DFD:0F5D  B8 0FBD				mov	ax,0FBDh
9DFD:0F60  A3 0074				mov	ds:video_hdw_off,ax	; (0000:0074=6D68h)
9DFD:0F63  8C 0E 0076				mov	ds:video_hdw_seg,cs	; (0000:0076=0F000h)
9DFD:0F67  1F					pop	ds
9DFD:0F68  B8 0003				mov	ax,3
9DFD:0F6B  CD 10				int	10h			; Video display   ah=functn 00h
										;  set display mode in al
9DFD:0F6D  C3					retn
				sub_39		endp

9DFD:0F6E  1015			data_45		dw	offset loc_189		; Data table (indexed access)
9DFD:0F70  10DB			data_46		dw	offset loc_198
9DFD:0F72  10FC			data_47		dw	offset loc_199
9DFD:0F74  1126			data_48		dw	offset loc_201
9DFD:0F76  1659			data_49		dw	offset loc_285
9DFD:0F78  113C			data_50		dw	offset loc_202
9DFD:0F7A  11A8			data_51		dw	offset loc_207
9DFD:0F7C  1226			data_52		dw	offset loc_214
9DFD:0F7E  1262			data_53		dw	offset loc_220
9DFD:0F80  1296			data_54		dw	offset loc_224
9DFD:0F82  12B8			data_55		dw	offset loc_227
9DFD:0F84  1160			data_56		dw	offset loc_203
9DFD:0F86  12E8			data_57		dw	offset loc_231
9DFD:0F88  12D7			data_58		dw	offset loc_230
9DFD:0F8A  15D2			data_59		dw	offset loc_273
9DFD:0F8C  1186			data_60		dw	offset loc_206
9DFD:0F8E  FB FC 06 1E 52 51			db	0FBh,0FCh, 06h, 1Eh, 52h, 51h
9DFD:0F94  53 56 57 50 8A C4			db	 53h, 56h, 57h, 50h, 8Ah,0C4h
9DFD:0F9A  32 E4 D1 E0 8B F0			db	 32h,0E4h,0D1h,0E0h, 8Bh,0F0h
9DFD:0FA0  3D 20 00 72 04 58			db	 3Dh, 20h, 00h, 72h, 04h, 58h
9DFD:0FA6  E9 2A 01 B8 40 00			db	0E9h, 2Ah, 01h,0B8h, 40h, 00h
9DFD:0FAC  8E D8 B8 00 B8 8E			db	 8Eh,0D8h,0B8h, 00h,0B8h, 8Eh
9DFD:0FB2  C0 58 8A 26 49 00			db	0C0h, 58h, 8Ah, 26h, 49h, 00h
9DFD:0FB8  2E FF A4 6E 0F 38			db	 2Eh,0FFh,0A4h, 6Eh, 0Fh, 38h
9DFD:0FBE  28 2D 0A 1F 06 19			db	 28h, 2Dh, 0Ah, 1Fh, 06h, 19h
9DFD:0FC4  1C 02 07 06 07 00			db	 1Ch, 02h, 07h, 06h, 07h, 00h
9DFD:0FCA  00 00 00 71 50 5A			db	 00h, 00h, 00h, 71h, 50h, 5Ah
9DFD:0FD0  0A 1F 06 19 1C 02			db	 0Ah, 1Fh, 06h, 19h, 1Ch, 02h
9DFD:0FD6  07 06 07 00 00 00			db	 07h, 06h, 07h, 00h, 00h, 00h
9DFD:0FDC  00 38 28 2D 0A 7F			db	 00h, 38h, 28h, 2Dh, 0Ah, 7Fh
9DFD:0FE2  06 64 70 02 01 06			db	 06h, 64h, 70h, 02h, 01h, 06h
9DFD:0FE8  07 00 00 00 00 61			db	 07h, 00h, 00h, 00h, 00h, 61h
9DFD:0FEE  50 52 0F 19 06 19			db	 50h, 52h, 0Fh, 19h, 06h, 19h
9DFD:0FF4  19 02 0D 0B 0C 00			db	 19h, 02h, 0Dh, 0Bh, 0Ch, 00h
9DFD:0FFA  00 00 00				db	 00h, 00h, 00h
9DFD:0FFD  0800			data_61		dw	800h			; Data table (indexed access)
										;  xref 9DFD:10AE
9DFD:0FFF  00 10 00 40 00 40			db	 00h, 10h, 00h, 40h, 00h, 40h
9DFD:1005  28 28 50 50 28 28	data_62		db	'((PP((PP'		; Data table (indexed access)
										;  xref 9DFD:10A0
9DFD:100B  50 50
9DFD:100D  2C			data_63		db	2Ch			; Data table (indexed access)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 45

										;  xref 9DFD:1097
9DFD:100E  28 2D 29 2A 2E 1E			db	 28h, 2Dh, 29h, 2Ah, 2Eh, 1Eh
9DFD:1014  29					db	 29h

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:1015			loc_189::					;  xref 9DFD:0F6E
9DFD:1015  BA 03D4				mov	dx,3D4h
9DFD:1018  B3 00				mov	bl,0
9DFD:101A  3C 07				cmp	al,7
9DFD:101C  72 03				jb	loc_190			; Jump if below
9DFD:101E  E9 00B2				jmp	loc_196			; (10D3)
9DFD:1021			loc_190::					;  xref 9DFD:101C
9DFD:1021  8A E0				mov	ah,al
9DFD:1023  A2 0049				mov	ds:video_mode,al	; (0040:0049=3)
9DFD:1026  89 16 0063				mov	ds:@video_port,dx	; (0040:0063=3D4h)
9DFD:102A  1E					push	ds
9DFD:102B  50					push	ax
9DFD:102C  52					push	dx
9DFD:102D  83 C2 04				add	dx,4
9DFD:1030  8A C3				mov	al,bl
9DFD:1032  EE					out	dx,al			; port 3D8h, CGA video control
9DFD:1033  5A					pop	dx
9DFD:1034  2B C0				sub	ax,ax
9DFD:1036  8E D8				mov	ds,ax
9DFD:1038  C5 1E 0074				lds	bx,dword ptr ds:video_hdw_off	; (0000:0074=6D68h) Load seg:offset pt
9DFD:103C  58					pop	ax
9DFD:103D  B9 0010				mov	cx,10h
9DFD:1040  80 FC 02				cmp	ah,2
9DFD:1043  72 10				jb	loc_191			; Jump if below
9DFD:1045  03 D9				add	bx,cx
9DFD:1047  80 FC 04				cmp	ah,4
9DFD:104A  72 09				jb	loc_191			; Jump if below
9DFD:104C  03 D9				add	bx,cx
9DFD:104E  80 FC 07				cmp	ah,7
9DFD:1051  72 02				jb	loc_191			; Jump if below
9DFD:1053  03 D9				add	bx,cx
9DFD:1055			loc_191::					;  xref 9DFD:1043, 104A, 1051
9DFD:1055  50					push	ax
9DFD:1056  32 E4				xor	ah,ah			; Zero register

9DFD:1058			locloop_192::					;  xref 9DFD:1063
9DFD:1058  8A C4				mov	al,ah
9DFD:105A  EE					out	dx,al			; port 3D4h, CGA/EGA reg index
										;  al = 0, horiz char total
9DFD:105B  42					inc	dx
9DFD:105C  FE C4				inc	ah
9DFD:105E  8A 07				mov	al,[bx]
9DFD:1060  EE					out	dx,al			; port 3D5h, CGA/EGA indxd data
9DFD:1061  43					inc	bx
9DFD:1062  4A					dec	dx
9DFD:1063  E2 F3				loop	locloop_192		; Loop if cx > 0

9DFD:1065  58					pop	ax
9DFD:1066  1F					pop	ds
9DFD:1067  33 FF				xor	di,di			; Zero register
9DFD:1069  89 3E 004E				mov	ds:video_page_off,di	; (0040:004E=0)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 46

9DFD:106D  C6 06 0062 00			mov	byte ptr ds:video_page,0	; (0040:0062=0)
9DFD:1072  B9 2000				mov	cx,2000h
9DFD:1075  80 FC 04				cmp	ah,4
9DFD:1078  72 04				jb	loc_193			; Jump if below
9DFD:107A  33 C0				xor	ax,ax			; Zero register
9DFD:107C  EB 03				jmp	short loc_194		; (1081)
9DFD:107E			loc_193::					;  xref 9DFD:1078
9DFD:107E  B8 0720				mov	ax,720h
9DFD:1081			loc_194::					;  xref 9DFD:107C
9DFD:1081  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
9DFD:1083  C7 06 0060 0067			mov	word ptr ds:vid_curs_mode,67h	; (0040:0060=2000h)
9DFD:1089  A0 0049				mov	al,ds:video_mode	; (0040:0049=3)
9DFD:108C  32 E4				xor	ah,ah			; Zero register
9DFD:108E  8B F0				mov	si,ax
9DFD:1090  8B 16 0063				mov	dx,ds:@video_port	; (0040:0063=3D4h)
9DFD:1094  83 C2 04				add	dx,4
9DFD:1097  2E: 8A 84 100D			mov	al,cs:data_63[si]	; (9DFD:100D=2Ch)
9DFD:109C  EE					out	dx,al			; port 3D8h, CGA video control
9DFD:109D  A2 0065				mov	ds:video_mode_reg,al	; (0040:0065=0)
9DFD:10A0  2E: 8A 84 1005			mov	al,byte ptr cs:data_62[si]	; (9DFD:1005='((PP((PP')
9DFD:10A5  32 E4				xor	ah,ah			; Zero register
9DFD:10A7  A3 004A				mov	ds:video_columns,ax	; (0040:004A=50h)
9DFD:10AA  81 E6 000E				and	si,0Eh
9DFD:10AE  2E: 8B 8C 0FFD			mov	cx,cs:data_61[si]	; (9DFD:0FFD=800h)
9DFD:10B3  89 0E 004C				mov	ds:video_buf_siz,cx	; (0040:004C=1000h)
9DFD:10B7  B9 0008				mov	cx,8
9DFD:10BA ˙BF 0050				mov	di,vid_curs_pos0	; (0040:0050=4Fh)
9DFD:10BD  1E					push	ds
9DFD:10BE  07					pop	es
9DFD:10BF  33 C0				xor	ax,ax			; Zero register
9DFD:10C1  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
9DFD:10C3  42					inc	dx
9DFD:10C4  B0 30				mov	al,30h			; '0'
9DFD:10C6  80 3E 0049 06			cmp	byte ptr ds:video_mode,6	; (0040:0049=3)
9DFD:10CB  75 02				jne	loc_195			; Jump if not equal
9DFD:10CD  B0 3F				mov	al,3Fh			; '?'
9DFD:10CF			loc_195::					;  xref 9DFD:10CB
9DFD:10CF  EE					out	dx,al			; port 3D9h, CGA color control
9DFD:10D0  A2 0066				mov	ds:video_color,al	; (0040:0066=0)
9DFD:10D3			loc_196::					;  xref 9DFD:101E, 10E4, 1113, 115D
										;            1179, 11E8, 1277, 12B5
										;            12D4, 12E5, 1304, 13A0
										;            1400, 1480, 14E0, 1564
										;            162D
9DFD:10D3 ˙5F					pop	di
9DFD:10D4  5E					pop	si
9DFD:10D5  5B					pop	bx
9DFD:10D6			loc_197::					;  xref 9DFD:1194
9DFD:10D6 ˙59					pop	cx
9DFD:10D7  5A					pop	dx
9DFD:10D8  1F					pop	ds
9DFD:10D9  07					pop	es
9DFD:10DA  CF					iret				; Interrupt return

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:10DB			loc_198::					;  xref 9DFD:0F70
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 47

9DFD:10DB  B4 0A				mov	ah,0Ah
9DFD:10DD  89 0E 0060				mov	ds:vid_curs_mode,cx	; (0040:0060=2000h)
9DFD:10E1  E8 0002				call	sub_40			; (10E6)
9DFD:10E4  EB ED				jmp	short loc_196		; (10D3)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:10E1, 1122, 1150
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:10E6			sub_40		proc	near
9DFD:10E6  8B 16 0063				mov	dx,ds:@video_port	; (0040:0063=3D4h)
9DFD:10EA  8A C4				mov	al,ah
9DFD:10EC  EE					out	dx,al			; port 3D4h, CGA/EGA reg index
										;  al = 0Ah, cursor start, mode
9DFD:10ED  42					inc	dx
9DFD:10EE  8A C5				mov	al,ch
9DFD:10F0  EE					out	dx,al			; port 3D5h, CGA/EGA indxd data
9DFD:10F1  4A					dec	dx
9DFD:10F2  8A C4				mov	al,ah
9DFD:10F4  FE C0				inc	al
9DFD:10F6  EE					out	dx,al			; port 3D4h, CGA/EGA reg index
										;  al = 0Bh, cursor end
9DFD:10F7  42					inc	dx
9DFD:10F8  8A C1				mov	al,cl
9DFD:10FA  EE					out	dx,al			; port 3D5h, CGA/EGA indxd data
9DFD:10FB  C3					retn
				sub_40		endp


				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:10FC			loc_199::					;  xref 9DFD:0F72
9DFD:10FC  8A CF				mov	cl,bh
9DFD:10FE  32 ED				xor	ch,ch			; Zero register
9DFD:1100  D1 E1				shl	cx,1			; Shift w/zeros fill
9DFD:1102  8B F1				mov	si,cx
9DFD:1104  89 94 0050				mov	ds:vid_curs_pos0[si],dx	; (0040:0050=184Fh)
9DFD:1108  38 3E 0062				cmp	ds:video_page,bh	; (0040:0062=0)
9DFD:110C  75 05				jne	loc_200			; Jump if not equal
9DFD:110E  8B C2				mov	ax,dx
9DFD:1110  E8 0002				call	sub_41			; (1115)
9DFD:1113			loc_200::					;  xref 9DFD:110C
9DFD:1113  EB BE				jmp	short loc_196		; (10D3)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:1110, 115A
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:1115			sub_41		proc	near
9DFD:1115  E8 007F				call	sub_42			; (1197)
9DFD:1118  8B C8				mov	cx,ax
9DFD:111A  03 0E 004E				add	cx,ds:video_page_off	; (0040:004E=0)
9DFD:111E  D1 F9				sar	cx,1			; Shift w/sign fill
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 48

9DFD:1120  B4 0E				mov	ah,0Eh
9DFD:1122  E8 FFC1				call	sub_40			; (10E6)
9DFD:1125  C3					retn
				sub_41		endp


				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:1126			loc_201::					;  xref 9DFD:0F74
9DFD:1126  8A DF				mov	bl,bh
9DFD:1128  32 FF				xor	bh,bh			; Zero register
9DFD:112A  D1 E3				shl	bx,1			; Shift w/zeros fill
9DFD:112C  8B 97 0050				mov	dx,ds:vid_curs_pos0[bx]	; (0040:0050=184Fh)
9DFD:1130  8B 0E 0060				mov	cx,ds:vid_curs_mode	; (0040:0060=2000h)
9DFD:1134  5F					pop	di
9DFD:1135  5E					pop	si
9DFD:1136  5B					pop	bx
9DFD:1137  58					pop	ax
9DFD:1138  58					pop	ax
9DFD:1139  1F					pop	ds
9DFD:113A  07					pop	es
9DFD:113B  CF					iret				; Interrupt return

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:113C			loc_202::					;  xref 9DFD:0F78
9DFD:113C  A2 0062				mov	ds:video_page,al	; (0040:0062=0)
9DFD:113F  8B 0E 004C				mov	cx,ds:video_buf_siz	; (0040:004C=1000h)
9DFD:1143  98					cbw				; Convrt byte to word
9DFD:1144  50					push	ax
9DFD:1145  F7 E1				mul	cx			; dx:ax = reg * ax
9DFD:1147  A3 004E				mov	ds:video_page_off,ax	; (0040:004E=0)
9DFD:114A  8B C8				mov	cx,ax
9DFD:114C  D1 F9				sar	cx,1			; Shift w/sign fill
9DFD:114E  B4 0C				mov	ah,0Ch
9DFD:1150  E8 FF93				call	sub_40			; (10E6)
9DFD:1153  5B					pop	bx
9DFD:1154  D1 E3				shl	bx,1			; Shift w/zeros fill
9DFD:1156  8B 87 0050				mov	ax,ds:vid_curs_pos0[bx]	; (0040:0050=184Fh)
9DFD:115A  E8 FFB8				call	sub_41			; (1115)
9DFD:115D  E9 FF73				jmp	loc_196			; (10D3)

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:1160			loc_203::					;  xref 9DFD:0F84
9DFD:1160  8B 16 0063				mov	dx,ds:@video_port	; (0040:0063=3D4h)
9DFD:1164  83 C2 05				add	dx,5
9DFD:1167  A0 0066				mov	al,ds:video_color	; (0040:0066=0)
9DFD:116A  0A FF				or	bh,bh			; Zero ?
9DFD:116C  75 0E				jnz	loc_205			; Jump if not zero
9DFD:116E  24 E0				and	al,0E0h
9DFD:1170  80 E3 1F				and	bl,1Fh
9DFD:1173  0A C3				or	al,bl
9DFD:1175			loc_204::					;  xref 9DFD:1180, 1184
9DFD:1175 ˙EE					out	dx,al			; port 3D9h, CGA color control
9DFD:1176  A2 0066				mov	ds:video_color,al	; (0040:0066=0)
9DFD:1179  E9 FF57				jmp	loc_196			; (10D3)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 49

9DFD:117C			loc_205::					;  xref 9DFD:116C
9DFD:117C  24 DF				and	al,0DFh
9DFD:117E  D0 EB				shr	bl,1			; Shift w/zeros fill
9DFD:1180  73 F3				jnc	loc_204			; Jump if carry=0
9DFD:1182  0C 20				or	al,20h			; ' '
9DFD:1184  EB EF				jmp	short loc_204		; (1175)

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:1186			loc_206::					;  xref 9DFD:0F8C
9DFD:1186  8A 26 004A				mov	ah,ds:video_columns	; (0040:004A=50h)
9DFD:118A  A0 0049				mov	al,ds:video_mode	; (0040:0049=3)
9DFD:118D  8A 3E 0062				mov	bh,ds:video_page	; (0040:0062=0)
9DFD:1191  5F					pop	di
9DFD:1192  5E					pop	si
9DFD:1193  59					pop	cx
9DFD:1194  E9 FF3F				jmp	loc_197			; (10D6)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:1115, 11EF, 1290
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:1197			sub_42		proc	near
9DFD:1197  53					push	bx
9DFD:1198  8B D8				mov	bx,ax
9DFD:119A  8A C4				mov	al,ah
9DFD:119C  F6 26 004A				mul	byte ptr ds:video_columns	; (0040:004A=50h) ax = data * al
9DFD:11A0  32 FF				xor	bh,bh			; Zero register
9DFD:11A2  03 C3				add	ax,bx
9DFD:11A4  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:11A6  5B					pop	bx
9DFD:11A7  C3					retn
				sub_42		endp


				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:11A8			loc_207::					;  xref 9DFD:0F7A
9DFD:11A8  8A D8				mov	bl,al
9DFD:11AA  80 FC 04				cmp	ah,4
9DFD:11AD  72 08				jb	loc_208			; Jump if below
9DFD:11AF  80 FC 07				cmp	ah,7
9DFD:11B2  74 03				je	loc_208			; Jump if equal
9DFD:11B4  E9 0197				jmp	loc_237			; (134E)
9DFD:11B7			loc_208::					;  xref 9DFD:11AD, 11B2
9DFD:11B7  53					push	bx
9DFD:11B8  8B C1				mov	ax,cx
9DFD:11BA  E8 0032				call	sub_43			; (11EF)
9DFD:11BD  74 2C				jz	loc_213			; Jump if zero
9DFD:11BF  03 F0				add	si,ax
9DFD:11C1  8A E6				mov	ah,dh
9DFD:11C3  2A E3				sub	ah,bl
9DFD:11C5			loc_209::					;  xref 9DFD:11CE
9DFD:11C5  E8 004E				call	sub_44			; (1216)
9DFD:11C8  03 F5				add	si,bp
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 50

9DFD:11CA  03 FD				add	di,bp
9DFD:11CC  FE CC				dec	ah
9DFD:11CE  75 F5				jnz	loc_209			; Jump if not zero
9DFD:11D0			loc_210::					;  xref 9DFD:11ED
9DFD:11D0 ˙58					pop	ax
9DFD:11D1  B0 20				mov	al,20h			; ' '
9DFD:11D3			loc_211::					;  xref 9DFD:11DA
9DFD:11D3  E8 0049				call	sub_45			; (121F)
9DFD:11D6  03 FD				add	di,bp
9DFD:11D8  FE CB				dec	bl
9DFD:11DA  75 F7				jnz	loc_211			; Jump if not zero
9DFD:11DC			loc_212::					;  xref 9DFD:125B
9DFD:11DC ˙B8 0040				mov	ax,40h
9DFD:11DF  8E D8				mov	ds,ax
9DFD:11E1  A0 0065				mov	al,ds:video_mode_reg	; (0040:0065=0)
9DFD:11E4  BA 03D8				mov	dx,3D8h
9DFD:11E7  EE					out	dx,al			; port 3D8h, CGA video control
9DFD:11E8  E9 FEE8				jmp	loc_196			; (10D3)
9DFD:11EB			loc_213::					;  xref 9DFD:11BD
9DFD:11EB  8A DE				mov	bl,dh
9DFD:11ED  EB E1				jmp	short loc_210		; (11D0)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:11BA, 1239
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:11EF			sub_43		proc	near
9DFD:11EF  E8 FFA5				call	sub_42			; (1197)
9DFD:11F2  03 06 004E				add	ax,ds:video_page_off	; (0040:004E=0)
9DFD:11F6  8B F8				mov	di,ax
9DFD:11F8  8B F0				mov	si,ax
9DFD:11FA  2B D1				sub	dx,cx
9DFD:11FC  FE C6				inc	dh
9DFD:11FE  FE C2				inc	dl
9DFD:1200  32 ED				xor	ch,ch			; Zero register
9DFD:1202  8B 2E 004A				mov	bp,ds:video_columns	; (0040:004A=50h)
9DFD:1206  03 ED				add	bp,bp
9DFD:1208  8A C3				mov	al,bl
9DFD:120A  F6 26 004A				mul	byte ptr ds:video_columns	; (0040:004A=50h) ax = data * al
9DFD:120E  03 C0				add	ax,ax
9DFD:1210  06					push	es
9DFD:1211  1F					pop	ds
9DFD:1212  80 FB 00				cmp	bl,0
9DFD:1215  C3					retn
				sub_43		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:11C5, 1244
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:1216			sub_44		proc	near
9DFD:1216  8A CA				mov	cl,dl
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 51

9DFD:1218  56					push	si
9DFD:1219  57					push	di
9DFD:121A  F3/ A5				rep	movsw			; Rep when cx >0 Mov [si] to es:[di]
9DFD:121C  5F					pop	di
9DFD:121D  5E					pop	si
9DFD:121E  C3					retn
				sub_44		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:11D3, 1252
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:121F			sub_45		proc	near
9DFD:121F  8A CA				mov	cl,dl
9DFD:1221  57					push	di
9DFD:1222  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
9DFD:1224  5F					pop	di
9DFD:1225  C3					retn
				sub_45		endp


				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:1226			loc_214::					;  xref 9DFD:0F7C
9DFD:1226  FD					std				; Set direction flag
9DFD:1227  8A D8				mov	bl,al
9DFD:1229  80 FC 04				cmp	ah,4
9DFD:122C  72 08				jb	loc_215			; Jump if below
9DFD:122E  80 FC 07				cmp	ah,7
9DFD:1231  74 03				je	loc_215			; Jump if equal
9DFD:1233  E9 0171				jmp	loc_243			; (13A7)
9DFD:1236			loc_215::					;  xref 9DFD:122C, 1231
9DFD:1236  53					push	bx
9DFD:1237  8B C2				mov	ax,dx
9DFD:1239  E8 FFB3				call	sub_43			; (11EF)
9DFD:123C  74 20				jz	loc_219			; Jump if zero
9DFD:123E  2B F0				sub	si,ax
9DFD:1240  8A E6				mov	ah,dh
9DFD:1242  2A E3				sub	ah,bl
9DFD:1244			loc_216::					;  xref 9DFD:124D
9DFD:1244  E8 FFCF				call	sub_44			; (1216)
9DFD:1247  2B F5				sub	si,bp
9DFD:1249  2B FD				sub	di,bp
9DFD:124B  FE CC				dec	ah
9DFD:124D  75 F5				jnz	loc_216			; Jump if not zero
9DFD:124F			loc_217::					;  xref 9DFD:1260
9DFD:124F ˙58					pop	ax
9DFD:1250  B0 20				mov	al,20h			; ' '
9DFD:1252			loc_218::					;  xref 9DFD:1259
9DFD:1252  E8 FFCA				call	sub_45			; (121F)
9DFD:1255  2B FD				sub	di,bp
9DFD:1257  FE CB				dec	bl
9DFD:1259  75 F7				jnz	loc_218			; Jump if not zero
9DFD:125B  E9 FF7E				jmp	loc_212			; (11DC)
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 52

9DFD:125E			loc_219::					;  xref 9DFD:123C
9DFD:125E  8A DE				mov	bl,dh
9DFD:1260  EB ED				jmp	short loc_217		; (124F)

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:1262			loc_220::					;  xref 9DFD:0F7E
9DFD:1262  80 FC 04				cmp	ah,4
9DFD:1265  72 08				jb	loc_221			; Jump if below
9DFD:1267  80 FC 07				cmp	ah,7
9DFD:126A  74 03				je	loc_221			; Jump if equal
9DFD:126C  E9 0274				jmp	loc_261			; (14E3)
9DFD:126F			loc_221::					;  xref 9DFD:1265, 126A
9DFD:126F  E8 0008				call	sub_46			; (127A)
9DFD:1272  8B F3				mov	si,bx
9DFD:1274  06					push	es
9DFD:1275  1F					pop	ds
9DFD:1276  AD					lodsw				; String [si] to ax
9DFD:1277  E9 FE59				jmp	loc_196			; (10D3)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:126F, 12A7, 12C7
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:127A			sub_46		proc	near
9DFD:127A  8A CF				mov	cl,bh
9DFD:127C  32 ED				xor	ch,ch			; Zero register
9DFD:127E  8B F1				mov	si,cx
9DFD:1280  D1 E6				shl	si,1			; Shift w/zeros fill
9DFD:1282  8B 84 0050				mov	ax,ds:vid_curs_pos0[si]	; (0040:0050=184Fh)
9DFD:1286  33 DB				xor	bx,bx			; Zero register
9DFD:1288  E3 06				jcxz	loc_223			; Jump if cx=0

9DFD:128A			locloop_222::					;  xref 9DFD:128E
9DFD:128A  03 1E 004C				add	bx,ds:video_buf_siz	; (0040:004C=1000h)
9DFD:128E  E2 FA				loop	locloop_222		; Loop if cx > 0

9DFD:1290			loc_223::					;  xref 9DFD:1288
9DFD:1290  E8 FF04				call	sub_42			; (1197)
9DFD:1293  03 D8				add	bx,ax
9DFD:1295  C3					retn
				sub_46		endp


				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:1296			loc_224::					;  xref 9DFD:0F80
9DFD:1296  80 FC 04				cmp	ah,4
9DFD:1299  72 08				jb	loc_225			; Jump if below
9DFD:129B  80 FC 07				cmp	ah,7
9DFD:129E  74 03				je	loc_225			; Jump if equal
9DFD:12A0  E9 018E				jmp	loc_249			; (1431)
9DFD:12A3			loc_225::					;  xref 9DFD:1299, 129E
9DFD:12A3  8A E3				mov	ah,bl
9DFD:12A5  50					push	ax
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 53

9DFD:12A6  51					push	cx
9DFD:12A7  E8 FFD0				call	sub_46			; (127A)
9DFD:12AA  8B FB				mov	di,bx
9DFD:12AC  59					pop	cx
9DFD:12AD  5B					pop	bx

9DFD:12AE			locloop_226::					;  xref 9DFD:12B3
9DFD:12AE  FA					cli				; Disable interrupts
9DFD:12AF  8B C3				mov	ax,bx
9DFD:12B1  AB					stosw				; Store ax to es:[di]
9DFD:12B2  FB					sti				; Enable interrupts
9DFD:12B3  E2 F9				loop	locloop_226		; Loop if cx > 0

9DFD:12B5  E9 FE1B				jmp	loc_196			; (10D3)

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:12B8			loc_227::					;  xref 9DFD:0F82
9DFD:12B8  80 FC 04				cmp	ah,4
9DFD:12BB  72 08				jb	loc_228			; Jump if below
9DFD:12BD  80 FC 07				cmp	ah,7
9DFD:12C0  74 03				je	loc_228			; Jump if equal
9DFD:12C2  E9 016C				jmp	loc_249			; (1431)
9DFD:12C5			loc_228::					;  xref 9DFD:12BB, 12C0
9DFD:12C5  50					push	ax
9DFD:12C6  51					push	cx
9DFD:12C7  E8 FFB0				call	sub_46			; (127A)
9DFD:12CA  8B FB				mov	di,bx
9DFD:12CC  59					pop	cx
9DFD:12CD  5B					pop	bx

9DFD:12CE			locloop_229::					;  xref 9DFD:12D2
9DFD:12CE  8A C3				mov	al,bl
9DFD:12D0  AA					stosb				; Store al to es:[di]
9DFD:12D1  47					inc	di
9DFD:12D2  E2 FA				loop	locloop_229		; Loop if cx > 0

9DFD:12D4  E9 FDFC				jmp	loc_196			; (10D3)

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:12D7			loc_230::					;  xref 9DFD:0F88
9DFD:12D7  E8 0031				call	sub_47			; (130B)
9DFD:12DA  26: 8A 04				mov	al,es:[si]
9DFD:12DD  22 C4				and	al,ah
9DFD:12DF  D2 E0				shl	al,cl			; Shift w/zeros fill
9DFD:12E1  8A CE				mov	cl,dh
9DFD:12E3  D2 C0				rol	al,cl			; Rotate
9DFD:12E5  E9 FDEB				jmp	loc_196			; (10D3)

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:12E8			loc_231::					;  xref 9DFD:0F86
9DFD:12E8  50					push	ax
9DFD:12E9  50					push	ax
9DFD:12EA  E8 001E				call	sub_47			; (130B)
9DFD:12ED  D2 E8				shr	al,cl			; Shift w/zeros fill
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 54

9DFD:12EF  22 C4				and	al,ah
9DFD:12F1  26: 8A 0C				mov	cl,es:[si]
9DFD:12F4  5B					pop	bx
9DFD:12F5  F6 C3 80				test	bl,80h
9DFD:12F8  75 0D				jnz	loc_233			; Jump if not zero
9DFD:12FA  F6 D4				not	ah
9DFD:12FC  22 CC				and	cl,ah
9DFD:12FE  0A C1				or	al,cl
9DFD:1300			loc_232::					;  xref 9DFD:1309
9DFD:1300 ˙26: 88 04				mov	es:[si],al
9DFD:1303  58					pop	ax
9DFD:1304  E9 FDCC				jmp	loc_196			; (10D3)
9DFD:1307			loc_233::					;  xref 9DFD:12F8
9DFD:1307  32 C1				xor	al,cl
9DFD:1309  EB F5				jmp	short loc_232		; (1300)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:12D7, 12EA
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:130B			sub_47		proc	near
9DFD:130B  53					push	bx
9DFD:130C  50					push	ax
9DFD:130D  B0 28				mov	al,28h			; '('
9DFD:130F  52					push	dx
9DFD:1310  80 E2 FE				and	dl,0FEh
9DFD:1313  F6 E2				mul	dl			; ax = reg * al
9DFD:1315  5A					pop	dx
9DFD:1316  F6 C2 01				test	dl,1
9DFD:1319  74 03				jz	loc_234			; Jump if zero
9DFD:131B  05 2000				add	ax,2000h
9DFD:131E			loc_234::					;  xref 9DFD:1319
9DFD:131E  8B F0				mov	si,ax
9DFD:1320  58					pop	ax
9DFD:1321  8B D1				mov	dx,cx
9DFD:1323  BB 02C0				mov	bx,2C0h
9DFD:1326  B9 0302				mov	cx,302h
9DFD:1329  80 3E 0049 06			cmp	byte ptr ds:video_mode,6	; (0040:0049=3)
9DFD:132E  72 06				jb	loc_235			; Jump if below
9DFD:1330  BB 0180				mov	bx,180h
9DFD:1333  B9 0703				mov	cx,703h
9DFD:1336			loc_235::					;  xref 9DFD:132E
9DFD:1336  22 EA				and	ch,dl
9DFD:1338  D3 EA				shr	dx,cl			; Shift w/zeros fill
9DFD:133A  03 F2				add	si,dx
9DFD:133C  8A F7				mov	dh,bh
9DFD:133E  2A C9				sub	cl,cl
9DFD:1340			loc_236::					;  xref 9DFD:1346
9DFD:1340  D0 C8				ror	al,1			; Rotate
9DFD:1342  02 CD				add	cl,ch
9DFD:1344  FE CF				dec	bh
9DFD:1346  75 F8				jnz	loc_236			; Jump if not zero
9DFD:1348  8A E3				mov	ah,bl
9DFD:134A  D2 EC				shr	ah,cl			; Shift w/zeros fill
9DFD:134C  5B					pop	bx
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 55

9DFD:134D  C3					retn
				sub_47		endp

9DFD:134E			loc_237::					;  xref 9DFD:11B4
9DFD:134E  8A D8				mov	bl,al
9DFD:1350  8B C1				mov	ax,cx
9DFD:1352  E8 026A				call	sub_54			; (15BF)
9DFD:1355  8B F8				mov	di,ax
9DFD:1357  2B D1				sub	dx,cx
9DFD:1359  81 C2 0101				add	dx,101h
9DFD:135D  D0 E6				shl	dh,1			; Shift w/zeros fill
9DFD:135F  D0 E6				shl	dh,1			; Shift w/zeros fill
9DFD:1361  80 3E 0049 06			cmp	byte ptr ds:[49h],6	; (9DFD:0049=0AFh)
9DFD:1366  73 04				jae	loc_238			; Jump if above or =
9DFD:1368  D0 E2				shl	dl,1			; Shift w/zeros fill
9DFD:136A  D1 E7				shl	di,1			; Shift w/zeros fill
9DFD:136C			loc_238::					;  xref 9DFD:1366
9DFD:136C  06					push	es
9DFD:136D  1F					pop	ds
9DFD:136E  2A ED				sub	ch,ch
9DFD:1370  D0 E3				shl	bl,1			; Shift w/zeros fill
9DFD:1372  D0 E3				shl	bl,1			; Shift w/zeros fill
9DFD:1374  74 2D				jz	loc_242			; Jump if zero
9DFD:1376  8A C3				mov	al,bl
9DFD:1378  B4 50				mov	ah,50h			; 'P'
9DFD:137A  F6 E4				mul	ah			; ax = reg * al
9DFD:137C  8B F7				mov	si,di
9DFD:137E  03 F0				add	si,ax
9DFD:1380  8A E6				mov	ah,dh
9DFD:1382  2A E3				sub	ah,bl
9DFD:1384			loc_239::					;  xref 9DFD:1391
9DFD:1384  E8 0080				call	sub_48			; (1407)
9DFD:1387  81 EE 1FB0				sub	si,1FB0h
9DFD:138B  81 EF 1FB0				sub	di,1FB0h
9DFD:138F  FE CC				dec	ah
9DFD:1391  75 F1				jnz	loc_239			; Jump if not zero
9DFD:1393			loc_240::					;  xref 9DFD:13A5
9DFD:1393 ˙8A C7				mov	al,bh
9DFD:1395			loc_241::					;  xref 9DFD:139E
9DFD:1395  E8 0088				call	sub_49			; (1420)
9DFD:1398  81 EF 1FB0				sub	di,1FB0h
9DFD:139C  FE CB				dec	bl
9DFD:139E  75 F5				jnz	loc_241			; Jump if not zero
9DFD:13A0  E9 FD30				jmp	loc_196			; (10D3)
9DFD:13A3			loc_242::					;  xref 9DFD:1374
9DFD:13A3  8A DE				mov	bl,dh
9DFD:13A5  EB EC				jmp	short loc_240		; (1393)
9DFD:13A7			loc_243::					;  xref 9DFD:1233
9DFD:13A7  FD					std				; Set direction flag
9DFD:13A8  8A D8				mov	bl,al
9DFD:13AA  8B C2				mov	ax,dx
9DFD:13AC  E8 0210				call	sub_54			; (15BF)
9DFD:13AF  8B F8				mov	di,ax
9DFD:13B1  2B D1				sub	dx,cx
9DFD:13B3  81 C2 0101				add	dx,101h
9DFD:13B7  D0 E6				shl	dh,1			; Shift w/zeros fill
9DFD:13B9  D0 E6				shl	dh,1			; Shift w/zeros fill
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 56

9DFD:13BB  80 3E 0049 06			cmp	byte ptr ds:[49h],6	; (9DFD:0049=0AFh)
9DFD:13C0  73 05				jae	loc_244			; Jump if above or =
9DFD:13C2  D0 E2				shl	dl,1			; Shift w/zeros fill
9DFD:13C4  D1 E7				shl	di,1			; Shift w/zeros fill
9DFD:13C6  47					inc	di
9DFD:13C7			loc_244::					;  xref 9DFD:13C0
9DFD:13C7  06					push	es
9DFD:13C8  1F					pop	ds
9DFD:13C9  2A ED				sub	ch,ch
9DFD:13CB ˙81 C7 00F0				add	di,offset data_34	; (9DFD:00F0=85h)
9DFD:13CF  D0 E3				shl	bl,1			; Shift w/zeros fill
9DFD:13D1  D0 E3				shl	bl,1			; Shift w/zeros fill
9DFD:13D3  74 2E				jz	loc_248			; Jump if zero
9DFD:13D5  8A C3				mov	al,bl
9DFD:13D7  B4 50				mov	ah,50h			; 'P'
9DFD:13D9  F6 E4				mul	ah			; ax = reg * al
9DFD:13DB  8B F7				mov	si,di
9DFD:13DD  2B F0				sub	si,ax
9DFD:13DF  8A E6				mov	ah,dh
9DFD:13E1  2A E3				sub	ah,bl
9DFD:13E3			loc_245::					;  xref 9DFD:13F0
9DFD:13E3  E8 0021				call	sub_48			; (1407)
9DFD:13E6  81 EE 2050				sub	si,2050h
9DFD:13EA  81 EF 2050				sub	di,2050h
9DFD:13EE  FE CC				dec	ah
9DFD:13F0  75 F1				jnz	loc_245			; Jump if not zero
9DFD:13F2			loc_246::					;  xref 9DFD:1405
9DFD:13F2 ˙8A C7				mov	al,bh
9DFD:13F4			loc_247::					;  xref 9DFD:13FD
9DFD:13F4  E8 0029				call	sub_49			; (1420)
9DFD:13F7  81 EF 2050				sub	di,2050h
9DFD:13FB  FE CB				dec	bl
9DFD:13FD  75 F5				jnz	loc_247			; Jump if not zero
9DFD:13FF  FC					cld				; Clear direction
9DFD:1400  E9 FCD0				jmp	loc_196			; (10D3)
9DFD:1403			loc_248::					;  xref 9DFD:13D3
9DFD:1403  8A DE				mov	bl,dh
9DFD:1405  EB EB				jmp	short loc_246		; (13F2)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:1384, 13E3
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:1407			sub_48		proc	near
9DFD:1407  8A CA				mov	cl,dl
9DFD:1409  56					push	si
9DFD:140A  57					push	di
9DFD:140B  F3/ A4				rep	movsb			; Rep when cx >0 Mov [si] to es:[di]
9DFD:140D  5F					pop	di
9DFD:140E  5E					pop	si
9DFD:140F ˙81 C6 2000				add	si,data_75e		; (9DFD:2000=0)
9DFD:1413 ˙81 C7 2000				add	di,data_75e		; (9DFD:2000=0)
9DFD:1417  56					push	si
9DFD:1418  57					push	di
9DFD:1419  8A CA				mov	cl,dl
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 57

9DFD:141B  F3/ A4				rep	movsb			; Rep when cx >0 Mov [si] to es:[di]
9DFD:141D  5F					pop	di
9DFD:141E  5E					pop	si
9DFD:141F  C3					retn
				sub_48		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:1395, 13F4
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:1420			sub_49		proc	near
9DFD:1420  8A CA				mov	cl,dl
9DFD:1422  57					push	di
9DFD:1423  F3/ AA				rep	stosb			; Rep when cx >0 Store al to es:[di]
9DFD:1425  5F					pop	di
9DFD:1426 ˙81 C7 2000				add	di,data_75e		; (9DFD:2000=0)
9DFD:142A  57					push	di
9DFD:142B  8A CA				mov	cl,dl
9DFD:142D  F3/ AA				rep	stosb			; Rep when cx >0 Store al to es:[di]
9DFD:142F  5F					pop	di
9DFD:1430  C3					retn
				sub_49		endp

9DFD:1431			loc_249::					;  xref 9DFD:12A0, 12C2
9DFD:1431  B4 00				mov	ah,0
9DFD:1433  50					push	ax
9DFD:1434  E8 0185				call	sub_53			; (15BC)
9DFD:1437  8B F8				mov	di,ax
9DFD:1439  58					pop	ax
9DFD:143A  3C 80				cmp	al,80h
9DFD:143C  73 06				jae	loc_250			; Jump if above or =
9DFD:143E ˙BE 16F1				mov	si,data_78e		; (C000:16F1=0)
9DFD:1441  0E					push	cs
9DFD:1442  EB 0F				jmp	short loc_251		; (1453)
9DFD:1444			loc_250::					;  xref 9DFD:143C
9DFD:1444  2C 80				sub	al,80h
9DFD:1446  1E					push	ds
9DFD:1447  2B F6				sub	si,si
9DFD:1449  8E DE				mov	ds,si
9DFD:144B  C5 36 007C				lds	si,dword ptr ds:graph_tbl_off	; (0000:007C=1333h) Load seg:offset pt
9DFD:144F  8C DA				mov	dx,ds
9DFD:1451  1F					pop	ds
9DFD:1452  52					push	dx
9DFD:1453			loc_251::					;  xref 9DFD:1442
9DFD:1453  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:1455  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:1457  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:1459  03 F0				add	si,ax
9DFD:145B  80 3E 0049 06			cmp	byte ptr ds:[49h],6	; (9DFD:0049=0AFh)
9DFD:1460  1F					pop	ds
9DFD:1461  72 2C				jc	loc_256			; Jump if carry Set

9DFD:1463			locloop_252::					;  xref 9DFD:147E
9DFD:1463  57					push	di
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 58

9DFD:1464  56					push	si
9DFD:1465  B6 04				mov	dh,4
9DFD:1467			loc_253::					;  xref 9DFD:1479
9DFD:1467  AC					lodsb				; String [si] to al
9DFD:1468  F6 C3 80				test	bl,80h
9DFD:146B  75 16				jnz	loc_255			; Jump if not zero
9DFD:146D  AA					stosb				; Store al to es:[di]
9DFD:146E  AC					lodsb				; String [si] to al
9DFD:146F			loc_254::					;  xref 9DFD:148D
9DFD:146F ˙26: 88 85 1FFF			mov	es:data_74[di],al	; (9DFD:1FFF=81h)
9DFD:1474  83 C7 4F				add	di,4Fh
9DFD:1477  FE CE				dec	dh
9DFD:1479  75 EC				jnz	loc_253			; Jump if not zero
9DFD:147B  5E					pop	si
9DFD:147C  5F					pop	di
9DFD:147D  47					inc	di
9DFD:147E  E2 E3				loop	locloop_252		; Loop if cx > 0

9DFD:1480  E9 FC50				jmp	loc_196			; (10D3)
9DFD:1483			loc_255::					;  xref 9DFD:146B
9DFD:1483  26: 32 05				xor	al,es:[di]
9DFD:1486  AA					stosb				; Store al to es:[di]
9DFD:1487  AC					lodsb				; String [si] to al
9DFD:1488  26: 32 85 1FFF			xor	al,es:data_74[di]	; (9DFD:1FFF=81h)
9DFD:148D  EB E0				jmp	short loc_254		; (146F)
9DFD:148F			loc_256::					;  xref 9DFD:1461
9DFD:148F  8A D3				mov	dl,bl
9DFD:1491  D1 E7				shl	di,1			; Shift w/zeros fill
9DFD:1493  E8 00D1				call	sub_50			; (1567)

9DFD:1496			locloop_257::					;  xref 9DFD:14DE
9DFD:1496  57					push	di
9DFD:1497  56					push	si
9DFD:1498  B6 04				mov	dh,4
9DFD:149A			loc_258::					;  xref 9DFD:14D7
9DFD:149A  AC					lodsb				; String [si] to al
9DFD:149B  E8 00DE				call	sub_51			; (157C)
9DFD:149E  23 C3				and	ax,bx
9DFD:14A0  F6 C2 80				test	dl,80h
9DFD:14A3  74 07				jz	loc_259			; Jump if zero
9DFD:14A5  26: 32 25				xor	ah,es:[di]
9DFD:14A8  26: 32 45 01				xor	al,es:[di+1]
9DFD:14AC			loc_259::					;  xref 9DFD:14A3
9DFD:14AC  26: 88 25				mov	es:[di],ah
9DFD:14AF  26: 88 45 01				mov	es:[di+1],al
9DFD:14B3  AC					lodsb				; String [si] to al
9DFD:14B4  E8 00C5				call	sub_51			; (157C)
9DFD:14B7  23 C3				and	ax,bx
9DFD:14B9  F6 C2 80				test	dl,80h
9DFD:14BC  74 0A				jz	loc_260			; Jump if zero
9DFD:14BE  26: 32 A5 2000			xor	ah,es:data_75e[di]	; (9DFD:2000=0)
9DFD:14C3  26: 32 85 2001			xor	al,es:data_76e[di]	; (9DFD:2001=0)
9DFD:14C8			loc_260::					;  xref 9DFD:14BC
9DFD:14C8  26: 88 A5 2000			mov	es:data_75e[di],ah	; (9DFD:2000=0)
9DFD:14CD  26: 88 85 2001			mov	es:data_76e[di],al	; (9DFD:2001=0)
9DFD:14D2  83 C7 50				add	di,50h
9DFD:14D5  FE CE				dec	dh
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 59

9DFD:14D7  75 C1				jnz	loc_258			; Jump if not zero
9DFD:14D9  5E					pop	si
9DFD:14DA  5F					pop	di
9DFD:14DB  83 C7 02				add	di,2
9DFD:14DE  E2 B6				loop	locloop_257		; Loop if cx > 0

9DFD:14E0  E9 FBF0				jmp	loc_196			; (10D3)
9DFD:14E3			loc_261::					;  xref 9DFD:126C
9DFD:14E3  E8 00D6				call	sub_53			; (15BC)
9DFD:14E6  8B F0				mov	si,ax
9DFD:14E8  83 EC 08				sub	sp,8
9DFD:14EB  8B EC				mov	bp,sp
9DFD:14ED  80 3E 0049 06			cmp	byte ptr ds:data_77e,6	; (C000:0049=61h)
9DFD:14F2  06					push	es
9DFD:14F3  1F					pop	ds
9DFD:14F4  72 1A				jc	loc_263			; Jump if carry Set
9DFD:14F6  B6 04				mov	dh,4
9DFD:14F8			loc_262::					;  xref 9DFD:150B
9DFD:14F8  8A 04				mov	al,[si]
9DFD:14FA  88 46 00				mov	[bp],al
9DFD:14FD  45					inc	bp
9DFD:14FE  8A 84 2000				mov	al,ds:data_75e[si]	; (9DFD:2000=0)
9DFD:1502  88 46 00				mov	[bp],al
9DFD:1505  45					inc	bp
9DFD:1506  83 C6 50				add	si,50h
9DFD:1509  FE CE				dec	dh
9DFD:150B  75 EB				jnz	loc_262			; Jump if not zero
9DFD:150D  EB 17				jmp	short loc_265		; (1526)
9DFD:150F  90					db	90h
9DFD:1510			loc_263::					;  xref 9DFD:14F4
9DFD:1510  D1 E6				shl	si,1			; Shift w/zeros fill
9DFD:1512  B6 04				mov	dh,4
9DFD:1514			loc_264::					;  xref 9DFD:1524
9DFD:1514  E8 0088				call	sub_52			; (159F)
9DFD:1517 ˙81 C6 2000				add	si,data_75e		; (9DFD:2000=0)
9DFD:151B  E8 0081				call	sub_52			; (159F)
9DFD:151E  81 EE 1FB0				sub	si,1FB0h
9DFD:1522  FE CE				dec	dh
9DFD:1524  75 EE				jnz	loc_264			; Jump if not zero
9DFD:1526			loc_265::					;  xref 9DFD:150D
9DFD:1526 ˙BF 16F1				mov	di,data_78e		; (C000:16F1=0)
9DFD:1529  0E					push	cs
9DFD:152A  07					pop	es
9DFD:152B  83 ED 08				sub	bp,8
9DFD:152E  8B F5				mov	si,bp
9DFD:1530  FC					cld				; Clear direction
9DFD:1531  B0 00				mov	al,0
9DFD:1533			loc_266::					;  xref 9DFD:155F
9DFD:1533 ˙16					push	ss
9DFD:1534  1F					pop	ds
9DFD:1535  BA 0080				mov	dx,80h
9DFD:1538			loc_267::					;  xref 9DFD:1549
9DFD:1538  56					push	si
9DFD:1539  57					push	di
9DFD:153A  B9 0008				mov	cx,8
9DFD:153D  F3/ A6				repe	cmpsb			; Rep zf=1+cx >0 Cmp [si] to es:[di]
9DFD:153F  5F					pop	di
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 60

9DFD:1540  5E					pop	si
9DFD:1541  74 1E				jz	loc_268			; Jump if zero
9DFD:1543  FE C0				inc	al
9DFD:1545  83 C7 08				add	di,8
9DFD:1548  4A					dec	dx
9DFD:1549  75 ED				jnz	loc_267			; Jump if not zero
9DFD:154B  3C 00				cmp	al,0
9DFD:154D  74 12				je	loc_268			; Jump if equal
9DFD:154F  2B C0				sub	ax,ax
9DFD:1551  8E D8				mov	ds,ax
9DFD:1553  C4 3E 007C				les	di,dword ptr ds:graph_tbl_off	; (0000:007C=1333h) Load seg:offset pt
9DFD:1557  8C C0				mov	ax,es
9DFD:1559  0B C7				or	ax,di
9DFD:155B  74 04				jz	loc_268			; Jump if zero
9DFD:155D  B0 80				mov	al,80h
9DFD:155F  EB D2				jmp	short loc_266		; (1533)
9DFD:1561			loc_268::					;  xref 9DFD:1541, 154D, 155B
9DFD:1561  83 C4 08				add	sp,8
9DFD:1564  E9 FB6C				jmp	loc_196			; (10D3)

				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:1493
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:1567			sub_50		proc	near
9DFD:1567  80 E3 03				and	bl,3
9DFD:156A  8A C3				mov	al,bl
9DFD:156C  51					push	cx
9DFD:156D  B9 0003				mov	cx,3

9DFD:1570			locloop_269::					;  xref 9DFD:1576
9DFD:1570  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:1572  D0 E0				shl	al,1			; Shift w/zeros fill
9DFD:1574  0A D8				or	bl,al
9DFD:1576  E2 F8				loop	locloop_269		; Loop if cx > 0

9DFD:1578  8A FB				mov	bh,bl
9DFD:157A  59					pop	cx
9DFD:157B  C3					retn
				sub_50		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:149B, 14B4
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:157C			sub_51		proc	near
9DFD:157C  52					push	dx
9DFD:157D  51					push	cx
9DFD:157E  53					push	bx
9DFD:157F  BA 0000				mov	dx,0
9DFD:1582  B9 0001				mov	cx,1
9DFD:1585			loc_270::					;  xref 9DFD:1597
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 61

9DFD:1585  8B D8				mov	bx,ax
9DFD:1587  23 D9				and	bx,cx
9DFD:1589  0B D3				or	dx,bx
9DFD:158B  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:158D  D1 E1				shl	cx,1			; Shift w/zeros fill
9DFD:158F  8B D8				mov	bx,ax
9DFD:1591  23 D9				and	bx,cx
9DFD:1593  0B D1				or	dx,cx
9DFD:1595  D1 E1				shl	cx,1			; Shift w/zeros fill
9DFD:1597  73 EC				jnc	loc_270			; Jump if carry=0
9DFD:1599  8B C2				mov	ax,dx
9DFD:159B  5B					pop	bx
9DFD:159C  59					pop	cx
9DFD:159D  5A					pop	dx
9DFD:159E  C3					retn
				sub_51		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:1514, 151B
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:159F			sub_52		proc	near
9DFD:159F  8A 24				mov	ah,[si]
9DFD:15A1  8A 44 01				mov	al,[si+1]
9DFD:15A4  B9 C000				mov	cx,0C000h
9DFD:15A7  B2 00				mov	dl,0
9DFD:15A9			loc_271::					;  xref 9DFD:15B5
9DFD:15A9  85 C1				test	ax,cx
9DFD:15AB  F8					clc				; Clear carry flag
9DFD:15AC  74 01				jz	loc_272			; Jump if zero
9DFD:15AE  F9					stc				; Set carry flag
9DFD:15AF			loc_272::					;  xref 9DFD:15AC
9DFD:15AF  D0 D2				rcl	dl,1			; Rotate thru carry
9DFD:15B1  D1 E9				shr	cx,1			; Shift w/zeros fill
9DFD:15B3  D1 E9				shr	cx,1			; Shift w/zeros fill
9DFD:15B5  73 F2				jnc	loc_271			; Jump if carry=0
9DFD:15B7  88 56 00				mov	[bp],dl
9DFD:15BA  45					inc	bp
9DFD:15BB  C3					retn
				sub_52		endp


				;ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;                              SUBROUTINE
				;
				;         Called from:   9DFD:1434, 14E3
				;‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹

9DFD:15BC			sub_53		proc	near
9DFD:15BC  A1 0050				mov	ax,word ptr ds:[50h]	; (9DFD:0050=4F9h)

				;ﬂﬂﬂﬂ External Entry into Subroutine ﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂﬂ
				;
				;         Called from:   9DFD:1352, 13AC
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 62


9DFD:15BF			sub_54::
9DFD:15BF  53					push	bx
9DFD:15C0  8B D8				mov	bx,ax
9DFD:15C2  8A C4				mov	al,ah
9DFD:15C4  F6 26 004A				mul	byte ptr ds:[4Ah]	; (9DFD:004A=0E3h) ax = data * al
9DFD:15C8  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:15CA  D1 E0				shl	ax,1			; Shift w/zeros fill
9DFD:15CC  2A FF				sub	bh,bh
9DFD:15CE  03 C3				add	ax,bx
9DFD:15D0  5B					pop	bx
9DFD:15D1  C3					retn
				sub_53		endp


				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:15D2			loc_273::					;  xref 9DFD:0F8A
9DFD:15D2  50					push	ax
9DFD:15D3  50					push	ax
9DFD:15D4  B4 03				mov	ah,3
9DFD:15D6  CD 10				int	10h			; Video display   ah=functn 03h
										;  get cursor loc in dx, mode cx
9DFD:15D8  58					pop	ax
9DFD:15D9  3C 08				cmp	al,8
9DFD:15DB  74 59				je	loc_281			; Jump if equal
9DFD:15DD  3C 0D				cmp	al,0Dh
9DFD:15DF  74 5E				je	loc_282			; Jump if equal
9DFD:15E1  3C 0A				cmp	al,0Ah
9DFD:15E3  74 5E				je	loc_283			; Jump if equal
9DFD:15E5  3C 07				cmp	al,7
9DFD:15E7  74 61				je	loc_284			; Jump if equal
9DFD:15E9  8A 3E 0062				mov	bh,ds:video_page	; (0040:0062=0)
9DFD:15ED  B4 0A				mov	ah,0Ah
9DFD:15EF  B9 0001				mov	cx,1
9DFD:15F2  CD 10				int	10h			; Video display   ah=functn 0Ah
										;  set char al at present curs
										;   cx=# of chars to replicate
9DFD:15F4  FE C2				inc	dl
9DFD:15F6  3A 16 004A				cmp	dl,ds:video_columns	; (0040:004A=50h)
9DFD:15FA  75 36				jne	loc_280			; Jump if not equal
9DFD:15FC  B2 00				mov	dl,0
9DFD:15FE  80 FE 18				cmp	dh,18h
9DFD:1601  75 2D				jne	loc_279			; Jump if not equal
9DFD:1603			loc_274::					;  xref 9DFD:1648
9DFD:1603 ˙B4 02				mov	ah,2
9DFD:1605  B7 00				mov	bh,0
9DFD:1607  CD 10				int	10h			; Video display   ah=functn 02h
										;  set cursor location in dx
9DFD:1609  A0 0049				mov	al,ds:video_mode	; (0040:0049=3)
9DFD:160C  3C 04				cmp	al,4
9DFD:160E  72 06				jb	loc_275			; Jump if below
9DFD:1610  3C 07				cmp	al,7
9DFD:1612  B7 00				mov	bh,0
9DFD:1614  75 06				jnz	loc_276			; Jump if not zero
9DFD:1616			loc_275::					;  xref 9DFD:160E
9DFD:1616  B4 08				mov	ah,8
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 63

9DFD:1618  CD 10				int	10h			; Video display   ah=functn 08h
										;  get char al & attrib ah @curs
9DFD:161A  8A FC				mov	bh,ah
9DFD:161C			loc_276::					;  xref 9DFD:1614
9DFD:161C  B8 0601				mov	ax,601h
9DFD:161F  B9 0000				mov	cx,0
9DFD:1622  B6 18				mov	dh,18h
9DFD:1624  8A 16 004A				mov	dl,ds:video_columns	; (0040:004A=50h)
9DFD:1628  FE CA				dec	dl
9DFD:162A			loc_277::					;  xref 9DFD:1634
9DFD:162A ˙CD 10				int	10h			; Video display   ah=functn 02h
										;  set cursor location in dx
9DFD:162C			loc_278::					;  xref 9DFD:164F
9DFD:162C ˙58					pop	ax
9DFD:162D  E9 FAA3				jmp	loc_196			; (10D3)
9DFD:1630			loc_279::					;  xref 9DFD:1601, 1646
9DFD:1630  FE C6				inc	dh
9DFD:1632			loc_280::					;  xref 9DFD:15FA, 1639, 163D, 1641
9DFD:1632 ˙B4 02				mov	ah,2
9DFD:1634  EB F4				jmp	short loc_277		; (162A)
9DFD:1636			loc_281::					;  xref 9DFD:15DB
9DFD:1636  80 FA 00				cmp	dl,0
9DFD:1639  74 F7				je	loc_280			; Jump if equal
9DFD:163B  FE CA				dec	dl
9DFD:163D  EB F3				jmp	short loc_280		; (1632)
9DFD:163F			loc_282::					;  xref 9DFD:15DF
9DFD:163F  B2 00				mov	dl,0
9DFD:1641  EB EF				jmp	short loc_280		; (1632)
9DFD:1643			loc_283::					;  xref 9DFD:15E3
9DFD:1643  80 FE 18				cmp	dh,18h
9DFD:1646  75 E8				jne	loc_279			; Jump if not equal
9DFD:1648  EB B9				jmp	short loc_274		; (1603)
9DFD:164A			loc_284::					;  xref 9DFD:15E7
9DFD:164A  B3 02				mov	bl,2
9DFD:164C  E8 EF28				call	sub_14			; (0577)
9DFD:164F  EB DB				jmp	short loc_278		; (162C)
9DFD:1651  03			data_64		db	3			; Data table (indexed access)
										;  xref 9DFD:1688
9DFD:1652  03 05 05 03 03 03			db	3, 5, 5, 3, 3, 3
9DFD:1658  04					db	4

				;ƒƒƒƒƒ Indexed Entry Point ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒ

9DFD:1659			loc_285::					;  xref 9DFD:0F76
9DFD:1659  B4 00				mov	ah,0
9DFD:165B  8B 16 0063				mov	dx,ds:@video_port	; (0040:0063=3D4h)
9DFD:165F  83 C2 06				add	dx,6
9DFD:1662  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
9DFD:1663  A8 04				test	al,4
9DFD:1665  75 78				jnz	loc_290			; Jump if not zero
9DFD:1667  A8 02				test	al,2
9DFD:1669  74 7E				jz	loc_291			; Jump if zero
9DFD:166B  B4 10				mov	ah,10h
9DFD:166D  8B 16 0063				mov	dx,ds:@video_port	; (0040:0063=3D4h)
9DFD:1671  8A C4				mov	al,ah
9DFD:1673  EE					out	dx,al			; port 3D4h, CGA/EGA reg index
										;  al = 10h, light pen high
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 64

9DFD:1674  42					inc	dx
9DFD:1675  EC					in	al,dx			; port 3D5h, CGA/EGA indxd data
9DFD:1676  8A E8				mov	ch,al
9DFD:1678  4A					dec	dx
9DFD:1679  FE C4				inc	ah
9DFD:167B  8A C4				mov	al,ah
9DFD:167D  EE					out	dx,al			; port 3D4h, CGA/EGA reg index
										;  al = 11h, light pen low
9DFD:167E  42					inc	dx
9DFD:167F  EC					in	al,dx			; port 3D5h, CGA/EGA indxd data
9DFD:1680  8A E5				mov	ah,ch
9DFD:1682  8A 1E 0049				mov	bl,ds:video_mode	; (0040:0049=3)
9DFD:1686  2A FF				sub	bh,bh
9DFD:1688  2E: 8A 9F 1651			mov	bl,cs:data_64[bx]	; (9DFD:1651=3)
9DFD:168D  2B C3				sub	ax,bx
9DFD:168F  2B 06 004E				sub	ax,ds:video_page_off	; (0040:004E=0)
9DFD:1693  79 03				jns	loc_286			; Jump if not sign
9DFD:1695  B8 0000				mov	ax,0
9DFD:1698			loc_286::					;  xref 9DFD:1693
9DFD:1698  B1 03				mov	cl,3
9DFD:169A  80 3E 0049 04			cmp	byte ptr ds:video_mode,4	; (0040:0049=3)
9DFD:169F  72 2A				jb	loc_288			; Jump if below
9DFD:16A1  80 3E 0049 07			cmp	byte ptr ds:video_mode,7	; (0040:0049=3)
9DFD:16A6  74 23				je	loc_288			; Jump if equal
9DFD:16A8  B2 28				mov	dl,28h			; '('
9DFD:16AA  F6 F2				div	dl			; al, ah rem = ax/reg
9DFD:16AC  8A E8				mov	ch,al
9DFD:16AE  02 ED				add	ch,ch
9DFD:16B0  8A DC				mov	bl,ah
9DFD:16B2  2A FF				sub	bh,bh
9DFD:16B4  80 3E 0049 06			cmp	byte ptr ds:video_mode,6	; (0040:0049=3)
9DFD:16B9  75 04				jne	loc_287			; Jump if not equal
9DFD:16BB  B1 04				mov	cl,4
9DFD:16BD  D0 E4				shl	ah,1			; Shift w/zeros fill
9DFD:16BF			loc_287::					;  xref 9DFD:16B9
9DFD:16BF  D3 E3				shl	bx,cl			; Shift w/zeros fill
9DFD:16C1  8A D4				mov	dl,ah
9DFD:16C3  8A F0				mov	dh,al
9DFD:16C5  D0 EE				shr	dh,1			; Shift w/zeros fill
9DFD:16C7  D0 EE				shr	dh,1			; Shift w/zeros fill
9DFD:16C9  EB 12				jmp	short loc_289		; (16DD)
9DFD:16CB			loc_288::					;  xref 9DFD:169F, 16A6
9DFD:16CB  F6 36 004A				div	byte ptr ds:video_columns	; (0040:004A=50h) al,ah rem = ax/data
9DFD:16CF  8A F0				mov	dh,al
9DFD:16D1  8A D4				mov	dl,ah
9DFD:16D3  D2 E0				shl	al,cl			; Shift w/zeros fill
9DFD:16D5  8A E8				mov	ch,al
9DFD:16D7  8A DC				mov	bl,ah
9DFD:16D9  32 FF				xor	bh,bh			; Zero register
9DFD:16DB  D3 E3				shl	bx,cl			; Shift w/zeros fill
9DFD:16DD			loc_289::					;  xref 9DFD:16C9
9DFD:16DD  B4 01				mov	ah,1
9DFD:16DF			loc_290::					;  xref 9DFD:1665
9DFD:16DF  52					push	dx
9DFD:16E0  8B 16 0063				mov	dx,ds:@video_port	; (0040:0063=3D4h)
9DFD:16E4  83 C2 07				add	dx,7
9DFD:16E7  EE					out	dx,al			; port 3DBh, CGA light pen clr
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 65

9DFD:16E8  5A					pop	dx
9DFD:16E9			loc_291::					;  xref 9DFD:1669
9DFD:16E9  5F					pop	di
9DFD:16EA  5E					pop	si
9DFD:16EB  1F					pop	ds
9DFD:16EC  1F					pop	ds
9DFD:16ED  1F					pop	ds
9DFD:16EE  1F					pop	ds
9DFD:16EF  07					pop	es
9DFD:16F0  CF					iret				; Interrupt return
9DFD:16F1  0008[00]				db	8 dup (0)
9DFD:16F9  73 81 A5 81 BD 99			db	 73h, 81h,0A5h, 81h,0BDh, 99h
9DFD:16FF  81 73 73 FF DB FF			db	 81h, 73h, 73h,0FFh,0DBh,0FFh
9DFD:1705  C3 E7 FF 7E 6C FE			db	0C3h,0E7h,0FFh, 7Eh, 6Ch,0FEh
9DFD:170B  FE FE 7C 38 10 00			db	0FEh,0FEh, 7Ch, 38h, 10h, 00h
9DFD:1711  10 38 7C FE 7C 38			db	 10h, 38h, 7Ch,0FEh, 7Ch, 38h
9DFD:1717  10 08 38 7C 38 FE			db	 10h, 08h, 38h, 7Ch, 38h,0FEh
9DFD:171D  FE 7C 38 7C 10 10			db	0FEh, 7Ch, 38h, 7Ch, 10h, 10h
9DFD:1723  38					db	38h
9DFD:1724			loc_292::					;  xref 9DFD:1724
9DFD:1724  7C FE				jl	loc_292			; Jump if <
9DFD:1726  7C 38				jl	$+3Ah			; Jump if <
9DFD:1728  7C 00				jl	$+2			; delay for I/O
9DFD:172A  00 18				add	[bx+si],bl
9DFD:172C  3C 3C				cmp	al,3Ch			; '<'
9DFD:172E  18 00				sbb	[bx+si],al
9DFD:1730  00 FF				add	bh,bh
9DFD:1732  FF E7				jmp	di			;*
							                        ;* No entry point to code
9DFD:1734  C3					retn
							                        ;* No entry point to code
9DFD:1735  C3					retn
							                        ;* No entry point to code
9DFD:1736  E7 FF				out	0FFh,ax			; port 0FFh ??i/o non-standard
9DFD:1738  FF 00				inc	word ptr [bx+si]
9DFD:173A  3C 66				cmp	al,66h			; 'f'
9DFD:173C  42					inc	dx
9DFD:173D  42					inc	dx
9DFD:173E  66 3C 00 FF C3 99			db	 66h, 3Ch, 00h,0FFh,0C3h, 99h
9DFD:1744  BD B0 99 C3 FF 0F			db	0BDh,0B0h, 99h,0C3h,0FFh, 0Fh
9DFD:174A  07 0F 7D CC CC CC			db	 07h, 0Fh, 7Dh,0CCh,0CCh,0CCh
9DFD:1750  78 3C 66 66 66 3C			db	 78h, 3Ch, 66h, 66h, 66h, 3Ch
9DFD:1756  18 7E 18 3F 3F 3F			db	 18h, 7Eh, 18h, 3Fh, 3Fh, 3Fh
9DFD:175C  30 30 70 F0 E0 7F			db	 30h, 30h, 70h,0F0h,0E0h, 7Fh
9DFD:1762  63 7F 63 63 67 E6			db	 63h, 7Fh, 63h, 63h, 67h,0E6h
9DFD:1768  C0 99 5A 3C E7 E7			db	0C0h, 99h, 5Ah, 3Ch,0E7h,0E7h
9DFD:176E  3C 5A 99 80 E0 F8			db	 3Ch, 5Ah, 99h, 80h,0E0h,0F8h
9DFD:1774  FE F8 E0 80 00 02			db	0FEh,0F8h,0E0h, 80h, 00h, 02h
9DFD:177A  0E 3E FE 3E 0E 02			db	 0Eh, 3Eh,0FEh, 3Eh, 0Eh, 02h
9DFD:1780  00 18 3C 7E 18 18			db	 00h, 18h, 3Ch, 7Eh, 18h, 18h
9DFD:1786  7E 3C 18 66 66 66			db	 7Eh, 3Ch, 18h, 66h, 66h, 66h
9DFD:178C  66 66 00 66 00 7F			db	 66h, 66h, 00h, 66h, 00h, 7Fh
9DFD:1792  DB DB 7B 1B 1B 1B			db	0DBh,0DBh, 7Bh, 1Bh, 1Bh, 1Bh
9DFD:1798  00 3E 63 38 6C 6C			db	 00h, 3Eh, 63h, 38h, 6Ch, 6Ch
9DFD:179E  38 CC 78 00 00 00			db	 38h,0CCh, 78h, 00h, 00h, 00h
9DFD:17A4  00 7E 7E 7E 00 18			db	 00h, 7Eh, 7Eh, 7Eh, 00h, 18h
9DFD:17AA  3C 7E 18 7E 3C 18			db	 3Ch, 7Eh, 18h, 7Eh, 3Ch, 18h
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 66

9DFD:17B0  FF 18 3C 7E 18 18			db	0FFh, 18h, 3Ch, 7Eh, 18h, 18h
9DFD:17B6  18 18 00 18 18 18			db	 18h, 18h, 00h, 18h, 18h, 18h
9DFD:17BC  18 73 3C 18 00 00			db	 18h, 73h, 3Ch, 18h, 00h, 00h
9DFD:17C2  18 0C FE 0C 18 00			db	 18h, 0Ch,0FEh, 0Ch, 18h, 00h
9DFD:17C8  00 00 30 60 FE 60			db	 00h, 00h, 30h, 60h,0FEh, 60h
9DFD:17CE  30 00 00 00 00 C0			db	 30h, 00h, 00h, 00h, 00h,0C0h
9DFD:17D4  C0 C0 FE 00 00 00			db	0C0h,0C0h,0FEh, 00h, 00h, 00h
9DFD:17DA  24 66 FF 66 24 00			db	 24h, 66h,0FFh, 66h, 24h, 00h
9DFD:17E0  00 00 18 3C 7E FF			db	 00h, 00h, 18h, 3Ch, 7Eh,0FFh
9DFD:17E6  FF 00 00 00 FF FF			db	0FFh, 00h, 00h, 00h,0FFh,0FFh
9DFD:17EC  7E 3C 18 00				db	 7Eh, 3Ch, 18h, 00h
9DFD:17F0  0009[00]				db	9 dup (0)
9DFD:17F9  30 78				db	 30h, 78h
9DFD:17FB			loc_293::
9DFD:17FB  78 30		;*		js	loc_294			;*Jump if sign=1
9DFD:17FB  78 30				db	 78h, 30h
9DFD:17FD  30 00				xor	[bx+si],al
9DFD:17FF  30 00				xor	[bx+si],al
9DFD:1801  6C					insb				; Port dx to es:[di]
9DFD:1802  6C					insb				; Port dx to es:[di]
9DFD:1803  6C					insb				; Port dx to es:[di]
9DFD:1804  00 00 00 00 00 6C			db	 00h, 00h, 00h, 00h, 00h, 6Ch
9DFD:180A  6C FE 6C FE 6C 6C			db	 6Ch,0FEh, 6Ch,0FEh, 6Ch, 6Ch
9DFD:1810  00 30 7C C0 78 0C			db	 00h, 30h, 7Ch,0C0h, 78h, 0Ch
9DFD:1816  F8 30 00 00 C6 CC			db	0F8h, 30h, 00h, 00h,0C6h,0CCh
9DFD:181C  18 30 66 C6 00 38			db	 18h, 30h, 66h,0C6h, 00h, 38h
9DFD:1822  6C 38 76 DC CC 76			db	 6Ch, 38h, 76h,0DCh,0CCh, 76h
9DFD:1828  00 60 60 C0 00			db	 00h, 60h, 60h,0C0h, 00h
9DFD:182D  00 00 00 00 18 30			db	 00h, 00h, 00h, 00h, 18h, 30h
9DFD:1833  60 60 60 30 18 00			db	 60h, 60h, 60h, 30h, 18h, 00h
9DFD:1839  60 30 18 18 18 30			db	 60h, 30h, 18h, 18h, 18h, 30h
9DFD:183F  60 00 00 66 3C FF			db	 60h, 00h, 00h, 66h, 3Ch,0FFh
9DFD:1845  3C 66 00 00 00 30			db	 3Ch, 66h, 00h, 00h, 00h, 30h
9DFD:184B  30 FC				db	 30h,0FCh
9DFD:184D  30 30				db	 30h, 30h
9DFD:184F  0007[00]				db	7 dup (0)
9DFD:1856  30 30 60 00 00 00			db	 30h, 30h, 60h, 00h, 00h, 00h
9DFD:185C  FC					db	0FCh
9DFD:185D  0009[00]				db	9 dup (0)
9DFD:1866  30 30 00 06 0C 18			db	 30h, 30h, 00h, 06h, 0Ch, 18h
9DFD:186C  30 60 C0 80 00 7C			db	 30h, 60h,0C0h, 80h, 00h, 7Ch
9DFD:1872  C6 CE DE F6 E6 7C			db	0C6h,0CEh,0DEh,0F6h,0E6h, 7Ch
9DFD:1878  00					db	 00h
9DFD:1879  30 70 30 30 30 30			db	 30h, 70h, 30h, 30h, 30h, 30h
9DFD:187F			loc_295::					;  xref 9DFD:18B1
9DFD:187F  FC					cld				; Clear direction
9DFD:1880  00 78 CC				add	[bx+si-34h],bh
9DFD:1883  0C 38				or	al,38h			; '8'
9DFD:1885  60					pusha				; Save all regs
9DFD:1886  CC					int	3			; Debug breakpoint
9DFD:1887			loc_297::					;  xref 9DFD:18B9
9DFD:1887  FC					cld				; Clear direction
9DFD:1888  00 78 CC				add	[bx+si-34h],bh
9DFD:188B  0C 38				or	al,38h			; '8'
9DFD:188D  0C CC				or	al,0CCh
9DFD:188F  78 00				js	$+2			; delay for I/O
9DFD:1891  1C 3C				sbb	al,3Ch			; '<'
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 67

9DFD:1893  6C					insb				; Port dx to es:[di]
9DFD:1894  CC					int	3			; Debug breakpoint
9DFD:1895  FE 0C				dec	byte ptr [si]
9DFD:1897  1E					push	ds
9DFD:1898  00 FC				add	ah,bh
9DFD:189A  C0 F8 0C				sar	al,0Ch			; Shift w/sign fill
9DFD:189D  0C CC				or	al,0CCh
9DFD:189F  78 00				js	$+2			; delay for I/O
9DFD:18A1  38 60 C0				cmp	[bx+si-40h],ah
9DFD:18A4  F8					clc				; Clear carry flag
9DFD:18A5  CC					int	3			; Debug breakpoint
9DFD:18A6  CC					int	3			; Debug breakpoint
9DFD:18A7  78 00				js	$+2			; delay for I/O
9DFD:18A9  FC					cld				; Clear direction
9DFD:18AA  CC					int	3			; Debug breakpoint
9DFD:18AB  0C 18				or	al,18h
9DFD:18AD  30 30				xor	[bx+si],dh
9DFD:18AF  30 00				xor	[bx+si],al
9DFD:18B1  78 CC				js	loc_295			; Jump if sign=1
9DFD:18B3  CC					int	3			; Debug breakpoint
9DFD:18B4  78 CC		;*		js	loc_296			;*Jump if sign=1
9DFD:18B4  78 CC				db	 78h,0CCh
9DFD:18B6  CC					int	3			; Debug breakpoint
9DFD:18B7  78 00				js	loc_298			; Jump if sign=1
9DFD:18B9			loc_298::					;  xref 9DFD:18B7
9DFD:18B9  78 CC				js	loc_297			; Jump if sign=1
9DFD:18BB  CC					int	3			; Debug breakpoint
9DFD:18BC  7C 0C				jl	loc_299			; Jump if <
9DFD:18BE  18 70 00		;*		sbb	[bx+si+0],dh
9DFD:18BE  18 70 00				db	 18h, 70h, 00h
9DFD:18C1  00 30 30 00 00 30			db	 00h, 30h, 30h, 00h, 00h, 30h
9DFD:18C7  30 00 00				db	 30h, 00h, 00h
9DFD:18CA			loc_299::					;  xref 9DFD:18BC
9DFD:18CA  30 30				xor	[bx+si],dh
9DFD:18CC  00 00				add	[bx+si],al
9DFD:18CE  30 30				xor	[bx+si],dh
9DFD:18D0  60					pusha				; Save all regs
9DFD:18D1  18 30				sbb	[bx+si],dh
9DFD:18D3  60					pusha				; Save all regs
9DFD:18D4  C0 60 30 18				shl	byte ptr [bx+si+30h],18h	; Shift w/zeros fill
9DFD:18D8  00 00				add	[bx+si],al
9DFD:18DA  00 FC				add	ah,bh
9DFD:18DC  00 00				add	[bx+si],al
9DFD:18DE  FC					cld				; Clear direction
9DFD:18DF  00 00				add	[bx+si],al
9DFD:18E1  60					pusha				; Save all regs
9DFD:18E2  30 18				xor	[bx+si],bl
9DFD:18E4  0C 18				or	al,18h
9DFD:18E6  30 60 00		;*		xor	[bx+si+0],ah
9DFD:18E6  30 60 00				db	 30h, 60h, 00h
9DFD:18E9  78 CC 0C 18 30 00			db	 78h,0CCh, 0Ch, 18h, 30h, 00h
9DFD:18EF  30 00 7C C6 DE DE			db	 30h, 00h, 7Ch,0C6h,0DEh,0DEh
9DFD:18F5  DE C0 78 00 30 78			db	0DEh,0C0h, 78h, 00h, 30h, 78h
9DFD:18FB  CC CC FC CC CC 00			db	0CCh,0CCh,0FCh,0CCh,0CCh, 00h
9DFD:1901  FC 66 66 7C 66 66			db	0FCh, 66h, 66h, 7Ch, 66h, 66h
9DFD:1907  FC 00 3C 66 C0 C0			db	0FCh, 00h, 3Ch, 66h,0C0h,0C0h
9DFD:190D  C0 66 3C 00 F8 6C			db	0C0h, 66h, 3Ch, 00h,0F8h, 6Ch
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 68

9DFD:1913  66 66 66 6C F8 00			db	 66h, 66h, 66h, 6Ch,0F8h, 00h
9DFD:1919  FE 62 68 78 68 62			db	0FEh, 62h, 68h, 78h, 68h, 62h
9DFD:191F  FE 00 FE 62 68 78			db	0FEh, 00h,0FEh, 62h, 68h, 78h
9DFD:1925  68 60 F0 00 3C 66			db	 68h, 60h,0F0h, 00h, 3Ch, 66h
9DFD:192B  C0 C0 CE 66 3E 00			db	0C0h,0C0h,0CEh, 66h, 3Eh, 00h
9DFD:1931  CC CC CC FC CC CC			db	0CCh,0CCh,0CCh,0FCh,0CCh,0CCh
9DFD:1937  CC 00 78 30 30 30			db	0CCh, 00h, 78h, 30h, 30h, 30h
9DFD:193D  30 30 78 00 1E 0C			db	 30h, 30h, 78h, 00h, 1Eh, 0Ch
9DFD:1943  0C 0C CC CC 78 00			db	 0Ch, 0Ch,0CCh,0CCh, 78h, 00h
9DFD:1949  E6 66 6C 78 6C 66			db	0E6h, 66h, 6Ch, 78h, 6Ch, 66h
9DFD:194F  E6 00 F0 60 60 60			db	0E6h, 00h,0F0h, 60h, 60h, 60h
9DFD:1955  62 66 FE 00 C6 EE			db	 62h, 66h,0FEh, 00h,0C6h,0EEh
9DFD:195B  FE FE D6 C6 C6 00			db	0FEh,0FEh,0D6h,0C6h,0C6h, 00h
9DFD:1961  C6 E6 F6 DE CE C6			db	0C6h,0E6h,0F6h,0DEh,0CEh,0C6h
9DFD:1967  C6 00 38 6C C6 C6			db	0C6h, 00h, 38h, 6Ch,0C6h,0C6h
9DFD:196D  C6 6C 38 00 FC 66			db	0C6h, 6Ch, 38h, 00h,0FCh, 66h
9DFD:1973  66 7C 60 60 F0 00			db	 66h, 7Ch, 60h, 60h,0F0h, 00h
9DFD:1979  78 CC CC CC DC 78			db	 78h,0CCh,0CCh,0CCh,0DCh, 78h
9DFD:197F  1C 00 FC 66 66 7C			db	 1Ch, 00h,0FCh, 66h, 66h, 7Ch
9DFD:1985  6C 66 E6 00 78 CC			db	 6Ch, 66h,0E6h, 00h, 78h,0CCh
9DFD:198B  E0 70 1C CC 78 00			db	0E0h, 70h, 1Ch,0CCh, 78h, 00h
9DFD:1991  FC B4 30 30 30 30			db	0FCh,0B4h, 30h, 30h, 30h, 30h
9DFD:1997  78 00 CC CC CC CC			db	 78h, 00h,0CCh,0CCh,0CCh,0CCh
9DFD:199D  CC CC FC 00 CC CC			db	0CCh,0CCh,0FCh, 00h,0CCh,0CCh
9DFD:19A3  CC CC CC 78 30 00			db	0CCh,0CCh,0CCh, 78h, 30h, 00h
9DFD:19A9  C6 C6 C6 D6 FE EE			db	0C6h,0C6h,0C6h,0D6h,0FEh,0EEh
9DFD:19AF  C6 00 C6 C6 6C 38			db	0C6h, 00h,0C6h,0C6h, 6Ch, 38h
9DFD:19B5  38 6C C6 00 CC CC			db	 38h, 6Ch,0C6h, 00h,0CCh,0CCh
9DFD:19BB  CC 78 30 30 78 00			db	0CCh, 78h, 30h, 30h, 78h, 00h
9DFD:19C1  FE C6 8C 18 32 66			db	0FEh,0C6h, 8Ch, 18h, 32h, 66h
9DFD:19C7  FE 00 78 60 60 60			db	0FEh, 00h, 78h, 60h, 60h, 60h
9DFD:19CD  60 60 78 00 C0 60			db	 60h, 60h, 78h, 00h,0C0h, 60h
9DFD:19D3  30 18 0C 06 02 00			db	 30h, 18h, 0Ch, 06h, 02h, 00h
9DFD:19D9  78 18 18 18 18 18			db	 78h, 18h, 18h, 18h, 18h, 18h
9DFD:19DF  78 00 10 38 6C C6			db	 78h, 00h, 10h, 38h, 6Ch,0C6h
9DFD:19E5  00 00				db	 00h, 00h
9DFD:19E7  0009[00]				db	9 dup (0)
9DFD:19F0  FF 30 30				db	0FFh, 30h, 30h
9DFD:19F3			loc_301::
9DFD:19F3  18 00				sbb	[bx+si],al
9DFD:19F5  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
9DFD:19FB  78 0C 7C CC 76 00			db	 78h, 0Ch, 7Ch,0CCh, 76h, 00h
9DFD:1A01  E0 60 60 7C 66 66			db	0E0h, 60h, 60h, 7Ch, 66h, 66h
9DFD:1A07  DC 00 00 00 78 CC			db	0DCh, 00h, 00h, 00h, 78h,0CCh
9DFD:1A0D  C0 CC 78 00 1C 0C			db	0C0h,0CCh, 78h, 00h, 1Ch, 0Ch
9DFD:1A13  0C 7C CC CC 76 00			db	 0Ch, 7Ch,0CCh,0CCh, 76h, 00h
9DFD:1A19  00 00 78 CC FC C0			db	 00h, 00h, 78h,0CCh,0FCh,0C0h
9DFD:1A1F  78 00 38 6C 60 F0			db	 78h, 00h, 38h, 6Ch, 60h,0F0h
9DFD:1A25  60 60 F0 00 00 00			db	 60h, 60h,0F0h, 00h, 00h, 00h
9DFD:1A2B  76 CC CC 7C 0C F8			db	 76h,0CCh,0CCh, 7Ch, 0Ch,0F8h
9DFD:1A31  E0 60 6C 76 66 66			db	0E0h, 60h, 6Ch, 76h, 66h, 66h
9DFD:1A37  E6 00 30 00 70 30			db	0E6h, 00h, 30h, 00h, 70h, 30h
9DFD:1A3D  30 30 78 00 0C 00			db	 30h, 30h, 78h, 00h, 0Ch, 00h
9DFD:1A43  0C 0C 0C CC CC 78			db	 0Ch, 0Ch, 0Ch,0CCh,0CCh, 78h
9DFD:1A49  E0 60 66 6C 78 6C			db	0E0h, 60h, 66h, 6Ch, 78h, 6Ch
9DFD:1A4F  E6 00 70 30 30 30			db	0E6h, 00h, 70h, 30h, 30h, 30h
9DFD:1A55  30 30 78 00 00 00			db	 30h, 30h, 78h, 00h, 00h, 00h
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 69

9DFD:1A5B  CC FE FE D6 C6 00			db	0CCh,0FEh,0FEh,0D6h,0C6h, 00h
9DFD:1A61  00 00 F8 CC CC CC			db	 00h, 00h,0F8h,0CCh,0CCh,0CCh
9DFD:1A67  CC 00 00 00 78 CC			db	0CCh, 00h, 00h, 00h, 78h,0CCh
9DFD:1A6D  CC CC 78 00 00 00			db	0CCh,0CCh, 78h, 00h, 00h, 00h
9DFD:1A73  DC 66 66 7C 60 F0			db	0DCh, 66h, 66h, 7Ch, 60h,0F0h
9DFD:1A79  00 00 76 CC CC 7C			db	 00h, 00h, 76h,0CCh,0CCh, 7Ch
9DFD:1A7F  0C 1E 00 00 DC 76			db	 0Ch, 1Eh, 00h, 00h,0DCh, 76h
9DFD:1A85  66 60 F0 00 00 00			db	 66h, 60h,0F0h, 00h, 00h, 00h
9DFD:1A8B  7C C0 78 0C F8 00			db	 7Ch,0C0h, 78h, 0Ch,0F8h, 00h
9DFD:1A91  10 30 7C 30 30 34			db	 10h, 30h, 7Ch, 30h, 30h, 34h
9DFD:1A97  18 00 00 00 CC CC			db	 18h, 00h, 00h, 00h,0CCh,0CCh
9DFD:1A9D  CC CC 76 00 00 00			db	0CCh,0CCh, 76h, 00h, 00h, 00h
9DFD:1AA3  CC CC CC 78 30 00			db	0CCh,0CCh,0CCh, 78h, 30h, 00h
9DFD:1AA9  00 00 C6 D6 FE FE			db	 00h, 00h,0C6h,0D6h,0FEh,0FEh
9DFD:1AAF  6C 00 00 00 C6 6C			db	 6Ch, 00h, 00h, 00h,0C6h, 6Ch
9DFD:1AB5  38 6C C6 00 00 00			db	 38h, 6Ch,0C6h, 00h, 00h, 00h
9DFD:1ABB  CC CC CC 7C 0C F8			db	0CCh,0CCh,0CCh, 7Ch, 0Ch,0F8h
9DFD:1AC1  00 00 FC 98 30 64			db	 00h, 00h,0FCh, 98h, 30h, 64h
9DFD:1AC7  FC 00 1C 30 30 E0			db	0FCh, 00h, 1Ch, 30h, 30h,0E0h
9DFD:1ACD  30 30 1C 00 18 18			db	 30h, 30h, 1Ch, 00h, 18h, 18h
9DFD:1AD3  18 00 18 18 18 00			db	 18h, 00h, 18h, 18h, 18h, 00h
9DFD:1AD9  E0 30 30 1C 30 30			db	0E0h, 30h, 30h, 1Ch, 30h, 30h
9DFD:1ADF  E0 00 76 DC				db	0E0h, 00h, 76h,0DCh
9DFD:1AE3  0007[00]				db	7 dup (0)
9DFD:1AEA  10 38 6C C6 C6 FE			db	 10h, 38h, 6Ch,0C6h,0C6h,0FEh
9DFD:1AF0  0500[00]				db	1280 dup (0)
9DFD:1FF0  EA 17 00 00 FE			db	0EAh, 17h, 00h, 00h,0FEh
9DFD:1FF5  000A[00]				db	10 dup (0)
9DFD:1FFF  81			data_74		db	81h			; Data table (indexed access)
										;  xref 9DFD:146F, 1488

				seg_a		ends



						end	start
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 70


				±±±±±±±±±±±±±±±±±±±± CROSS REFERENCE - KEY ENTRY POINTS ±±±±±±±±±±±±±±±±±±±

				    seg:off    type	   label
				   ---- ----   ----   --------------------------------
				   0000:7C00   far    run_boot_sector
				   029B:04F4   near   system_reset
				   9DFD:0000   far    start
				   F000:6E1C   near   int_unused
				   F000:6E25   near   int_5_prn_scrn
				   F000:6E33   near   int_11h_equip
				   F000:6E3D   near   int_12h_memsiz
				   F000:7087   near   int_75h_math
				   F000:7370   near   int_18h_basic
				   F000:7F76   near   int_0Eh_floppy
				   F000:80E8   near   int_13h_hrd_dsk
				   F000:8886   near   int_77h
				   F000:A0E2   near   int_14h_RS232
				   F000:A5A5   near   int_16h_keybd
				   F000:ABEA   near   int_17h_printer
				   F000:AC96   near   int_1Ah_RTC
				   F000:FF53   near   int_return
				   F000:FFF0   extn   power_on_reset

				 ±±±±±±±±±±±±±±±±±± Interrupt Usage Synopsis ±±±±±±±±±±±±±±±±±±

				        Interrupt 10h : Video display	ah=functn xxh
				        Interrupt 10h :  ah=00h	 set display mode in al
				        Interrupt 10h :  ah=02h	 set cursor location in dx
				        Interrupt 10h :  ah=03h	 get cursor loc in dx, mode cx
				        Interrupt 10h :  ah=08h	 get char al & attrib ah @curs
				        Interrupt 10h :  ah=0Ah	 set char al at present curs
				        Interrupt 10h :  ah=0Eh	 write char al, teletype mode
				        Interrupt 13h : Disk  dl=drive #  ah=func xxh
				        Interrupt 13h :  ah=00h	 reset disk, al=return status
				        Interrupt 13h :  ah=02h	 read sectors to memory es:bx
				        Interrupt 17h : Printer	 dx=prn#, ah=func xxh
				        Interrupt 17h :  ah=01h	 initialize, ah=return status
				        Interrupt 1Bh : Keyboard break (cntrl-break)

				 ±±±±±±±±±±±±±±±±±± I/O Port Usage Synopsis  ±±±±±±±±±±±±±±±±±±

				        Port 0     : DMA-1 bas&add ch 0
				        Port 1     : DMA-1 bas&cnt ch 0
				        Port 2     : DMA-1 bas&add ch 1
				        Port 40h   : 8253 timer	0 clock
				        Port 42h   : 8253 timer	2 spkr
				        Port 43h   : 8253 timer	control
				        Port 60h   : keybd scan	or sw1
				        Port 61h   : 8255 port B, read
				        Port 61h   : 8255 B - spkr, etc
				        Port 61h   :  al = 0, speaker off
				        Port 62h   : 8255 C - sw2, etc.
				        Port 63h   : 8255 mode reg
				        Port 81h   : DMA page reg ch 2
				        Port 89h   : DMA page reg ch 6
				        Port 8Ah   : DMA page reg ch 7
           l286cm5.lst     LDP	REV 1.0 10/30/85	Sourcer	v7.00   13-Oct-22  11:12 pm   Page 71

				        Port 3D4h  : CGA/EGA reg index
				        Port 3D4h  :  al = 0, horiz char total
				        Port 3D4h  :  al = 0Ah,	cursor start, mode
				        Port 3D4h  :  al = 0Bh,	cursor end
				        Port 3D4h  :  al = 10h,	light pen high
				        Port 3D4h  :  al = 11h,	light pen low
				        Port 3D5h  : CGA/EGA indxd data
				        Port 3D8h  : CGA video control
				        Port 3D9h  : CGA color control
				        Port 3DAh  : CGA/EGA vid status
				        Port 3DBh  : CGA light pen clr
				           44 Ocurrences of non-standard I/O ports used (search for ??).

